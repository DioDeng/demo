(function(){"use strict";var e={9973:function(e,t,o){var a=o(9963),n=o(5121),r=o(2346),l=o(8877),s=o(6252);const i={class:"container"};function c(e,t){const o=(0,s.up)("router-link"),a=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("section",i,[(0,s._)("nav",null,[(0,s.Wm)(o,{to:"/login"},{default:(0,s.w5)((()=>[(0,s.Uk)("登入頁面")])),_:1}),(0,s.Uk)(" | "),(0,s.Wm)(o,{to:"/"},{default:(0,s.w5)((()=>[(0,s.Uk)("工單系統")])),_:1}),(0,s.Uk)(" | "),(0,s.Wm)(o,{to:"/about"},{default:(0,s.w5)((()=>[(0,s.Uk)("About")])),_:1})]),(0,s.Wm)(a)])}var d=o(3744);const u={},p=(0,d.Z)(u,[["render",c]]);var m=p,h=o(2201),f=o(3577);const b={class:"home"},_={class:"table table-striped"},k=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{scope:"col"},"#"),(0,s._)("th",{scope:"col"},"狀態"),(0,s._)("th",{scope:"col"},"廠商"),(0,s._)("th",{scope:"col"},"施工地址"),(0,s._)("th",{scope:"col"},"施工日期"),(0,s._)("th",{scope:"col"},"員工"),(0,s._)("th",{scope:"col"},"工地圖"),(0,s._)("th",{scope:"col"},"金額")])],-1),v={scope:"row"},w=(0,s._)("td",null,[(0,s._)("span",{class:"text-danger text-nowrap"},"未完工")],-1),g={class:"text-nowrap"},y={class:"text-nowrap"},x={class:"text-nowrap"},D={class:"text-nowrap"},C=["src"],O={class:"text-nowrap"},U={class:"d-flex justify-content-center"},M=(0,s._)("span",{class:"visually-hidden"},"Loading...",-1),j=[M];function E(e,t,o,a,n,r){const l=(0,s.up)("CreateModel");return(0,s.wg)(),(0,s.iD)("section",b,[(0,s._)("button",{type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=e=>r.openModal())},"創建工單"),(0,s.Wm)(l,{ref:"openModal",product:n.product,onGetData:r.getData},null,8,["product","onGetData"]),(0,s._)("table",_,[k,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.workOrder,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("th",v,(0,f.zw)(t),1),w,(0,s._)("td",g,(0,f.zw)(e.manufacturer),1),(0,s._)("td",y,(0,f.zw)(e.address),1),(0,s._)("td",x,(0,f.zw)(e.date),1),(0,s._)("td",D,(0,f.zw)(e.worker),1),(0,s._)("td",null,[(0,s._)("img",{src:e.imageUrl,alt:""},null,8,C)]),(0,s._)("td",O,(0,f.zw)(e.money),1)])))),128))])]),(0,s._)("div",U,[(0,s._)("div",{class:(0,f.C_)(["spinner-border",{"d-none":!n.isLoading}]),role:"status"},j,2)])])}o(560);const V={class:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1",ref:"workModal"},L={class:"modal-dialog"},$={class:"modal-content"},T=(0,s._)("div",{class:"modal-header"},[(0,s._)("h1",{class:"modal-title fs-5"},"Modal title"),(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),A={class:"modal-body"},P=(0,s._)("h4",null,"廠商：",-1),S={class:"mb-3"},z=(0,s.uE)('<option disabled selected>選擇廠商</option><option value="台積電">台積電</option><option value="聯發科">聯發科</option><option value="永泰">永泰</option><option value="黑貓">黑貓</option>',5),N=[z],W=(0,s._)("h4",null,"金額：",-1),Z={class:"input-group mb-3"},q=(0,s._)("span",{class:"input-group-text"},"$",-1),F=(0,s._)("span",{class:"input-group-text"},".00",-1),B=(0,s._)("h4",null,"工人：",-1),G={class:"container"},H={class:"row row-cols-3 row-cols-md-4 g-3 mb-3"},K={class:"form-check"},Y=(0,s._)("label",{class:"form-check-label",for:"flexCheckDefault"}," 小華 ",-1),I={class:"form-check"},J=(0,s._)("label",{class:"form-check-label",for:"flexCheckChecked"}," 小明 ",-1),Q={class:"form-check"},R=(0,s._)("label",{class:"form-check-label",for:"flexCheckChecked1"}," 阿美 ",-1),X={class:"form-check"},ee=(0,s._)("label",{class:"form-check-label",for:"flexCheckChecked2"}," 阿凱 ",-1),te={class:"mb-3"},oe=(0,s._)("label",{for:"exampleFormControlTextarea1",class:"form-label h4"},"施工地址：",-1),ae={class:"mb-3 container"},ne=(0,s._)("label",{for:"formControlBirth",class:"form-label h4"},"施工日期：",-1),re={class:"container mb-3"},le=(0,s._)("label",{for:"img",class:"form-label h4"},"圖片網址：",-1),se={class:"container"},ie=["src"],ce={class:"modal-footer"},de=(0,s._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),ue=(0,s._)("span",{class:"visually-hidden"},"Loading...",-1),pe=[ue];function me(e,t,o,n,r,l){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",V,[(0,s._)("div",L,[(0,s._)("div",$,[T,(0,s._)("div",A,[P,(0,s._)("div",S,[(0,s.wy)((0,s._)("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":t[0]||(t[0]=e=>r.tempData.manufacturer=e)},N,512),[[a.bM,r.tempData.manufacturer]])]),W,(0,s._)("div",Z,[q,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>r.tempData.money=e),"aria-label":"Amount (to the nearest dollar)"},null,512),[[a.nr,r.tempData.money]]),F]),B,(0,s._)("section",G,[(0,s._)("div",H,[(0,s._)("div",K,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"checkbox",value:"小華",id:"flexCheckDefault","onUpdate:modelValue":t[2]||(t[2]=e=>r.tempData.worker=e)},null,512),[[a.e8,r.tempData.worker]]),Y]),(0,s._)("div",I,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"checkbox",value:"小明",id:"flexCheckChecked","onUpdate:modelValue":t[3]||(t[3]=e=>r.tempData.worker=e)},null,512),[[a.e8,r.tempData.worker]]),J]),(0,s._)("div",Q,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"checkbox",value:"阿美",id:"flexCheckChecked1","onUpdate:modelValue":t[4]||(t[4]=e=>r.tempData.worker=e)},null,512),[[a.e8,r.tempData.worker]]),R]),(0,s._)("div",X,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"checkbox",value:"阿凱",id:"flexCheckChecked2","onUpdate:modelValue":t[5]||(t[5]=e=>r.tempData.worker=e)},null,512),[[a.e8,r.tempData.worker]]),ee])])]),(0,s._)("div",te,[oe,(0,s.wy)((0,s._)("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3","onUpdate:modelValue":t[6]||(t[6]=e=>r.tempData.address=e)},null,512),[[a.nr,r.tempData.address]])])]),(0,s._)("div",ae,[ne,(0,s.Wm)(i,{id:"formControlBirth",format:"yyyy-MM-dd",flow:r.flow,"enable-time-picker":!1,modelValue:r.tempData.date,"onUpdate:modelValue":t[7]||(t[7]=e=>r.tempData.date=e)},null,8,["flow","modelValue"])]),(0,s._)("div",null,[(0,s._)("div",re,[le,(0,s.wy)((0,s._)("input",{type:"email",class:"form-control",id:"img",placeholder:"https://fakeimg.pl/300/","onUpdate:modelValue":t[8]||(t[8]=e=>r.tempData.imageUrl=e)},null,512),[[a.nr,r.tempData.imageUrl]])]),(0,s._)("div",se,[(0,s._)("img",{src:r.tempData.imageUrl,alt:""},null,8,ie)])]),(0,s._)("div",ce,[de,(0,s._)("button",{type:"button",class:(0,f.C_)(["btn btn-primary",{"d-none":r.isLoading}]),onClick:t[9]||(t[9]=(...e)=>l.createEdit&&l.createEdit(...e))}," 創建 ",2),(0,s._)("div",{class:(0,f.C_)(["spinner-border",{"d-none":!r.isLoading}]),role:"status"},pe,2)])])])],512)}var he=o(9436),fe={data(){return{modal:"",isLoading:!1,flow:["year","month","calender"],tempData:{title:"lulu",category:"ooo",origin_price:900,price:12,unit:"嘅",description:"Sit down please 名設計師設計",content:"luu so cute",is_enabled:1,manufacturer:"",worker:[],address:"",money:0,date:"",imageUrl:"https://fakeimg.pl/100/"}}},components:{VueDatePicker:he.Z},methods:{showModal(){this.modal.show()},hideModal(){this.modal.hide()},createEdit(){this.isLoading=!0;const e="https://ec-course-api.hexschool.io/v2/api/testqq/admin/product";this.$http.post(e,{data:this.tempData}).then((e=>{e.data.success&&(this.isLoading=!1,this.tempData.manufacturer="",this.tempData.worker=[],this.tempData.address="",this.tempData.date="",this.tempData.imageUrl="",this.hideModal(),this.$emit("getData"))}))}},mounted(){this.modal=new l.u_(this.$refs.workModal)}};const be=(0,d.Z)(fe,[["render",me]]);var _e=be,ke={data(){return{isLoading:!1,isNew:!1,product:{},workOrder:[]}},name:"HomeView",components:{CreateModel:_e},methods:{checkAuth(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)testToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(e){this.$http.defaults.headers.common.Authorization=`${e}`;const t="https://ec-course-api.hexschool.io/v2/api/user/check";this.$http.post(t,{api_token:this.token}).then((e=>{e.data.success&&this.getData()}))}else alert("尚未登入"),this.$router.push("./login")},getData(){this.isLoading=!0;const e="https://ec-course-api.hexschool.io/v2/api/testqq/admin/products/all";this.$http.get(e).then((e=>{this.workOrder=Object.values(e.data.products),this.workOrder.forEach((e=>{e.date=e.date.substr(0,10)})),this.isLoading=!1})).catch((e=>{console.log(e)}))},openModal(e,t){this.isNew=e,this.isNew?this.product={imagesUrl:[]}:this.product={...t},this.$refs.openModal.showModal()}},mounted(){this.checkAuth()}};const ve=(0,d.Z)(ke,[["render",E]]);var we=ve;const ge=[{path:"/",name:"home",component:we},{path:"/about",name:"about",component:()=>o.e(443).then(o.bind(o,833))},{path:"/login",name:"login",component:()=>o.e(642).then(o.bind(o,4642))}],ye=(0,h.p7)({history:(0,h.r5)(),routes:ge});var xe=ye;const De=(0,a.ri)(m);De.use(r.Z,n.Z),De.use(xe),De.mount("#app")}},t={};function o(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=e,function(){o.amdO={}}(),function(){var e=[];o.O=function(t,a,n,r){if(!a){var l=1/0;for(d=0;d<e.length;d++){a=e[d][0],n=e[d][1],r=e[d][2];for(var s=!0,i=0;i<a.length;i++)(!1&r||l>=r)&&Object.keys(o.O).every((function(e){return o.O[e](a[i])}))?a.splice(i--,1):(s=!1,r<l&&(l=r));if(s){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,n,r]}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,a){return o.f[a](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/"+(443===e?"about":e)+"."+{443:"de47e969",642:"d79f692b"}[e]+".js"}}(),function(){o.miniCssF=function(e){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="demo:";o.l=function(a,n,r,l){if(e[a])e[a].push(n);else{var s,i;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+r){s=u;break}}s||(i=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+r),s.src=a),e[a]=[n];var p=function(t,o){s.onerror=s.onload=null,clearTimeout(m);var n=e[a];if(delete e[a],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((function(e){return e(o)})),t)return t(o)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),i&&document.head.appendChild(s)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p=""}(),function(){var e={143:0};o.f.j=function(t,a){var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var r=new Promise((function(o,a){n=e[t]=[o,a]}));a.push(n[2]=r);var l=o.p+o.u(t),s=new Error,i=function(a){if(o.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var r=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+l+")",s.name="ChunkLoadError",s.type=r,s.request=l,n[1](s)}};o.l(l,i,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,r,l=a[0],s=a[1],i=a[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(i)var d=i(o)}for(t&&t(a);c<l.length;c++)r=l[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},a=self["webpackChunkdemo"]=self["webpackChunkdemo"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(9973)}));a=o.O(a)})();
//# sourceMappingURL=app.c61f6bd5.js.map