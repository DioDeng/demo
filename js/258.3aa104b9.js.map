{"version":3,"file":"js/258.3aa104b9.js","mappings":"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","sources":["webpack://demo/./src/views/HomeView.vue","webpack://demo/./src/components/home/InfoCard.vue","webpack://demo/./src/components/home/InfoCard.vue?8620","webpack://demo/./src/components/home/D3Model.vue","webpack://demo/./node_modules/@kurkle/color/dist/color.esm.js","webpack://demo/./node_modules/chart.js/dist/chunks/helpers.segment.js","webpack://demo/./node_modules/chart.js/dist/chart.js","webpack://demo/./node_modules/vue-chartjs/dist/index.js","webpack://demo/./src/components/home/D3Model.vue?3800","webpack://demo/./src/components/home/CaseModel.vue","webpack://demo/./src/components/home/CaseModel.vue?3f6d","webpack://demo/./src/components/home/BarModel.vue","webpack://demo/./src/components/home/BarModel.vue?9139","webpack://demo/./src/components/home/LineModel.vue","webpack://demo/./src/components/home/LineModel.vue?1dab","webpack://demo/./src/components/home/CalendarModel.vue","webpack://demo/./node_modules/preact/dist/preact.module.js","webpack://demo/./node_modules/preact/hooks/dist/hooks.module.js","webpack://demo/./node_modules/preact/compat/dist/compat.module.js","webpack://demo/./node_modules/@fullcalendar/core/internal-common.js","webpack://demo/./node_modules/@fullcalendar/core/index.js","webpack://demo/./node_modules/@fullcalendar/vue3/dist/options.js","webpack://demo/./node_modules/@fullcalendar/vue3/dist/FullCalendar.js","webpack://demo/./node_modules/@fullcalendar/vue3/dist/index.js","webpack://demo/./node_modules/@fullcalendar/daygrid/internal.js","webpack://demo/./node_modules/@fullcalendar/daygrid/index.js","webpack://demo/./src/components/home/CalendarModel.vue?8e83","webpack://demo/./src/views/HomeView.vue?1da1"],"sourcesContent":["<template>\n  <Infor class=\"mb-5\" />\n  <Bar class=\"mb-5\" />\n  <Case class=\"mb-5\" />\n  <div class=\"row row-cols-1 row-cols-md-2 g-4 mb-5\">\n    <div class=\"col\">\n      <div class=\"card h-100\">\n        <Q1 />\n      </div>\n    </div>\n    <div class=\"col\">\n      <div class=\"card h-100\">\n        <Line/>\n      </div>\n    </div>\n  </div>\n  <div class=\"row row-cols-1 row-cols-md-2 g-4 mb-5\">\n    <div class=\"col\">\n      <div class=\"card h-100\">\n        <Calendar />\n      </div>\n    </div>\n    <div class=\"col\">\n      <div class=\"card h-100\">\n        <h3 class=\"text-center\">這邊會做一個備忘錄功能(未完成)</h3>\n        <ul>\n          <li>今日代辦事項1</li>\n          <li>今日代辦事項2</li>\n          <li>今日代辦事項3</li>\n          <li>今日代辦事項4</li>\n          <li>今日代辦事項5</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Infor from '@/components/home/InfoCard.vue';\nimport Bar from '@/components/home/D3Model.vue';\nimport Case from '@/components/home/CaseModel.vue';\nimport Q1 from '@/components/home/BarModel.vue';\nimport Line from '@/components/home/LineModel.vue';\nimport Calendar from '@/components/home/CalendarModel.vue';\n\nexport default {\n  components: {\n    Infor,\n    Bar,\n    Case,\n    Q1,\n    Line,\n    Calendar,\n  },\n};\n</script>\n","<template>\n  <div class=\"row row-cols-1 row-cols-sm-4 g-4 pt-4\">\n    <template v-for=\"(item, index) in inforList\" :key=\"index\">\n      <div class=\"col\">\n        <div\n          class=\"card h-100 border\"\n          :class=\"item.bg\"\n        >\n          <div class=\"card-header text-center h5\">{{ item.name }}</div>\n          <div class=\"card-body position-relative \">\n            <i class=\"opacity-50 position-absolute top-0 h1 start-0 p-3\" :class=\"item.icon\"></i>\n            <div class=\"card-text py-4 d-flex flex-column align-items-center\">\n                <div class=\"h1\">\n                    {{ this.$toCurrency(item.num) }}\n                </div>\n                <h6>{{item.description}}</h6>\n            </div>\n          </div>\n          <div class=\"card-footer\">{{ item.content }}</div>\n        </div>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      inforList: [\n        {\n          name: '案子',\n          num: 66,\n          icon: 'bi bi-file-text',\n          content: '2023度案子數量',\n          description: '+13% 至上週',\n          bg: 'border-primary-subtle text-primary-emphasis bg-primary-subtle',\n        },\n        {\n          name: '總金額',\n          num: 8888888,\n          icon: 'fa-solid fa-dollar-sign',\n          content: '2023度案子總金額',\n          description: '+30% 至上週',\n          bg: 'border-success-subtle text-success-emphasis bg-success-subtle',\n        },\n        {\n          name: '工人',\n          num: 80,\n          icon: 'fa-solid fa-users',\n          content: '公司員工',\n          bg: 'border-warning-subtle text-warning-emphasis bg-warning-subtle',\n        },\n        {\n          name: '廠商',\n          num: 26,\n          icon: 'bi bi-buildings',\n          content: '合作廠商',\n          bg: 'border-dark-subtle text-dark-emphasis bg-dark-subtle',\n        },\n      ],\n    };\n  },\n};\n</script>\n","import { render } from \"./InfoCard.vue?vue&type=template&id=f830115a\"\nimport script from \"./InfoCard.vue?vue&type=script&lang=js\"\nexport * from \"./InfoCard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <Bar id=\"my-chart-id\" :options=\"chartOptions\" :data=\"chartData\" />\n</template>\n\n<script>\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { Bar } from 'vue-chartjs';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport {\n  Chart as ChartJS,\n  Title,\n  Tooltip,\n  Legend,\n  BarElement,\n  CategoryScale,\n  LinearScale,\n} from 'chart.js';\n\nChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\n\nexport default {\n  name: 'BarChart',\n  components: { Bar },\n  data() {\n    return {\n      chartData: {\n        labels: [\n          'January',\n          'February',\n          'March',\n          'April',\n          'May',\n          'June',\n          'July',\n          'August',\n          'September',\n          'October',\n          'November',\n          'December',\n        ],\n        datasets: [\n          {\n            label: '2023年度月收收入',\n            backgroundColor: '#478058',\n            data: [40, 30, 72, 39, 100, 40, 59, 80, 40, 60, 42, 21],\n          },\n          {\n            label: '2023年度月收支出',\n            backgroundColor: '#f87979',\n            data: [10, 20, 12, 19, 10, 20, 19, 10, 23, 16, 22, 20],\n          },\n        ],\n      },\n      chartOptions: {\n        responsive: true,\n      },\n    };\n  },\n};\n</script>\n","/*!\n * @kurkle/color v0.3.2\n * https://github.com/kurkle/color#readme\n * (c) 2023 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction b2p(v) {\n  return lim(round(v / 2.55), 0, 100);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\n\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\n\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\n\nconst map = {\n  x: 'dark',\n  Z: 'light',\n  Y: 're',\n  X: 'blu',\n  W: 'gr',\n  V: 'medium',\n  U: 'slate',\n  A: 'ee',\n  T: 'ol',\n  S: 'or',\n  B: 'ra',\n  C: 'lateg',\n  D: 'ights',\n  R: 'in',\n  Q: 'turquois',\n  E: 'hi',\n  P: 'ro',\n  O: 'al',\n  N: 'le',\n  M: 'de',\n  L: 'yello',\n  F: 'en',\n  K: 'ch',\n  G: 'arks',\n  H: 'ea',\n  I: 'ightg',\n  J: 'wh'\n};\nconst names$1 = {\n  OiceXe: 'f0f8ff',\n  antiquewEte: 'faebd7',\n  aqua: 'ffff',\n  aquamarRe: '7fffd4',\n  azuY: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '0',\n  blanKedOmond: 'ffebcd',\n  Xe: 'ff',\n  XeviTet: '8a2be2',\n  bPwn: 'a52a2a',\n  burlywood: 'deb887',\n  caMtXe: '5f9ea0',\n  KartYuse: '7fff00',\n  KocTate: 'd2691e',\n  cSO: 'ff7f50',\n  cSnflowerXe: '6495ed',\n  cSnsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: 'ffff',\n  xXe: '8b',\n  xcyan: '8b8b',\n  xgTMnPd: 'b8860b',\n  xWay: 'a9a9a9',\n  xgYF: '6400',\n  xgYy: 'a9a9a9',\n  xkhaki: 'bdb76b',\n  xmagFta: '8b008b',\n  xTivegYF: '556b2f',\n  xSange: 'ff8c00',\n  xScEd: '9932cc',\n  xYd: '8b0000',\n  xsOmon: 'e9967a',\n  xsHgYF: '8fbc8f',\n  xUXe: '483d8b',\n  xUWay: '2f4f4f',\n  xUgYy: '2f4f4f',\n  xQe: 'ced1',\n  xviTet: '9400d3',\n  dAppRk: 'ff1493',\n  dApskyXe: 'bfff',\n  dimWay: '696969',\n  dimgYy: '696969',\n  dodgerXe: '1e90ff',\n  fiYbrick: 'b22222',\n  flSOwEte: 'fffaf0',\n  foYstWAn: '228b22',\n  fuKsia: 'ff00ff',\n  gaRsbSo: 'dcdcdc',\n  ghostwEte: 'f8f8ff',\n  gTd: 'ffd700',\n  gTMnPd: 'daa520',\n  Way: '808080',\n  gYF: '8000',\n  gYFLw: 'adff2f',\n  gYy: '808080',\n  honeyMw: 'f0fff0',\n  hotpRk: 'ff69b4',\n  RdianYd: 'cd5c5c',\n  Rdigo: '4b0082',\n  ivSy: 'fffff0',\n  khaki: 'f0e68c',\n  lavFMr: 'e6e6fa',\n  lavFMrXsh: 'fff0f5',\n  lawngYF: '7cfc00',\n  NmoncEffon: 'fffacd',\n  ZXe: 'add8e6',\n  ZcSO: 'f08080',\n  Zcyan: 'e0ffff',\n  ZgTMnPdLw: 'fafad2',\n  ZWay: 'd3d3d3',\n  ZgYF: '90ee90',\n  ZgYy: 'd3d3d3',\n  ZpRk: 'ffb6c1',\n  ZsOmon: 'ffa07a',\n  ZsHgYF: '20b2aa',\n  ZskyXe: '87cefa',\n  ZUWay: '778899',\n  ZUgYy: '778899',\n  ZstAlXe: 'b0c4de',\n  ZLw: 'ffffe0',\n  lime: 'ff00',\n  limegYF: '32cd32',\n  lRF: 'faf0e6',\n  magFta: 'ff00ff',\n  maPon: '800000',\n  VaquamarRe: '66cdaa',\n  VXe: 'cd',\n  VScEd: 'ba55d3',\n  VpurpN: '9370db',\n  VsHgYF: '3cb371',\n  VUXe: '7b68ee',\n  VsprRggYF: 'fa9a',\n  VQe: '48d1cc',\n  VviTetYd: 'c71585',\n  midnightXe: '191970',\n  mRtcYam: 'f5fffa',\n  mistyPse: 'ffe4e1',\n  moccasR: 'ffe4b5',\n  navajowEte: 'ffdead',\n  navy: '80',\n  Tdlace: 'fdf5e6',\n  Tive: '808000',\n  TivedBb: '6b8e23',\n  Sange: 'ffa500',\n  SangeYd: 'ff4500',\n  ScEd: 'da70d6',\n  pOegTMnPd: 'eee8aa',\n  pOegYF: '98fb98',\n  pOeQe: 'afeeee',\n  pOeviTetYd: 'db7093',\n  papayawEp: 'ffefd5',\n  pHKpuff: 'ffdab9',\n  peru: 'cd853f',\n  pRk: 'ffc0cb',\n  plum: 'dda0dd',\n  powMrXe: 'b0e0e6',\n  purpN: '800080',\n  YbeccapurpN: '663399',\n  Yd: 'ff0000',\n  Psybrown: 'bc8f8f',\n  PyOXe: '4169e1',\n  saddNbPwn: '8b4513',\n  sOmon: 'fa8072',\n  sandybPwn: 'f4a460',\n  sHgYF: '2e8b57',\n  sHshell: 'fff5ee',\n  siFna: 'a0522d',\n  silver: 'c0c0c0',\n  skyXe: '87ceeb',\n  UXe: '6a5acd',\n  UWay: '708090',\n  UgYy: '708090',\n  snow: 'fffafa',\n  sprRggYF: 'ff7f',\n  stAlXe: '4682b4',\n  tan: 'd2b48c',\n  teO: '8080',\n  tEstN: 'd8bfd8',\n  tomato: 'ff6347',\n  Qe: '40e0d0',\n  viTet: 'ee82ee',\n  JHt: 'f5deb3',\n  wEte: 'ffffff',\n  wEtesmoke: 'f5f5f5',\n  Lw: 'ffff00',\n  LwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\n\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\n\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\n\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\n\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\n\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nexport { Color, b2n, b2p, index_esm as default, hexParse, hexString, hsl2rgb, hslString, hsv2rgb, hueParse, hwb2rgb, lim, n2b, n2p, nameParse, p2b, rgb2hsl, rgbParse, rgbString, rotate, round };\n","/*!\n * Chart.js v4.4.0\n * https://www.chartjs.org\n * (c) 2023 Chart.js Contributors\n * Released under the MIT License\n */\nimport { Color } from '@kurkle/color';\n\n/**\n * @namespace Chart.helpers\n */ /**\n * An empty function that can be used, for example, for optional callback.\n */ function noop() {\n/* noop */ }\n/**\n * Returns a unique id, sequentially generated from a global variable.\n */ const uid = (()=>{\n    let id = 0;\n    return ()=>id++;\n})();\n/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */ function isNullOrUndef(value) {\n    return value === null || typeof value === 'undefined';\n}\n/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */ function isArray(value) {\n    if (Array.isArray && Array.isArray(value)) {\n        return true;\n    }\n    const type = Object.prototype.toString.call(value);\n    if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n        return true;\n    }\n    return false;\n}\n/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */ function isObject(value) {\n    return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */ function isNumberFinite(value) {\n    return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n}\n/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */ function finiteOrDefault(value, defaultValue) {\n    return isNumberFinite(value) ? value : defaultValue;\n}\n/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */ function valueOrDefault(value, defaultValue) {\n    return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension)=>typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 : +value / dimension;\nconst toDimension = (value, dimension)=>typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 * dimension : +value;\n/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */ function callback(fn, args, thisArg) {\n    if (fn && typeof fn.call === 'function') {\n        return fn.apply(thisArg, args);\n    }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n    let i, len, keys;\n    if (isArray(loopable)) {\n        len = loopable.length;\n        if (reverse) {\n            for(i = len - 1; i >= 0; i--){\n                fn.call(thisArg, loopable[i], i);\n            }\n        } else {\n            for(i = 0; i < len; i++){\n                fn.call(thisArg, loopable[i], i);\n            }\n        }\n    } else if (isObject(loopable)) {\n        keys = Object.keys(loopable);\n        len = keys.length;\n        for(i = 0; i < len; i++){\n            fn.call(thisArg, loopable[keys[i]], keys[i]);\n        }\n    }\n}\n/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */ function _elementsEqual(a0, a1) {\n    let i, ilen, v0, v1;\n    if (!a0 || !a1 || a0.length !== a1.length) {\n        return false;\n    }\n    for(i = 0, ilen = a0.length; i < ilen; ++i){\n        v0 = a0[i];\n        v1 = a1[i];\n        if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */ function clone(source) {\n    if (isArray(source)) {\n        return source.map(clone);\n    }\n    if (isObject(source)) {\n        const target = Object.create(null);\n        const keys = Object.keys(source);\n        const klen = keys.length;\n        let k = 0;\n        for(; k < klen; ++k){\n            target[keys[k]] = clone(source[keys[k]]);\n        }\n        return target;\n    }\n    return source;\n}\nfunction isValidKey(key) {\n    return [\n        '__proto__',\n        'prototype',\n        'constructor'\n    ].indexOf(key) === -1;\n}\n/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */ function _merger(key, target, source, options) {\n    if (!isValidKey(key)) {\n        return;\n    }\n    const tval = target[key];\n    const sval = source[key];\n    if (isObject(tval) && isObject(sval)) {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        merge(tval, sval, options);\n    } else {\n        target[key] = clone(sval);\n    }\n}\nfunction merge(target, source, options) {\n    const sources = isArray(source) ? source : [\n        source\n    ];\n    const ilen = sources.length;\n    if (!isObject(target)) {\n        return target;\n    }\n    options = options || {};\n    const merger = options.merger || _merger;\n    let current;\n    for(let i = 0; i < ilen; ++i){\n        current = sources[i];\n        if (!isObject(current)) {\n            continue;\n        }\n        const keys = Object.keys(current);\n        for(let k = 0, klen = keys.length; k < klen; ++k){\n            merger(keys[k], target, current, options);\n        }\n    }\n    return target;\n}\nfunction mergeIf(target, source) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    return merge(target, source, {\n        merger: _mergerIf\n    });\n}\n/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */ function _mergerIf(key, target, source) {\n    if (!isValidKey(key)) {\n        return;\n    }\n    const tval = target[key];\n    const sval = source[key];\n    if (isObject(tval) && isObject(sval)) {\n        mergeIf(tval, sval);\n    } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n        target[key] = clone(sval);\n    }\n}\n/**\n * @private\n */ function _deprecated(scope, value, previous, current) {\n    if (value !== undefined) {\n        console.warn(scope + ': \"' + previous + '\" is deprecated. Please use \"' + current + '\" instead');\n    }\n}\n// resolveObjectKey resolver cache\nconst keyResolvers = {\n    // Chart.helpers.core resolveObjectKey should resolve empty key to root object\n    '': (v)=>v,\n    // default resolvers\n    x: (o)=>o.x,\n    y: (o)=>o.y\n};\n/**\n * @private\n */ function _splitKey(key) {\n    const parts = key.split('.');\n    const keys = [];\n    let tmp = '';\n    for (const part of parts){\n        tmp += part;\n        if (tmp.endsWith('\\\\')) {\n            tmp = tmp.slice(0, -1) + '.';\n        } else {\n            keys.push(tmp);\n            tmp = '';\n        }\n    }\n    return keys;\n}\nfunction _getKeyResolver(key) {\n    const keys = _splitKey(key);\n    return (obj)=>{\n        for (const k of keys){\n            if (k === '') {\n                break;\n            }\n            obj = obj && obj[k];\n        }\n        return obj;\n    };\n}\nfunction resolveObjectKey(obj, key) {\n    const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n    return resolver(obj);\n}\n/**\n * @private\n */ function _capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value)=>typeof value !== 'undefined';\nconst isFunction = (value)=>typeof value === 'function';\n// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nconst setsEqual = (a, b)=>{\n    if (a.size !== b.size) {\n        return false;\n    }\n    for (const item of a){\n        if (!b.has(item)) {\n            return false;\n        }\n    }\n    return true;\n};\n/**\n * @param e - The event\n * @private\n */ function _isClickEvent(e) {\n    return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n\n/**\n * @alias Chart.helpers.math\n * @namespace\n */ const PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction almostEquals(x, y, epsilon) {\n    return Math.abs(x - y) < epsilon;\n}\n/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */ function niceNum(range) {\n    const roundedRange = Math.round(range);\n    range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n    const niceRange = Math.pow(10, Math.floor(log10(range)));\n    const fraction = range / niceRange;\n    const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n    return niceFraction * niceRange;\n}\n/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */ function _factorize(value) {\n    const result = [];\n    const sqrt = Math.sqrt(value);\n    let i;\n    for(i = 1; i < sqrt; i++){\n        if (value % i === 0) {\n            result.push(i);\n            result.push(value / i);\n        }\n    }\n    if (sqrt === (sqrt | 0)) {\n        result.push(sqrt);\n    }\n    result.sort((a, b)=>a - b).pop();\n    return result;\n}\nfunction isNumber(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostWhole(x, epsilon) {\n    const rounded = Math.round(x);\n    return rounded - epsilon <= x && rounded + epsilon >= x;\n}\n/**\n * @private\n */ function _setMinAndMaxByKey(array, target, property) {\n    let i, ilen, value;\n    for(i = 0, ilen = array.length; i < ilen; i++){\n        value = array[i][property];\n        if (!isNaN(value)) {\n            target.min = Math.min(target.min, value);\n            target.max = Math.max(target.max, value);\n        }\n    }\n}\nfunction toRadians(degrees) {\n    return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n    return radians * (180 / PI);\n}\n/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */ function _decimalPlaces(x) {\n    if (!isNumberFinite(x)) {\n        return;\n    }\n    let e = 1;\n    let p = 0;\n    while(Math.round(x * e) / e !== x){\n        e *= 10;\n        p++;\n    }\n    return p;\n}\n// Gets the angle from vertical upright to the point about a centre.\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n    const distanceFromXCenter = anglePoint.x - centrePoint.x;\n    const distanceFromYCenter = anglePoint.y - centrePoint.y;\n    const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n    let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n    if (angle < -0.5 * PI) {\n        angle += TAU; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n    }\n    return {\n        angle,\n        distance: radialDistanceFromCenter\n    };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n    return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n/**\n * Shortest distance between angles, in either direction.\n * @private\n */ function _angleDiff(a, b) {\n    return (a - b + PITAU) % TAU - PI;\n}\n/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */ function _normalizeAngle(a) {\n    return (a % TAU + TAU) % TAU;\n}\n/**\n * @private\n */ function _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n    const a = _normalizeAngle(angle);\n    const s = _normalizeAngle(start);\n    const e = _normalizeAngle(end);\n    const angleToStart = _normalizeAngle(s - a);\n    const angleToEnd = _normalizeAngle(e - a);\n    const startToAngle = _normalizeAngle(a - s);\n    const endToAngle = _normalizeAngle(a - e);\n    return a === s || a === e || sameAngleIsFullCircle && s === e || angleToStart > angleToEnd && startToAngle < endToAngle;\n}\n/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */ function _limitValue(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n}\n/**\n * @param {number} value\n * @private\n */ function _int16Range(value) {\n    return _limitValue(value, -32768, 32767);\n}\n/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */ function _isBetween(value, start, end, epsilon = 1e-6) {\n    return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n\nfunction _lookup(table, value, cmp) {\n    cmp = cmp || ((index)=>table[index] < value);\n    let hi = table.length - 1;\n    let lo = 0;\n    let mid;\n    while(hi - lo > 1){\n        mid = lo + hi >> 1;\n        if (cmp(mid)) {\n            lo = mid;\n        } else {\n            hi = mid;\n        }\n    }\n    return {\n        lo,\n        hi\n    };\n}\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */ const _lookupByKey = (table, key, value, last)=>_lookup(table, value, last ? (index)=>{\n        const ti = table[index][key];\n        return ti < value || ti === value && table[index + 1][key] === value;\n    } : (index)=>table[index][key] < value);\n/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */ const _rlookupByKey = (table, key, value)=>_lookup(table, value, (index)=>table[index][key] >= value);\n/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */ function _filterBetween(values, min, max) {\n    let start = 0;\n    let end = values.length;\n    while(start < end && values[start] < min){\n        start++;\n    }\n    while(end > start && values[end - 1] > max){\n        end--;\n    }\n    return start > 0 || end < values.length ? values.slice(start, end) : values;\n}\nconst arrayEvents = [\n    'push',\n    'pop',\n    'shift',\n    'splice',\n    'unshift'\n];\nfunction listenArrayEvents(array, listener) {\n    if (array._chartjs) {\n        array._chartjs.listeners.push(listener);\n        return;\n    }\n    Object.defineProperty(array, '_chartjs', {\n        configurable: true,\n        enumerable: false,\n        value: {\n            listeners: [\n                listener\n            ]\n        }\n    });\n    arrayEvents.forEach((key)=>{\n        const method = '_onData' + _capitalize(key);\n        const base = array[key];\n        Object.defineProperty(array, key, {\n            configurable: true,\n            enumerable: false,\n            value (...args) {\n                const res = base.apply(this, args);\n                array._chartjs.listeners.forEach((object)=>{\n                    if (typeof object[method] === 'function') {\n                        object[method](...args);\n                    }\n                });\n                return res;\n            }\n        });\n    });\n}\nfunction unlistenArrayEvents(array, listener) {\n    const stub = array._chartjs;\n    if (!stub) {\n        return;\n    }\n    const listeners = stub.listeners;\n    const index = listeners.indexOf(listener);\n    if (index !== -1) {\n        listeners.splice(index, 1);\n    }\n    if (listeners.length > 0) {\n        return;\n    }\n    arrayEvents.forEach((key)=>{\n        delete array[key];\n    });\n    delete array._chartjs;\n}\n/**\n * @param items\n */ function _arrayUnique(items) {\n    const set = new Set(items);\n    if (set.size === items.length) {\n        return items;\n    }\n    return Array.from(set);\n}\n\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n    return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n/**\n* Request animation polyfill\n*/ const requestAnimFrame = function() {\n    if (typeof window === 'undefined') {\n        return function(callback) {\n            return callback();\n        };\n    }\n    return window.requestAnimationFrame;\n}();\n/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */ function throttled(fn, thisArg) {\n    let argsToUse = [];\n    let ticking = false;\n    return function(...args) {\n        // Save the args for use later\n        argsToUse = args;\n        if (!ticking) {\n            ticking = true;\n            requestAnimFrame.call(window, ()=>{\n                ticking = false;\n                fn.apply(thisArg, argsToUse);\n            });\n        }\n    };\n}\n/**\n * Debounces calling `fn` for `delay` ms\n */ function debounce(fn, delay) {\n    let timeout;\n    return function(...args) {\n        if (delay) {\n            clearTimeout(timeout);\n            timeout = setTimeout(fn, delay, args);\n        } else {\n            fn.apply(this, args);\n        }\n        return delay;\n    };\n}\n/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */ const _toLeftRightCenter = (align)=>align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */ const _alignStartEnd = (align, start, end)=>align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */ const _textX = (align, left, right, rtl)=>{\n    const check = rtl ? 'left' : 'right';\n    return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n/**\n * Return start and count of visible points.\n * @private\n */ function _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n    const pointCount = points.length;\n    let start = 0;\n    let count = pointCount;\n    if (meta._sorted) {\n        const { iScale , _parsed  } = meta;\n        const axis = iScale.axis;\n        const { min , max , minDefined , maxDefined  } = iScale.getUserBounds();\n        if (minDefined) {\n            start = _limitValue(Math.min(// @ts-expect-error Need to type _parsed\n            _lookupByKey(_parsed, axis, min).lo, // @ts-expect-error Need to fix types on _lookupByKey\n            animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo), 0, pointCount - 1);\n        }\n        if (maxDefined) {\n            count = _limitValue(Math.max(// @ts-expect-error Need to type _parsed\n            _lookupByKey(_parsed, iScale.axis, max, true).hi + 1, // @ts-expect-error Need to fix types on _lookupByKey\n            animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1), start, pointCount) - start;\n        } else {\n            count = pointCount - start;\n        }\n    }\n    return {\n        start,\n        count\n    };\n}\n/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */ function _scaleRangesChanged(meta) {\n    const { xScale , yScale , _scaleRanges  } = meta;\n    const newRanges = {\n        xmin: xScale.min,\n        xmax: xScale.max,\n        ymin: yScale.min,\n        ymax: yScale.max\n    };\n    if (!_scaleRanges) {\n        meta._scaleRanges = newRanges;\n        return true;\n    }\n    const changed = _scaleRanges.xmin !== xScale.min || _scaleRanges.xmax !== xScale.max || _scaleRanges.ymin !== yScale.min || _scaleRanges.ymax !== yScale.max;\n    Object.assign(_scaleRanges, newRanges);\n    return changed;\n}\n\nconst atEdge = (t)=>t === 0 || t === 1;\nconst elasticIn = (t, s, p)=>-(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p)=>Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */ const effects = {\n    linear: (t)=>t,\n    easeInQuad: (t)=>t * t,\n    easeOutQuad: (t)=>-t * (t - 2),\n    easeInOutQuad: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t : -0.5 * (--t * (t - 2) - 1),\n    easeInCubic: (t)=>t * t * t,\n    easeOutCubic: (t)=>(t -= 1) * t * t + 1,\n    easeInOutCubic: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t : 0.5 * ((t -= 2) * t * t + 2),\n    easeInQuart: (t)=>t * t * t * t,\n    easeOutQuart: (t)=>-((t -= 1) * t * t * t - 1),\n    easeInOutQuart: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t * t : -0.5 * ((t -= 2) * t * t * t - 2),\n    easeInQuint: (t)=>t * t * t * t * t,\n    easeOutQuint: (t)=>(t -= 1) * t * t * t * t + 1,\n    easeInOutQuint: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t * t * t : 0.5 * ((t -= 2) * t * t * t * t + 2),\n    easeInSine: (t)=>-Math.cos(t * HALF_PI) + 1,\n    easeOutSine: (t)=>Math.sin(t * HALF_PI),\n    easeInOutSine: (t)=>-0.5 * (Math.cos(PI * t) - 1),\n    easeInExpo: (t)=>t === 0 ? 0 : Math.pow(2, 10 * (t - 1)),\n    easeOutExpo: (t)=>t === 1 ? 1 : -Math.pow(2, -10 * t) + 1,\n    easeInOutExpo: (t)=>atEdge(t) ? t : t < 0.5 ? 0.5 * Math.pow(2, 10 * (t * 2 - 1)) : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n    easeInCirc: (t)=>t >= 1 ? t : -(Math.sqrt(1 - t * t) - 1),\n    easeOutCirc: (t)=>Math.sqrt(1 - (t -= 1) * t),\n    easeInOutCirc: (t)=>(t /= 0.5) < 1 ? -0.5 * (Math.sqrt(1 - t * t) - 1) : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n    easeInElastic: (t)=>atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n    easeOutElastic: (t)=>atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n    easeInOutElastic (t) {\n        const s = 0.1125;\n        const p = 0.45;\n        return atEdge(t) ? t : t < 0.5 ? 0.5 * elasticIn(t * 2, s, p) : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n    },\n    easeInBack (t) {\n        const s = 1.70158;\n        return t * t * ((s + 1) * t - s);\n    },\n    easeOutBack (t) {\n        const s = 1.70158;\n        return (t -= 1) * t * ((s + 1) * t + s) + 1;\n    },\n    easeInOutBack (t) {\n        let s = 1.70158;\n        if ((t /= 0.5) < 1) {\n            return 0.5 * (t * t * (((s *= 1.525) + 1) * t - s));\n        }\n        return 0.5 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2);\n    },\n    easeInBounce: (t)=>1 - effects.easeOutBounce(1 - t),\n    easeOutBounce (t) {\n        const m = 7.5625;\n        const d = 2.75;\n        if (t < 1 / d) {\n            return m * t * t;\n        }\n        if (t < 2 / d) {\n            return m * (t -= 1.5 / d) * t + 0.75;\n        }\n        if (t < 2.5 / d) {\n            return m * (t -= 2.25 / d) * t + 0.9375;\n        }\n        return m * (t -= 2.625 / d) * t + 0.984375;\n    },\n    easeInOutBounce: (t)=>t < 0.5 ? effects.easeInBounce(t * 2) * 0.5 : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5\n};\n\nfunction isPatternOrGradient(value) {\n    if (value && typeof value === 'object') {\n        const type = value.toString();\n        return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n    }\n    return false;\n}\nfunction color(value) {\n    return isPatternOrGradient(value) ? value : new Color(value);\n}\nfunction getHoverColor(value) {\n    return isPatternOrGradient(value) ? value : new Color(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst numbers = [\n    'x',\n    'y',\n    'borderWidth',\n    'radius',\n    'tension'\n];\nconst colors = [\n    'color',\n    'borderColor',\n    'backgroundColor'\n];\nfunction applyAnimationsDefaults(defaults) {\n    defaults.set('animation', {\n        delay: undefined,\n        duration: 1000,\n        easing: 'easeOutQuart',\n        fn: undefined,\n        from: undefined,\n        loop: undefined,\n        to: undefined,\n        type: undefined\n    });\n    defaults.describe('animation', {\n        _fallback: false,\n        _indexable: false,\n        _scriptable: (name)=>name !== 'onProgress' && name !== 'onComplete' && name !== 'fn'\n    });\n    defaults.set('animations', {\n        colors: {\n            type: 'color',\n            properties: colors\n        },\n        numbers: {\n            type: 'number',\n            properties: numbers\n        }\n    });\n    defaults.describe('animations', {\n        _fallback: 'animation'\n    });\n    defaults.set('transitions', {\n        active: {\n            animation: {\n                duration: 400\n            }\n        },\n        resize: {\n            animation: {\n                duration: 0\n            }\n        },\n        show: {\n            animations: {\n                colors: {\n                    from: 'transparent'\n                },\n                visible: {\n                    type: 'boolean',\n                    duration: 0\n                }\n            }\n        },\n        hide: {\n            animations: {\n                colors: {\n                    to: 'transparent'\n                },\n                visible: {\n                    type: 'boolean',\n                    easing: 'linear',\n                    fn: (v)=>v | 0\n                }\n            }\n        }\n    });\n}\n\nfunction applyLayoutsDefaults(defaults) {\n    defaults.set('layout', {\n        autoPadding: true,\n        padding: {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n        }\n    });\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n    options = options || {};\n    const cacheKey = locale + JSON.stringify(options);\n    let formatter = intlCache.get(cacheKey);\n    if (!formatter) {\n        formatter = new Intl.NumberFormat(locale, options);\n        intlCache.set(cacheKey, formatter);\n    }\n    return formatter;\n}\nfunction formatNumber(num, locale, options) {\n    return getNumberFormat(locale, options).format(num);\n}\n\nconst formatters = {\n values (value) {\n        return isArray(value) ?  value : '' + value;\n    },\n numeric (tickValue, index, ticks) {\n        if (tickValue === 0) {\n            return '0';\n        }\n        const locale = this.chart.options.locale;\n        let notation;\n        let delta = tickValue;\n        if (ticks.length > 1) {\n            const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n            if (maxTick < 1e-4 || maxTick > 1e+15) {\n                notation = 'scientific';\n            }\n            delta = calculateDelta(tickValue, ticks);\n        }\n        const logDelta = log10(Math.abs(delta));\n        const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n        const options = {\n            notation,\n            minimumFractionDigits: numDecimal,\n            maximumFractionDigits: numDecimal\n        };\n        Object.assign(options, this.options.ticks.format);\n        return formatNumber(tickValue, locale, options);\n    },\n logarithmic (tickValue, index, ticks) {\n        if (tickValue === 0) {\n            return '0';\n        }\n        const remain = ticks[index].significand || tickValue / Math.pow(10, Math.floor(log10(tickValue)));\n        if ([\n            1,\n            2,\n            3,\n            5,\n            10,\n            15\n        ].includes(remain) || index > 0.8 * ticks.length) {\n            return formatters.numeric.call(this, tickValue, index, ticks);\n        }\n        return '';\n    }\n};\nfunction calculateDelta(tickValue, ticks) {\n    let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n    if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n        delta = tickValue - Math.floor(tickValue);\n    }\n    return delta;\n}\n var Ticks = {\n    formatters\n};\n\nfunction applyScaleDefaults(defaults) {\n    defaults.set('scale', {\n        display: true,\n        offset: false,\n        reverse: false,\n        beginAtZero: false,\n bounds: 'ticks',\n        clip: true,\n grace: 0,\n        grid: {\n            display: true,\n            lineWidth: 1,\n            drawOnChartArea: true,\n            drawTicks: true,\n            tickLength: 8,\n            tickWidth: (_ctx, options)=>options.lineWidth,\n            tickColor: (_ctx, options)=>options.color,\n            offset: false\n        },\n        border: {\n            display: true,\n            dash: [],\n            dashOffset: 0.0,\n            width: 1\n        },\n        title: {\n            display: false,\n            text: '',\n            padding: {\n                top: 4,\n                bottom: 4\n            }\n        },\n        ticks: {\n            minRotation: 0,\n            maxRotation: 50,\n            mirror: false,\n            textStrokeWidth: 0,\n            textStrokeColor: '',\n            padding: 3,\n            display: true,\n            autoSkip: true,\n            autoSkipPadding: 3,\n            labelOffset: 0,\n            callback: Ticks.formatters.values,\n            minor: {},\n            major: {},\n            align: 'center',\n            crossAlign: 'near',\n            showLabelBackdrop: false,\n            backdropColor: 'rgba(255, 255, 255, 0.75)',\n            backdropPadding: 2\n        }\n    });\n    defaults.route('scale.ticks', 'color', '', 'color');\n    defaults.route('scale.grid', 'color', '', 'borderColor');\n    defaults.route('scale.border', 'color', '', 'borderColor');\n    defaults.route('scale.title', 'color', '', 'color');\n    defaults.describe('scale', {\n        _fallback: false,\n        _scriptable: (name)=>!name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n        _indexable: (name)=>name !== 'borderDash' && name !== 'tickBorderDash' && name !== 'dash'\n    });\n    defaults.describe('scales', {\n        _fallback: 'scale'\n    });\n    defaults.describe('scale.ticks', {\n        _scriptable: (name)=>name !== 'backdropPadding' && name !== 'callback',\n        _indexable: (name)=>name !== 'backdropPadding'\n    });\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\n function getScope$1(node, key) {\n    if (!key) {\n        return node;\n    }\n    const keys = key.split('.');\n    for(let i = 0, n = keys.length; i < n; ++i){\n        const k = keys[i];\n        node = node[k] || (node[k] = Object.create(null));\n    }\n    return node;\n}\nfunction set(root, scope, values) {\n    if (typeof scope === 'string') {\n        return merge(getScope$1(root, scope), values);\n    }\n    return merge(getScope$1(root, ''), scope);\n}\n class Defaults {\n    constructor(_descriptors, _appliers){\n        this.animation = undefined;\n        this.backgroundColor = 'rgba(0,0,0,0.1)';\n        this.borderColor = 'rgba(0,0,0,0.1)';\n        this.color = '#666';\n        this.datasets = {};\n        this.devicePixelRatio = (context)=>context.chart.platform.getDevicePixelRatio();\n        this.elements = {};\n        this.events = [\n            'mousemove',\n            'mouseout',\n            'click',\n            'touchstart',\n            'touchmove'\n        ];\n        this.font = {\n            family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n            size: 12,\n            style: 'normal',\n            lineHeight: 1.2,\n            weight: null\n        };\n        this.hover = {};\n        this.hoverBackgroundColor = (ctx, options)=>getHoverColor(options.backgroundColor);\n        this.hoverBorderColor = (ctx, options)=>getHoverColor(options.borderColor);\n        this.hoverColor = (ctx, options)=>getHoverColor(options.color);\n        this.indexAxis = 'x';\n        this.interaction = {\n            mode: 'nearest',\n            intersect: true,\n            includeInvisible: false\n        };\n        this.maintainAspectRatio = true;\n        this.onHover = null;\n        this.onClick = null;\n        this.parsing = true;\n        this.plugins = {};\n        this.responsive = true;\n        this.scale = undefined;\n        this.scales = {};\n        this.showLine = true;\n        this.drawActiveElementsOnTop = true;\n        this.describe(_descriptors);\n        this.apply(_appliers);\n    }\n set(scope, values) {\n        return set(this, scope, values);\n    }\n get(scope) {\n        return getScope$1(this, scope);\n    }\n describe(scope, values) {\n        return set(descriptors, scope, values);\n    }\n    override(scope, values) {\n        return set(overrides, scope, values);\n    }\n route(scope, name, targetScope, targetName) {\n        const scopeObject = getScope$1(this, scope);\n        const targetScopeObject = getScope$1(this, targetScope);\n        const privateName = '_' + name;\n        Object.defineProperties(scopeObject, {\n            [privateName]: {\n                value: scopeObject[name],\n                writable: true\n            },\n            [name]: {\n                enumerable: true,\n                get () {\n                    const local = this[privateName];\n                    const target = targetScopeObject[targetName];\n                    if (isObject(local)) {\n                        return Object.assign({}, target, local);\n                    }\n                    return valueOrDefault(local, target);\n                },\n                set (value) {\n                    this[privateName] = value;\n                }\n            }\n        });\n    }\n    apply(appliers) {\n        appliers.forEach((apply)=>apply(this));\n    }\n}\nvar defaults = /* #__PURE__ */ new Defaults({\n    _scriptable: (name)=>!name.startsWith('on'),\n    _indexable: (name)=>name !== 'events',\n    hover: {\n        _fallback: 'interaction'\n    },\n    interaction: {\n        _scriptable: false,\n        _indexable: false\n    }\n}, [\n    applyAnimationsDefaults,\n    applyLayoutsDefaults,\n    applyScaleDefaults\n]);\n\n/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */ function toFontString(font) {\n    if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n        return null;\n    }\n    return (font.style ? font.style + ' ' : '') + (font.weight ? font.weight + ' ' : '') + font.size + 'px ' + font.family;\n}\n/**\n * @private\n */ function _measureText(ctx, data, gc, longest, string) {\n    let textWidth = data[string];\n    if (!textWidth) {\n        textWidth = data[string] = ctx.measureText(string).width;\n        gc.push(string);\n    }\n    if (textWidth > longest) {\n        longest = textWidth;\n    }\n    return longest;\n}\n/**\n * @private\n */ // eslint-disable-next-line complexity\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n    cache = cache || {};\n    let data = cache.data = cache.data || {};\n    let gc = cache.garbageCollect = cache.garbageCollect || [];\n    if (cache.font !== font) {\n        data = cache.data = {};\n        gc = cache.garbageCollect = [];\n        cache.font = font;\n    }\n    ctx.save();\n    ctx.font = font;\n    let longest = 0;\n    const ilen = arrayOfThings.length;\n    let i, j, jlen, thing, nestedThing;\n    for(i = 0; i < ilen; i++){\n        thing = arrayOfThings[i];\n        // Undefined strings and arrays should not be measured\n        if (thing !== undefined && thing !== null && !isArray(thing)) {\n            longest = _measureText(ctx, data, gc, longest, thing);\n        } else if (isArray(thing)) {\n            // if it is an array lets measure each element\n            // to do maybe simplify this function a bit so we can do this more recursively?\n            for(j = 0, jlen = thing.length; j < jlen; j++){\n                nestedThing = thing[j];\n                // Undefined strings and arrays should not be measured\n                if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n                    longest = _measureText(ctx, data, gc, longest, nestedThing);\n                }\n            }\n        }\n    }\n    ctx.restore();\n    const gcLen = gc.length / 2;\n    if (gcLen > arrayOfThings.length) {\n        for(i = 0; i < gcLen; i++){\n            delete data[gc[i]];\n        }\n        gc.splice(0, gcLen);\n    }\n    return longest;\n}\n/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */ function _alignPixel(chart, pixel, width) {\n    const devicePixelRatio = chart.currentDevicePixelRatio;\n    const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n    return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n/**\n * Clears the entire canvas.\n */ function clearCanvas(canvas, ctx) {\n    ctx = ctx || canvas.getContext('2d');\n    ctx.save();\n    // canvas.width and canvas.height do not consider the canvas transform,\n    // while clearRect does\n    ctx.resetTransform();\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    drawPointLegend(ctx, options, x, y, null);\n}\n// eslint-disable-next-line complexity\nfunction drawPointLegend(ctx, options, x, y, w) {\n    let type, xOffset, yOffset, size, cornerRadius, width, xOffsetW, yOffsetW;\n    const style = options.pointStyle;\n    const rotation = options.rotation;\n    const radius = options.radius;\n    let rad = (rotation || 0) * RAD_PER_DEG;\n    if (style && typeof style === 'object') {\n        type = style.toString();\n        if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n            ctx.save();\n            ctx.translate(x, y);\n            ctx.rotate(rad);\n            ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n            ctx.restore();\n            return;\n        }\n    }\n    if (isNaN(radius) || radius <= 0) {\n        return;\n    }\n    ctx.beginPath();\n    switch(style){\n        // Default includes circle\n        default:\n            if (w) {\n                ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n            } else {\n                ctx.arc(x, y, radius, 0, TAU);\n            }\n            ctx.closePath();\n            break;\n        case 'triangle':\n            width = w ? w / 2 : radius;\n            ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            rad += TWO_THIRDS_PI;\n            ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            rad += TWO_THIRDS_PI;\n            ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            ctx.closePath();\n            break;\n        case 'rectRounded':\n            // NOTE: the rounded rect implementation changed to use `arc` instead of\n            // `quadraticCurveTo` since it generates better results when rect is\n            // almost a circle. 0.516 (instead of 0.5) produces results with visually\n            // closer proportion to the previous impl and it is inscribed in the\n            // circle with `radius`. For more details, see the following PRs:\n            // https://github.com/chartjs/Chart.js/issues/5597\n            // https://github.com/chartjs/Chart.js/issues/5858\n            cornerRadius = radius * 0.516;\n            size = radius - cornerRadius;\n            xOffset = Math.cos(rad + QUARTER_PI) * size;\n            xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n            yOffset = Math.sin(rad + QUARTER_PI) * size;\n            yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n            ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n            ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n            ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n            ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n            ctx.closePath();\n            break;\n        case 'rect':\n            if (!rotation) {\n                size = Math.SQRT1_2 * radius;\n                width = w ? w / 2 : size;\n                ctx.rect(x - width, y - size, 2 * width, 2 * size);\n                break;\n            }\n            rad += QUARTER_PI;\n        /* falls through */ case 'rectRot':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            ctx.closePath();\n            break;\n        case 'crossRot':\n            rad += QUARTER_PI;\n        /* falls through */ case 'cross':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            break;\n        case 'star':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            rad += QUARTER_PI;\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            break;\n        case 'line':\n            xOffset = w ? w / 2 : Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            ctx.moveTo(x - xOffset, y - yOffset);\n            ctx.lineTo(x + xOffset, y + yOffset);\n            break;\n        case 'dash':\n            ctx.moveTo(x, y);\n            ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);\n            break;\n        case false:\n            ctx.closePath();\n            break;\n    }\n    ctx.fill();\n    if (options.borderWidth > 0) {\n        ctx.stroke();\n    }\n}\n/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */ function _isPointInArea(point, area, margin) {\n    margin = margin || 0.5; // margin - default is to match rounded decimals\n    return !area || point && point.x > area.left - margin && point.x < area.right + margin && point.y > area.top - margin && point.y < area.bottom + margin;\n}\nfunction clipArea(ctx, area) {\n    ctx.save();\n    ctx.beginPath();\n    ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n    ctx.clip();\n}\nfunction unclipArea(ctx) {\n    ctx.restore();\n}\n/**\n * @private\n */ function _steppedLineTo(ctx, previous, target, flip, mode) {\n    if (!previous) {\n        return ctx.lineTo(target.x, target.y);\n    }\n    if (mode === 'middle') {\n        const midpoint = (previous.x + target.x) / 2.0;\n        ctx.lineTo(midpoint, previous.y);\n        ctx.lineTo(midpoint, target.y);\n    } else if (mode === 'after' !== !!flip) {\n        ctx.lineTo(previous.x, target.y);\n    } else {\n        ctx.lineTo(target.x, previous.y);\n    }\n    ctx.lineTo(target.x, target.y);\n}\n/**\n * @private\n */ function _bezierCurveTo(ctx, previous, target, flip) {\n    if (!previous) {\n        return ctx.lineTo(target.x, target.y);\n    }\n    ctx.bezierCurveTo(flip ? previous.cp1x : previous.cp2x, flip ? previous.cp1y : previous.cp2y, flip ? target.cp2x : target.cp1x, flip ? target.cp2y : target.cp1y, target.x, target.y);\n}\nfunction setRenderOpts(ctx, opts) {\n    if (opts.translation) {\n        ctx.translate(opts.translation[0], opts.translation[1]);\n    }\n    if (!isNullOrUndef(opts.rotation)) {\n        ctx.rotate(opts.rotation);\n    }\n    if (opts.color) {\n        ctx.fillStyle = opts.color;\n    }\n    if (opts.textAlign) {\n        ctx.textAlign = opts.textAlign;\n    }\n    if (opts.textBaseline) {\n        ctx.textBaseline = opts.textBaseline;\n    }\n}\nfunction decorateText(ctx, x, y, line, opts) {\n    if (opts.strikethrough || opts.underline) {\n        /**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */ const metrics = ctx.measureText(line);\n        const left = x - metrics.actualBoundingBoxLeft;\n        const right = x + metrics.actualBoundingBoxRight;\n        const top = y - metrics.actualBoundingBoxAscent;\n        const bottom = y + metrics.actualBoundingBoxDescent;\n        const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n        ctx.strokeStyle = ctx.fillStyle;\n        ctx.beginPath();\n        ctx.lineWidth = opts.decorationWidth || 2;\n        ctx.moveTo(left, yDecoration);\n        ctx.lineTo(right, yDecoration);\n        ctx.stroke();\n    }\n}\nfunction drawBackdrop(ctx, opts) {\n    const oldColor = ctx.fillStyle;\n    ctx.fillStyle = opts.color;\n    ctx.fillRect(opts.left, opts.top, opts.width, opts.height);\n    ctx.fillStyle = oldColor;\n}\n/**\n * Render text onto the canvas\n */ function renderText(ctx, text, x, y, font, opts = {}) {\n    const lines = isArray(text) ? text : [\n        text\n    ];\n    const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n    let i, line;\n    ctx.save();\n    ctx.font = font.string;\n    setRenderOpts(ctx, opts);\n    for(i = 0; i < lines.length; ++i){\n        line = lines[i];\n        if (opts.backdrop) {\n            drawBackdrop(ctx, opts.backdrop);\n        }\n        if (stroke) {\n            if (opts.strokeColor) {\n                ctx.strokeStyle = opts.strokeColor;\n            }\n            if (!isNullOrUndef(opts.strokeWidth)) {\n                ctx.lineWidth = opts.strokeWidth;\n            }\n            ctx.strokeText(line, x, y, opts.maxWidth);\n        }\n        ctx.fillText(line, x, y, opts.maxWidth);\n        decorateText(ctx, x, y, line, opts);\n        y += Number(font.lineHeight);\n    }\n    ctx.restore();\n}\n/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */ function addRoundedRectPath(ctx, rect) {\n    const { x , y , w , h , radius  } = rect;\n    // top left arc\n    ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, 1.5 * PI, PI, true);\n    // line from top left to bottom left\n    ctx.lineTo(x, y + h - radius.bottomLeft);\n    // bottom left arc\n    ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n    // line from bottom left to bottom right\n    ctx.lineTo(x + w - radius.bottomRight, y + h);\n    // bottom right arc\n    ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n    // line from bottom right to top right\n    ctx.lineTo(x + w, y + radius.topRight);\n    // top right arc\n    ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n    // line from top right to top left\n    ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = /^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;\nconst FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;\n/**\n * @alias Chart.helpers.options\n * @namespace\n */ /**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */ function toLineHeight(value, size) {\n    const matches = ('' + value).match(LINE_HEIGHT);\n    if (!matches || matches[1] === 'normal') {\n        return size * 1.2;\n    }\n    value = +matches[2];\n    switch(matches[3]){\n        case 'px':\n            return value;\n        case '%':\n            value /= 100;\n            break;\n    }\n    return size * value;\n}\nconst numberOrZero = (v)=>+v || 0;\nfunction _readValueToProps(value, props) {\n    const ret = {};\n    const objProps = isObject(props);\n    const keys = objProps ? Object.keys(props) : props;\n    const read = isObject(value) ? objProps ? (prop)=>valueOrDefault(value[prop], value[props[prop]]) : (prop)=>value[prop] : ()=>value;\n    for (const prop of keys){\n        ret[prop] = numberOrZero(read(prop));\n    }\n    return ret;\n}\n/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */ function toTRBL(value) {\n    return _readValueToProps(value, {\n        top: 'y',\n        right: 'x',\n        bottom: 'y',\n        left: 'x'\n    });\n}\n/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */ function toTRBLCorners(value) {\n    return _readValueToProps(value, [\n        'topLeft',\n        'topRight',\n        'bottomLeft',\n        'bottomRight'\n    ]);\n}\n/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */ function toPadding(value) {\n    const obj = toTRBL(value);\n    obj.width = obj.left + obj.right;\n    obj.height = obj.top + obj.bottom;\n    return obj;\n}\n/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */ function toFont(options, fallback) {\n    options = options || {};\n    fallback = fallback || defaults.font;\n    let size = valueOrDefault(options.size, fallback.size);\n    if (typeof size === 'string') {\n        size = parseInt(size, 10);\n    }\n    let style = valueOrDefault(options.style, fallback.style);\n    if (style && !('' + style).match(FONT_STYLE)) {\n        console.warn('Invalid font style specified: \"' + style + '\"');\n        style = undefined;\n    }\n    const font = {\n        family: valueOrDefault(options.family, fallback.family),\n        lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n        size,\n        style,\n        weight: valueOrDefault(options.weight, fallback.weight),\n        string: ''\n    };\n    font.string = toFontString(font);\n    return font;\n}\n/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */ function resolve(inputs, context, index, info) {\n    let cacheable = true;\n    let i, ilen, value;\n    for(i = 0, ilen = inputs.length; i < ilen; ++i){\n        value = inputs[i];\n        if (value === undefined) {\n            continue;\n        }\n        if (context !== undefined && typeof value === 'function') {\n            value = value(context);\n            cacheable = false;\n        }\n        if (index !== undefined && isArray(value)) {\n            value = value[index % value.length];\n            cacheable = false;\n        }\n        if (value !== undefined) {\n            if (info && !cacheable) {\n                info.cacheable = false;\n            }\n            return value;\n        }\n    }\n}\n/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */ function _addGrace(minmax, grace, beginAtZero) {\n    const { min , max  } = minmax;\n    const change = toDimension(grace, (max - min) / 2);\n    const keepZero = (value, add)=>beginAtZero && value === 0 ? 0 : value + add;\n    return {\n        min: keepZero(min, -Math.abs(change)),\n        max: keepZero(max, change)\n    };\n}\nfunction createContext(parentContext, context) {\n    return Object.assign(Object.create(parentContext), context);\n}\n\n/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */ function _createResolver(scopes, prefixes = [\n    ''\n], rootScopes, fallback, getTarget = ()=>scopes[0]) {\n    const finalRootScopes = rootScopes || scopes;\n    if (typeof fallback === 'undefined') {\n        fallback = _resolve('_fallback', scopes);\n    }\n    const cache = {\n        [Symbol.toStringTag]: 'Object',\n        _cacheable: true,\n        _scopes: scopes,\n        _rootScopes: finalRootScopes,\n        _fallback: fallback,\n        _getTarget: getTarget,\n        override: (scope)=>_createResolver([\n                scope,\n                ...scopes\n            ], prefixes, finalRootScopes, fallback)\n    };\n    return new Proxy(cache, {\n        /**\n     * A trap for the delete operator.\n     */ deleteProperty (target, prop) {\n            delete target[prop]; // remove from cache\n            delete target._keys; // remove cached keys\n            delete scopes[0][prop]; // remove from top level scope\n            return true;\n        },\n        /**\n     * A trap for getting property values.\n     */ get (target, prop) {\n            return _cached(target, prop, ()=>_resolveWithPrefixes(prop, prefixes, scopes, target));\n        },\n        /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */ getOwnPropertyDescriptor (target, prop) {\n            return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n        },\n        /**\n     * A trap for Object.getPrototypeOf.\n     */ getPrototypeOf () {\n            return Reflect.getPrototypeOf(scopes[0]);\n        },\n        /**\n     * A trap for the in operator.\n     */ has (target, prop) {\n            return getKeysFromAllScopes(target).includes(prop);\n        },\n        /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ ownKeys (target) {\n            return getKeysFromAllScopes(target);\n        },\n        /**\n     * A trap for setting property values.\n     */ set (target, prop, value) {\n            const storage = target._storage || (target._storage = getTarget());\n            target[prop] = storage[prop] = value; // set to top level scope + cache\n            delete target._keys; // remove cached keys\n            return true;\n        }\n    });\n}\n/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */ function _attachContext(proxy, context, subProxy, descriptorDefaults) {\n    const cache = {\n        _cacheable: false,\n        _proxy: proxy,\n        _context: context,\n        _subProxy: subProxy,\n        _stack: new Set(),\n        _descriptors: _descriptors(proxy, descriptorDefaults),\n        setContext: (ctx)=>_attachContext(proxy, ctx, subProxy, descriptorDefaults),\n        override: (scope)=>_attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n    };\n    return new Proxy(cache, {\n        /**\n     * A trap for the delete operator.\n     */ deleteProperty (target, prop) {\n            delete target[prop]; // remove from cache\n            delete proxy[prop]; // remove from proxy\n            return true;\n        },\n        /**\n     * A trap for getting property values.\n     */ get (target, prop, receiver) {\n            return _cached(target, prop, ()=>_resolveWithContext(target, prop, receiver));\n        },\n        /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */ getOwnPropertyDescriptor (target, prop) {\n            return target._descriptors.allKeys ? Reflect.has(proxy, prop) ? {\n                enumerable: true,\n                configurable: true\n            } : undefined : Reflect.getOwnPropertyDescriptor(proxy, prop);\n        },\n        /**\n     * A trap for Object.getPrototypeOf.\n     */ getPrototypeOf () {\n            return Reflect.getPrototypeOf(proxy);\n        },\n        /**\n     * A trap for the in operator.\n     */ has (target, prop) {\n            return Reflect.has(proxy, prop);\n        },\n        /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ ownKeys () {\n            return Reflect.ownKeys(proxy);\n        },\n        /**\n     * A trap for setting property values.\n     */ set (target, prop, value) {\n            proxy[prop] = value; // set to proxy\n            delete target[prop]; // remove from cache\n            return true;\n        }\n    });\n}\n/**\n * @private\n */ function _descriptors(proxy, defaults = {\n    scriptable: true,\n    indexable: true\n}) {\n    const { _scriptable =defaults.scriptable , _indexable =defaults.indexable , _allKeys =defaults.allKeys  } = proxy;\n    return {\n        allKeys: _allKeys,\n        scriptable: _scriptable,\n        indexable: _indexable,\n        isScriptable: isFunction(_scriptable) ? _scriptable : ()=>_scriptable,\n        isIndexable: isFunction(_indexable) ? _indexable : ()=>_indexable\n    };\n}\nconst readKey = (prefix, name)=>prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value)=>isObject(value) && prop !== 'adapters' && (Object.getPrototypeOf(value) === null || value.constructor === Object);\nfunction _cached(target, prop, resolve) {\n    if (Object.prototype.hasOwnProperty.call(target, prop)) {\n        return target[prop];\n    }\n    const value = resolve();\n    // cache the resolved value\n    target[prop] = value;\n    return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n    const { _proxy , _context , _subProxy , _descriptors: descriptors  } = target;\n    let value = _proxy[prop]; // resolve from proxy\n    // resolve with context\n    if (isFunction(value) && descriptors.isScriptable(prop)) {\n        value = _resolveScriptable(prop, value, target, receiver);\n    }\n    if (isArray(value) && value.length) {\n        value = _resolveArray(prop, value, target, descriptors.isIndexable);\n    }\n    if (needsSubResolver(prop, value)) {\n        // if the resolved value is an object, create a sub resolver for it\n        value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n    }\n    return value;\n}\nfunction _resolveScriptable(prop, getValue, target, receiver) {\n    const { _proxy , _context , _subProxy , _stack  } = target;\n    if (_stack.has(prop)) {\n        throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n    }\n    _stack.add(prop);\n    let value = getValue(_context, _subProxy || receiver);\n    _stack.delete(prop);\n    if (needsSubResolver(prop, value)) {\n        // When scriptable option returns an object, create a resolver on that.\n        value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n    }\n    return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n    const { _proxy , _context , _subProxy , _descriptors: descriptors  } = target;\n    if (typeof _context.index !== 'undefined' && isIndexable(prop)) {\n        return value[_context.index % value.length];\n    } else if (isObject(value[0])) {\n        // Array of objects, return array or resolvers\n        const arr = value;\n        const scopes = _proxy._scopes.filter((s)=>s !== arr);\n        value = [];\n        for (const item of arr){\n            const resolver = createSubResolver(scopes, _proxy, prop, item);\n            value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n        }\n    }\n    return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n    return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent)=>key === true ? parent : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback, value) {\n    for (const parent of parentScopes){\n        const scope = getScope(key, parent);\n        if (scope) {\n            set.add(scope);\n            const fallback = resolveFallback(scope._fallback, key, value);\n            if (typeof fallback !== 'undefined' && fallback !== key && fallback !== parentFallback) {\n                // When we reach the descriptor that defines a new _fallback, return that.\n                // The fallback will resume to that new scope.\n                return fallback;\n            }\n        } else if (scope === false && typeof parentFallback !== 'undefined' && key !== parentFallback) {\n            // Fallback to `false` results to `false`, when falling back to different key.\n            // For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\n            return null;\n        }\n    }\n    return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n    const rootScopes = resolver._rootScopes;\n    const fallback = resolveFallback(resolver._fallback, prop, value);\n    const allScopes = [\n        ...parentScopes,\n        ...rootScopes\n    ];\n    const set = new Set();\n    set.add(value);\n    let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n    if (key === null) {\n        return false;\n    }\n    if (typeof fallback !== 'undefined' && fallback !== prop) {\n        key = addScopesFromKey(set, allScopes, fallback, key, value);\n        if (key === null) {\n            return false;\n        }\n    }\n    return _createResolver(Array.from(set), [\n        ''\n    ], rootScopes, fallback, ()=>subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback, item) {\n    while(key){\n        key = addScopes(set, allScopes, key, fallback, item);\n    }\n    return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n    const parent = resolver._getTarget();\n    if (!(prop in parent)) {\n        parent[prop] = {};\n    }\n    const target = parent[prop];\n    if (isArray(target) && isObject(value)) {\n        // For array of objects, the object is used to store updated values\n        return value;\n    }\n    return target || {};\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n    let value;\n    for (const prefix of prefixes){\n        value = _resolve(readKey(prefix, prop), scopes);\n        if (typeof value !== 'undefined') {\n            return needsSubResolver(prop, value) ? createSubResolver(scopes, proxy, prop, value) : value;\n        }\n    }\n}\nfunction _resolve(key, scopes) {\n    for (const scope of scopes){\n        if (!scope) {\n            continue;\n        }\n        const value = scope[key];\n        if (typeof value !== 'undefined') {\n            return value;\n        }\n    }\n}\nfunction getKeysFromAllScopes(target) {\n    let keys = target._keys;\n    if (!keys) {\n        keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n    }\n    return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n    const set = new Set();\n    for (const scope of scopes){\n        for (const key of Object.keys(scope).filter((k)=>!k.startsWith('_'))){\n            set.add(key);\n        }\n    }\n    return Array.from(set);\n}\nfunction _parseObjectDataRadialScale(meta, data, start, count) {\n    const { iScale  } = meta;\n    const { key ='r'  } = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for(i = 0, ilen = count; i < ilen; ++i){\n        index = i + start;\n        item = data[index];\n        parsed[i] = {\n            r: iScale.parse(resolveObjectKey(item, key), index)\n        };\n    }\n    return parsed;\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i)=>i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis)=>indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n    // Props to Rob Spencer at scaled innovation for his post on splining between points\n    // http://scaledinnovation.com/analytics/splines/aboutSplines.html\n    // This function must also respect \"skipped\" points\n    const previous = firstPoint.skip ? middlePoint : firstPoint;\n    const current = middlePoint;\n    const next = afterPoint.skip ? middlePoint : afterPoint;\n    const d01 = distanceBetweenPoints(current, previous);\n    const d12 = distanceBetweenPoints(next, current);\n    let s01 = d01 / (d01 + d12);\n    let s12 = d12 / (d01 + d12);\n    // If all points are the same, s01 & s02 will be inf\n    s01 = isNaN(s01) ? 0 : s01;\n    s12 = isNaN(s12) ? 0 : s12;\n    const fa = t * s01; // scaling factor for triangle Ta\n    const fb = t * s12;\n    return {\n        previous: {\n            x: current.x - fa * (next.x - previous.x),\n            y: current.y - fa * (next.y - previous.y)\n        },\n        next: {\n            x: current.x + fb * (next.x - previous.x),\n            y: current.y + fb * (next.y - previous.y)\n        }\n    };\n}\n/**\n * Adjust tangents to ensure monotonic properties\n */ function monotoneAdjust(points, deltaK, mK) {\n    const pointsLen = points.length;\n    let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(let i = 0; i < pointsLen - 1; ++i){\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent || !pointAfter) {\n            continue;\n        }\n        if (almostEquals(deltaK[i], 0, EPSILON)) {\n            mK[i] = mK[i + 1] = 0;\n            continue;\n        }\n        alphaK = mK[i] / deltaK[i];\n        betaK = mK[i + 1] / deltaK[i];\n        squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n        if (squaredMagnitude <= 9) {\n            continue;\n        }\n        tauK = 3 / Math.sqrt(squaredMagnitude);\n        mK[i] = alphaK * tauK * deltaK[i];\n        mK[i + 1] = betaK * tauK * deltaK[i];\n    }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n    const valueAxis = getValueAxis(indexAxis);\n    const pointsLen = points.length;\n    let delta, pointBefore, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(let i = 0; i < pointsLen; ++i){\n        pointBefore = pointCurrent;\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent) {\n            continue;\n        }\n        const iPixel = pointCurrent[indexAxis];\n        const vPixel = pointCurrent[valueAxis];\n        if (pointBefore) {\n            delta = (iPixel - pointBefore[indexAxis]) / 3;\n            pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n            pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n        }\n        if (pointAfter) {\n            delta = (pointAfter[indexAxis] - iPixel) / 3;\n            pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n            pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n        }\n    }\n}\n/**\n * This function calculates Bézier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */ function splineCurveMonotone(points, indexAxis = 'x') {\n    const valueAxis = getValueAxis(indexAxis);\n    const pointsLen = points.length;\n    const deltaK = Array(pointsLen).fill(0);\n    const mK = Array(pointsLen);\n    // Calculate slopes (deltaK) and initialize tangents (mK)\n    let i, pointBefore, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(i = 0; i < pointsLen; ++i){\n        pointBefore = pointCurrent;\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent) {\n            continue;\n        }\n        if (pointAfter) {\n            const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n            // In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n            deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n        }\n        mK[i] = !pointBefore ? deltaK[i] : !pointAfter ? deltaK[i - 1] : sign(deltaK[i - 1]) !== sign(deltaK[i]) ? 0 : (deltaK[i - 1] + deltaK[i]) / 2;\n    }\n    monotoneAdjust(points, deltaK, mK);\n    monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n    return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n    let i, ilen, point, inArea, inAreaPrev;\n    let inAreaNext = _isPointInArea(points[0], area);\n    for(i = 0, ilen = points.length; i < ilen; ++i){\n        inAreaPrev = inArea;\n        inArea = inAreaNext;\n        inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n        if (!inArea) {\n            continue;\n        }\n        point = points[i];\n        if (inAreaPrev) {\n            point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n            point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n        }\n        if (inAreaNext) {\n            point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n            point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n        }\n    }\n}\n/**\n * @private\n */ function _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n    let i, ilen, point, controlPoints;\n    // Only consider points that are drawn in case the spanGaps option is used\n    if (options.spanGaps) {\n        points = points.filter((pt)=>!pt.skip);\n    }\n    if (options.cubicInterpolationMode === 'monotone') {\n        splineCurveMonotone(points, indexAxis);\n    } else {\n        let prev = loop ? points[points.length - 1] : points[0];\n        for(i = 0, ilen = points.length; i < ilen; ++i){\n            point = points[i];\n            controlPoints = splineCurve(prev, point, points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen], options.tension);\n            point.cp1x = controlPoints.previous.x;\n            point.cp1y = controlPoints.previous.y;\n            point.cp2x = controlPoints.next.x;\n            point.cp2y = controlPoints.next.y;\n            prev = point;\n        }\n    }\n    if (options.capBezierPoints) {\n        capBezierPoints(points, area);\n    }\n}\n\n/**\n * Note: typedefs are auto-exported, so use a made-up `dom` namespace where\n * necessary to avoid duplicates with `export * from './helpers`; see\n * https://github.com/microsoft/TypeScript/issues/46011\n * @typedef { import('../core/core.controller.js').default } dom.Chart\n * @typedef { import('../../types').ChartEvent } ChartEvent\n */ /**\n * @private\n */ function _isDomSupported() {\n    return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n/**\n * @private\n */ function _getParentNode(domNode) {\n    let parent = domNode.parentNode;\n    if (parent && parent.toString() === '[object ShadowRoot]') {\n        parent = parent.host;\n    }\n    return parent;\n}\n/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */ function parseMaxStyle(styleValue, node, parentProperty) {\n    let valueInPixels;\n    if (typeof styleValue === 'string') {\n        valueInPixels = parseInt(styleValue, 10);\n        if (styleValue.indexOf('%') !== -1) {\n            // percentage * size in dimension\n            valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n        }\n    } else {\n        valueInPixels = styleValue;\n    }\n    return valueInPixels;\n}\nconst getComputedStyle = (element)=>element.ownerDocument.defaultView.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n    return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = [\n    'top',\n    'right',\n    'bottom',\n    'left'\n];\nfunction getPositionedStyle(styles, style, suffix) {\n    const result = {};\n    suffix = suffix ? '-' + suffix : '';\n    for(let i = 0; i < 4; i++){\n        const pos = positions[i];\n        result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n    }\n    result.width = result.left + result.right;\n    result.height = result.top + result.bottom;\n    return result;\n}\nconst useOffsetPos = (x, y, target)=>(x > 0 || y > 0) && (!target || !target.shadowRoot);\n/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */ function getCanvasPosition(e, canvas) {\n    const touches = e.touches;\n    const source = touches && touches.length ? touches[0] : e;\n    const { offsetX , offsetY  } = source;\n    let box = false;\n    let x, y;\n    if (useOffsetPos(offsetX, offsetY, e.target)) {\n        x = offsetX;\n        y = offsetY;\n    } else {\n        const rect = canvas.getBoundingClientRect();\n        x = source.clientX - rect.left;\n        y = source.clientY - rect.top;\n        box = true;\n    }\n    return {\n        x,\n        y,\n        box\n    };\n}\n/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */ function getRelativePosition(event, chart) {\n    if ('native' in event) {\n        return event;\n    }\n    const { canvas , currentDevicePixelRatio  } = chart;\n    const style = getComputedStyle(canvas);\n    const borderBox = style.boxSizing === 'border-box';\n    const paddings = getPositionedStyle(style, 'padding');\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const { x , y , box  } = getCanvasPosition(event, canvas);\n    const xOffset = paddings.left + (box && borders.left);\n    const yOffset = paddings.top + (box && borders.top);\n    let { width , height  } = chart;\n    if (borderBox) {\n        width -= paddings.width + borders.width;\n        height -= paddings.height + borders.height;\n    }\n    return {\n        x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n        y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n    };\n}\nfunction getContainerSize(canvas, width, height) {\n    let maxWidth, maxHeight;\n    if (width === undefined || height === undefined) {\n        const container = _getParentNode(canvas);\n        if (!container) {\n            width = canvas.clientWidth;\n            height = canvas.clientHeight;\n        } else {\n            const rect = container.getBoundingClientRect(); // this is the border box of the container\n            const containerStyle = getComputedStyle(container);\n            const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n            const containerPadding = getPositionedStyle(containerStyle, 'padding');\n            width = rect.width - containerPadding.width - containerBorder.width;\n            height = rect.height - containerPadding.height - containerBorder.height;\n            maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n            maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n        }\n    }\n    return {\n        width,\n        height,\n        maxWidth: maxWidth || INFINITY,\n        maxHeight: maxHeight || INFINITY\n    };\n}\nconst round1 = (v)=>Math.round(v * 10) / 10;\n// eslint-disable-next-line complexity\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n    const style = getComputedStyle(canvas);\n    const margins = getPositionedStyle(style, 'margin');\n    const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n    const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n    const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n    let { width , height  } = containerSize;\n    if (style.boxSizing === 'content-box') {\n        const borders = getPositionedStyle(style, 'border', 'width');\n        const paddings = getPositionedStyle(style, 'padding');\n        width -= paddings.width + borders.width;\n        height -= paddings.height + borders.height;\n    }\n    width = Math.max(0, width - margins.width);\n    height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);\n    width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n    height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n    if (width && !height) {\n        // https://github.com/chartjs/Chart.js/issues/4659\n        // If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\n        height = round1(width / 2);\n    }\n    const maintainHeight = bbWidth !== undefined || bbHeight !== undefined;\n    if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {\n        height = containerSize.height;\n        width = round1(Math.floor(height * aspectRatio));\n    }\n    return {\n        width,\n        height\n    };\n}\n/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */ function retinaScale(chart, forceRatio, forceStyle) {\n    const pixelRatio = forceRatio || 1;\n    const deviceHeight = Math.floor(chart.height * pixelRatio);\n    const deviceWidth = Math.floor(chart.width * pixelRatio);\n    chart.height = Math.floor(chart.height);\n    chart.width = Math.floor(chart.width);\n    const canvas = chart.canvas;\n    // If no style has been set on the canvas, the render size is used as display size,\n    // making the chart visually bigger, so let's enforce it to the \"correct\" values.\n    // See https://github.com/chartjs/Chart.js/issues/3575\n    if (canvas.style && (forceStyle || !canvas.style.height && !canvas.style.width)) {\n        canvas.style.height = `${chart.height}px`;\n        canvas.style.width = `${chart.width}px`;\n    }\n    if (chart.currentDevicePixelRatio !== pixelRatio || canvas.height !== deviceHeight || canvas.width !== deviceWidth) {\n        chart.currentDevicePixelRatio = pixelRatio;\n        canvas.height = deviceHeight;\n        canvas.width = deviceWidth;\n        chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n        return true;\n    }\n    return false;\n}\n/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */ const supportsEventListenerOptions = function() {\n    let passiveSupported = false;\n    try {\n        const options = {\n            get passive () {\n                passiveSupported = true;\n                return false;\n            }\n        };\n        window.addEventListener('test', null, options);\n        window.removeEventListener('test', null, options);\n    } catch (e) {\n    // continue regardless of error\n    }\n    return passiveSupported;\n}();\n/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */ function readUsedSize(element, property) {\n    const value = getStyle(element, property);\n    const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n    return matches ? +matches[1] : undefined;\n}\n\n/**\n * @private\n */ function _pointInLine(p1, p2, t, mode) {\n    return {\n        x: p1.x + t * (p2.x - p1.x),\n        y: p1.y + t * (p2.y - p1.y)\n    };\n}\n/**\n * @private\n */ function _steppedInterpolation(p1, p2, t, mode) {\n    return {\n        x: p1.x + t * (p2.x - p1.x),\n        y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y : mode === 'after' ? t < 1 ? p1.y : p2.y : t > 0 ? p2.y : p1.y\n    };\n}\n/**\n * @private\n */ function _bezierInterpolation(p1, p2, t, mode) {\n    const cp1 = {\n        x: p1.cp2x,\n        y: p1.cp2y\n    };\n    const cp2 = {\n        x: p2.cp1x,\n        y: p2.cp1y\n    };\n    const a = _pointInLine(p1, cp1, t);\n    const b = _pointInLine(cp1, cp2, t);\n    const c = _pointInLine(cp2, p2, t);\n    const d = _pointInLine(a, b, t);\n    const e = _pointInLine(b, c, t);\n    return _pointInLine(d, e, t);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n    return {\n        x (x) {\n            return rectX + rectX + width - x;\n        },\n        setWidth (w) {\n            width = w;\n        },\n        textAlign (align) {\n            if (align === 'center') {\n                return align;\n            }\n            return align === 'right' ? 'left' : 'right';\n        },\n        xPlus (x, value) {\n            return x - value;\n        },\n        leftForLtr (x, itemWidth) {\n            return x - itemWidth;\n        }\n    };\n};\nconst getLeftToRightAdapter = function() {\n    return {\n        x (x) {\n            return x;\n        },\n        setWidth (w) {},\n        textAlign (align) {\n            return align;\n        },\n        xPlus (x, value) {\n            return x + value;\n        },\n        leftForLtr (x, _itemWidth) {\n            return x;\n        }\n    };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n    return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n    let style, original;\n    if (direction === 'ltr' || direction === 'rtl') {\n        style = ctx.canvas.style;\n        original = [\n            style.getPropertyValue('direction'),\n            style.getPropertyPriority('direction')\n        ];\n        style.setProperty('direction', direction, 'important');\n        ctx.prevTextDirection = original;\n    }\n}\nfunction restoreTextDirection(ctx, original) {\n    if (original !== undefined) {\n        delete ctx.prevTextDirection;\n        ctx.canvas.style.setProperty('direction', original[0], original[1]);\n    }\n}\n\nfunction propertyFn(property) {\n    if (property === 'angle') {\n        return {\n            between: _angleBetween,\n            compare: _angleDiff,\n            normalize: _normalizeAngle\n        };\n    }\n    return {\n        between: _isBetween,\n        compare: (a, b)=>a - b,\n        normalize: (x)=>x\n    };\n}\nfunction normalizeSegment({ start , end , count , loop , style  }) {\n    return {\n        start: start % count,\n        end: end % count,\n        loop: loop && (end - start + 1) % count === 0,\n        style\n    };\n}\nfunction getSegment(segment, points, bounds) {\n    const { property , start: startBound , end: endBound  } = bounds;\n    const { between , normalize  } = propertyFn(property);\n    const count = points.length;\n    let { start , end , loop  } = segment;\n    let i, ilen;\n    if (loop) {\n        start += count;\n        end += count;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n                break;\n            }\n            start--;\n            end--;\n        }\n        start %= count;\n        end %= count;\n    }\n    if (end < start) {\n        end += count;\n    }\n    return {\n        start,\n        end,\n        loop,\n        style: segment.style\n    };\n}\n function _boundSegment(segment, points, bounds) {\n    if (!bounds) {\n        return [\n            segment\n        ];\n    }\n    const { property , start: startBound , end: endBound  } = bounds;\n    const count = points.length;\n    const { compare , between , normalize  } = propertyFn(property);\n    const { start , end , loop , style  } = getSegment(segment, points, bounds);\n    const result = [];\n    let inside = false;\n    let subStart = null;\n    let value, point, prevValue;\n    const startIsBefore = ()=>between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n    const endIsBefore = ()=>compare(endBound, value) === 0 || between(endBound, prevValue, value);\n    const shouldStart = ()=>inside || startIsBefore();\n    const shouldStop = ()=>!inside || endIsBefore();\n    for(let i = start, prev = start; i <= end; ++i){\n        point = points[i % count];\n        if (point.skip) {\n            continue;\n        }\n        value = normalize(point[property]);\n        if (value === prevValue) {\n            continue;\n        }\n        inside = between(value, startBound, endBound);\n        if (subStart === null && shouldStart()) {\n            subStart = compare(value, startBound) === 0 ? i : prev;\n        }\n        if (subStart !== null && shouldStop()) {\n            result.push(normalizeSegment({\n                start: subStart,\n                end: i,\n                loop,\n                count,\n                style\n            }));\n            subStart = null;\n        }\n        prev = i;\n        prevValue = value;\n    }\n    if (subStart !== null) {\n        result.push(normalizeSegment({\n            start: subStart,\n            end,\n            loop,\n            count,\n            style\n        }));\n    }\n    return result;\n}\n function _boundSegments(line, bounds) {\n    const result = [];\n    const segments = line.segments;\n    for(let i = 0; i < segments.length; i++){\n        const sub = _boundSegment(segments[i], line.points, bounds);\n        if (sub.length) {\n            result.push(...sub);\n        }\n    }\n    return result;\n}\n function findStartAndEnd(points, count, loop, spanGaps) {\n    let start = 0;\n    let end = count - 1;\n    if (loop && !spanGaps) {\n        while(start < count && !points[start].skip){\n            start++;\n        }\n    }\n    while(start < count && points[start].skip){\n        start++;\n    }\n    start %= count;\n    if (loop) {\n        end += start;\n    }\n    while(end > start && points[end % count].skip){\n        end--;\n    }\n    end %= count;\n    return {\n        start,\n        end\n    };\n}\n function solidSegments(points, start, max, loop) {\n    const count = points.length;\n    const result = [];\n    let last = start;\n    let prev = points[start];\n    let end;\n    for(end = start + 1; end <= max; ++end){\n        const cur = points[end % count];\n        if (cur.skip || cur.stop) {\n            if (!prev.skip) {\n                loop = false;\n                result.push({\n                    start: start % count,\n                    end: (end - 1) % count,\n                    loop\n                });\n                start = last = cur.stop ? end : null;\n            }\n        } else {\n            last = end;\n            if (prev.skip) {\n                start = end;\n            }\n        }\n        prev = cur;\n    }\n    if (last !== null) {\n        result.push({\n            start: start % count,\n            end: last % count,\n            loop\n        });\n    }\n    return result;\n}\n function _computeSegments(line, segmentOptions) {\n    const points = line.points;\n    const spanGaps = line.options.spanGaps;\n    const count = points.length;\n    if (!count) {\n        return [];\n    }\n    const loop = !!line._loop;\n    const { start , end  } = findStartAndEnd(points, count, loop, spanGaps);\n    if (spanGaps === true) {\n        return splitByStyles(line, [\n            {\n                start,\n                end,\n                loop\n            }\n        ], points, segmentOptions);\n    }\n    const max = end < start ? end + count : end;\n    const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n    return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n function splitByStyles(line, segments, points, segmentOptions) {\n    if (!segmentOptions || !segmentOptions.setContext || !points) {\n        return segments;\n    }\n    return doSplitByStyles(line, segments, points, segmentOptions);\n}\n function doSplitByStyles(line, segments, points, segmentOptions) {\n    const chartContext = line._chart.getContext();\n    const baseStyle = readStyle(line.options);\n    const { _datasetIndex: datasetIndex , options: { spanGaps  }  } = line;\n    const count = points.length;\n    const result = [];\n    let prevStyle = baseStyle;\n    let start = segments[0].start;\n    let i = start;\n    function addStyle(s, e, l, st) {\n        const dir = spanGaps ? -1 : 1;\n        if (s === e) {\n            return;\n        }\n        s += count;\n        while(points[s % count].skip){\n            s -= dir;\n        }\n        while(points[e % count].skip){\n            e += dir;\n        }\n        if (s % count !== e % count) {\n            result.push({\n                start: s % count,\n                end: e % count,\n                loop: l,\n                style: st\n            });\n            prevStyle = st;\n            start = e % count;\n        }\n    }\n    for (const segment of segments){\n        start = spanGaps ? start : segment.start;\n        let prev = points[start % count];\n        let style;\n        for(i = start + 1; i <= segment.end; i++){\n            const pt = points[i % count];\n            style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n                type: 'segment',\n                p0: prev,\n                p1: pt,\n                p0DataIndex: (i - 1) % count,\n                p1DataIndex: i % count,\n                datasetIndex\n            })));\n            if (styleChanged(style, prevStyle)) {\n                addStyle(start, i - 1, segment.loop, prevStyle);\n            }\n            prev = pt;\n            prevStyle = style;\n        }\n        if (start < i - 1) {\n            addStyle(start, i - 1, segment.loop, prevStyle);\n        }\n    }\n    return result;\n}\nfunction readStyle(options) {\n    return {\n        backgroundColor: options.backgroundColor,\n        borderCapStyle: options.borderCapStyle,\n        borderDash: options.borderDash,\n        borderDashOffset: options.borderDashOffset,\n        borderJoinStyle: options.borderJoinStyle,\n        borderWidth: options.borderWidth,\n        borderColor: options.borderColor\n    };\n}\nfunction styleChanged(style, prevStyle) {\n    if (!prevStyle) {\n        return false;\n    }\n    const cache = [];\n    const replacer = function(key, value) {\n        if (!isPatternOrGradient(value)) {\n            return value;\n        }\n        if (!cache.includes(value)) {\n            cache.push(value);\n        }\n        return cache.indexOf(value);\n    };\n    return JSON.stringify(style, replacer) !== JSON.stringify(prevStyle, replacer);\n}\n\nexport { unclipArea as $, _rlookupByKey as A, _lookupByKey as B, _isPointInArea as C, getAngleFromPoint as D, toPadding as E, each as F, getMaximumSize as G, HALF_PI as H, _getParentNode as I, readUsedSize as J, supportsEventListenerOptions as K, throttled as L, _isDomSupported as M, _factorize as N, finiteOrDefault as O, PI as P, callback as Q, _addGrace as R, _limitValue as S, TAU as T, toDegrees as U, _measureText as V, _int16Range as W, _alignPixel as X, clipArea as Y, renderText as Z, _arrayUnique as _, resolve as a, fontString as a$, toFont as a0, _toLeftRightCenter as a1, _alignStartEnd as a2, overrides as a3, merge as a4, _capitalize as a5, descriptors as a6, isFunction as a7, _attachContext as a8, _createResolver as a9, overrideTextDirection as aA, _textX as aB, restoreTextDirection as aC, drawPointLegend as aD, distanceBetweenPoints as aE, noop as aF, _setMinAndMaxByKey as aG, niceNum as aH, almostWhole as aI, almostEquals as aJ, _decimalPlaces as aK, Ticks as aL, log10 as aM, _longestText as aN, _filterBetween as aO, _lookup as aP, isPatternOrGradient as aQ, getHoverColor as aR, clone as aS, _merger as aT, _mergerIf as aU, _deprecated as aV, _splitKey as aW, toFontString as aX, splineCurve as aY, splineCurveMonotone as aZ, getStyle as a_, _descriptors as aa, mergeIf as ab, uid as ac, debounce as ad, retinaScale as ae, clearCanvas as af, setsEqual as ag, _elementsEqual as ah, _isClickEvent as ai, _isBetween as aj, _readValueToProps as ak, _updateBezierControlPoints as al, _computeSegments as am, _boundSegments as an, _steppedInterpolation as ao, _bezierInterpolation as ap, _pointInLine as aq, _steppedLineTo as ar, _bezierCurveTo as as, drawPoint as at, addRoundedRectPath as au, toTRBL as av, toTRBLCorners as aw, _boundSegment as ax, _normalizeAngle as ay, getRtlAdapter as az, isArray as b, toLineHeight as b0, PITAU as b1, INFINITY as b2, RAD_PER_DEG as b3, QUARTER_PI as b4, TWO_THIRDS_PI as b5, _angleDiff as b6, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, defined as h, isObject as i, createContext as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, _getStartAndCountOfVisiblePoints as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _scaleRangesChanged as w, isNumber as x, _parseObjectDataRadialScale as y, getRelativePosition as z };\n//# sourceMappingURL=helpers.segment.js.map\n","/*!\n * Chart.js v4.4.0\n * https://www.chartjs.org\n * (c) 2023 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, i as isObject, d as defaults, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as defined, s as sign, j as createContext, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as _getStartAndCountOfVisiblePoints, w as _scaleRangesChanged, x as isNumber, y as _parseObjectDataRadialScale, z as getRelativePosition, A as _rlookupByKey, B as _lookupByKey, C as _isPointInArea, D as getAngleFromPoint, E as toPadding, F as each, G as getMaximumSize, I as _getParentNode, J as readUsedSize, K as supportsEventListenerOptions, L as throttled, M as _isDomSupported, N as _factorize, O as finiteOrDefault, Q as callback, R as _addGrace, S as _limitValue, U as toDegrees, V as _measureText, W as _int16Range, X as _alignPixel, Y as clipArea, Z as renderText, $ as unclipArea, a0 as toFont, a1 as _toLeftRightCenter, a2 as _alignStartEnd, a3 as overrides, a4 as merge, a5 as _capitalize, a6 as descriptors, a7 as isFunction, a8 as _attachContext, a9 as _createResolver, aa as _descriptors, ab as mergeIf, ac as uid, ad as debounce, ae as retinaScale, af as clearCanvas, ag as setsEqual, ah as _elementsEqual, ai as _isClickEvent, aj as _isBetween, ak as _readValueToProps, al as _updateBezierControlPoints, am as _computeSegments, an as _boundSegments, ao as _steppedInterpolation, ap as _bezierInterpolation, aq as _pointInLine, ar as _steppedLineTo, as as _bezierCurveTo, at as drawPoint, au as addRoundedRectPath, av as toTRBL, aw as toTRBLCorners, ax as _boundSegment, ay as _normalizeAngle, az as getRtlAdapter, aA as overrideTextDirection, aB as _textX, aC as restoreTextDirection, aD as drawPointLegend, aE as distanceBetweenPoints, aF as noop, aG as _setMinAndMaxByKey, aH as niceNum, aI as almostWhole, aJ as almostEquals, aK as _decimalPlaces, aL as Ticks, aM as log10, aN as _longestText, aO as _filterBetween, aP as _lookup } from './chunks/helpers.segment.js';\nimport '@kurkle/color';\n\nclass Animator {\n    constructor(){\n        this._request = null;\n        this._charts = new Map();\n        this._running = false;\n        this._lastDate = undefined;\n    }\n _notify(chart, anims, date, type) {\n        const callbacks = anims.listeners[type];\n        const numSteps = anims.duration;\n        callbacks.forEach((fn)=>fn({\n                chart,\n                initial: anims.initial,\n                numSteps,\n                currentStep: Math.min(date - anims.start, numSteps)\n            }));\n    }\n _refresh() {\n        if (this._request) {\n            return;\n        }\n        this._running = true;\n        this._request = requestAnimFrame.call(window, ()=>{\n            this._update();\n            this._request = null;\n            if (this._running) {\n                this._refresh();\n            }\n        });\n    }\n _update(date = Date.now()) {\n        let remaining = 0;\n        this._charts.forEach((anims, chart)=>{\n            if (!anims.running || !anims.items.length) {\n                return;\n            }\n            const items = anims.items;\n            let i = items.length - 1;\n            let draw = false;\n            let item;\n            for(; i >= 0; --i){\n                item = items[i];\n                if (item._active) {\n                    if (item._total > anims.duration) {\n                        anims.duration = item._total;\n                    }\n                    item.tick(date);\n                    draw = true;\n                } else {\n                    items[i] = items[items.length - 1];\n                    items.pop();\n                }\n            }\n            if (draw) {\n                chart.draw();\n                this._notify(chart, anims, date, 'progress');\n            }\n            if (!items.length) {\n                anims.running = false;\n                this._notify(chart, anims, date, 'complete');\n                anims.initial = false;\n            }\n            remaining += items.length;\n        });\n        this._lastDate = date;\n        if (remaining === 0) {\n            this._running = false;\n        }\n    }\n _getAnims(chart) {\n        const charts = this._charts;\n        let anims = charts.get(chart);\n        if (!anims) {\n            anims = {\n                running: false,\n                initial: true,\n                items: [],\n                listeners: {\n                    complete: [],\n                    progress: []\n                }\n            };\n            charts.set(chart, anims);\n        }\n        return anims;\n    }\n listen(chart, event, cb) {\n        this._getAnims(chart).listeners[event].push(cb);\n    }\n add(chart, items) {\n        if (!items || !items.length) {\n            return;\n        }\n        this._getAnims(chart).items.push(...items);\n    }\n has(chart) {\n        return this._getAnims(chart).items.length > 0;\n    }\n start(chart) {\n        const anims = this._charts.get(chart);\n        if (!anims) {\n            return;\n        }\n        anims.running = true;\n        anims.start = Date.now();\n        anims.duration = anims.items.reduce((acc, cur)=>Math.max(acc, cur._duration), 0);\n        this._refresh();\n    }\n    running(chart) {\n        if (!this._running) {\n            return false;\n        }\n        const anims = this._charts.get(chart);\n        if (!anims || !anims.running || !anims.items.length) {\n            return false;\n        }\n        return true;\n    }\n stop(chart) {\n        const anims = this._charts.get(chart);\n        if (!anims || !anims.items.length) {\n            return;\n        }\n        const items = anims.items;\n        let i = items.length - 1;\n        for(; i >= 0; --i){\n            items[i].cancel();\n        }\n        anims.items = [];\n        this._notify(chart, anims, Date.now(), 'complete');\n    }\n remove(chart) {\n        return this._charts.delete(chart);\n    }\n}\nvar animator = /* #__PURE__ */ new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n    boolean (from, to, factor) {\n        return factor > 0.5 ? to : from;\n    },\n color (from, to, factor) {\n        const c0 = color(from || transparent);\n        const c1 = c0.valid && color(to || transparent);\n        return c1 && c1.valid ? c1.mix(c0, factor).hexString() : to;\n    },\n    number (from, to, factor) {\n        return from + (to - from) * factor;\n    }\n};\nclass Animation {\n    constructor(cfg, target, prop, to){\n        const currentValue = target[prop];\n        to = resolve([\n            cfg.to,\n            to,\n            currentValue,\n            cfg.from\n        ]);\n        const from = resolve([\n            cfg.from,\n            currentValue,\n            to\n        ]);\n        this._active = true;\n        this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n        this._easing = effects[cfg.easing] || effects.linear;\n        this._start = Math.floor(Date.now() + (cfg.delay || 0));\n        this._duration = this._total = Math.floor(cfg.duration);\n        this._loop = !!cfg.loop;\n        this._target = target;\n        this._prop = prop;\n        this._from = from;\n        this._to = to;\n        this._promises = undefined;\n    }\n    active() {\n        return this._active;\n    }\n    update(cfg, to, date) {\n        if (this._active) {\n            this._notify(false);\n            const currentValue = this._target[this._prop];\n            const elapsed = date - this._start;\n            const remain = this._duration - elapsed;\n            this._start = date;\n            this._duration = Math.floor(Math.max(remain, cfg.duration));\n            this._total += elapsed;\n            this._loop = !!cfg.loop;\n            this._to = resolve([\n                cfg.to,\n                to,\n                currentValue,\n                cfg.from\n            ]);\n            this._from = resolve([\n                cfg.from,\n                currentValue,\n                to\n            ]);\n        }\n    }\n    cancel() {\n        if (this._active) {\n            this.tick(Date.now());\n            this._active = false;\n            this._notify(false);\n        }\n    }\n    tick(date) {\n        const elapsed = date - this._start;\n        const duration = this._duration;\n        const prop = this._prop;\n        const from = this._from;\n        const loop = this._loop;\n        const to = this._to;\n        let factor;\n        this._active = from !== to && (loop || elapsed < duration);\n        if (!this._active) {\n            this._target[prop] = to;\n            this._notify(true);\n            return;\n        }\n        if (elapsed < 0) {\n            this._target[prop] = from;\n            return;\n        }\n        factor = elapsed / duration % 2;\n        factor = loop && factor > 1 ? 2 - factor : factor;\n        factor = this._easing(Math.min(1, Math.max(0, factor)));\n        this._target[prop] = this._fn(from, to, factor);\n    }\n    wait() {\n        const promises = this._promises || (this._promises = []);\n        return new Promise((res, rej)=>{\n            promises.push({\n                res,\n                rej\n            });\n        });\n    }\n    _notify(resolved) {\n        const method = resolved ? 'res' : 'rej';\n        const promises = this._promises || [];\n        for(let i = 0; i < promises.length; i++){\n            promises[i][method]();\n        }\n    }\n}\n\nclass Animations {\n    constructor(chart, config){\n        this._chart = chart;\n        this._properties = new Map();\n        this.configure(config);\n    }\n    configure(config) {\n        if (!isObject(config)) {\n            return;\n        }\n        const animationOptions = Object.keys(defaults.animation);\n        const animatedProps = this._properties;\n        Object.getOwnPropertyNames(config).forEach((key)=>{\n            const cfg = config[key];\n            if (!isObject(cfg)) {\n                return;\n            }\n            const resolved = {};\n            for (const option of animationOptions){\n                resolved[option] = cfg[option];\n            }\n            (isArray(cfg.properties) && cfg.properties || [\n                key\n            ]).forEach((prop)=>{\n                if (prop === key || !animatedProps.has(prop)) {\n                    animatedProps.set(prop, resolved);\n                }\n            });\n        });\n    }\n _animateOptions(target, values) {\n        const newOptions = values.options;\n        const options = resolveTargetOptions(target, newOptions);\n        if (!options) {\n            return [];\n        }\n        const animations = this._createAnimations(options, newOptions);\n        if (newOptions.$shared) {\n            awaitAll(target.options.$animations, newOptions).then(()=>{\n                target.options = newOptions;\n            }, ()=>{\n            });\n        }\n        return animations;\n    }\n _createAnimations(target, values) {\n        const animatedProps = this._properties;\n        const animations = [];\n        const running = target.$animations || (target.$animations = {});\n        const props = Object.keys(values);\n        const date = Date.now();\n        let i;\n        for(i = props.length - 1; i >= 0; --i){\n            const prop = props[i];\n            if (prop.charAt(0) === '$') {\n                continue;\n            }\n            if (prop === 'options') {\n                animations.push(...this._animateOptions(target, values));\n                continue;\n            }\n            const value = values[prop];\n            let animation = running[prop];\n            const cfg = animatedProps.get(prop);\n            if (animation) {\n                if (cfg && animation.active()) {\n                    animation.update(cfg, value, date);\n                    continue;\n                } else {\n                    animation.cancel();\n                }\n            }\n            if (!cfg || !cfg.duration) {\n                target[prop] = value;\n                continue;\n            }\n            running[prop] = animation = new Animation(cfg, target, prop, value);\n            animations.push(animation);\n        }\n        return animations;\n    }\n update(target, values) {\n        if (this._properties.size === 0) {\n            Object.assign(target, values);\n            return;\n        }\n        const animations = this._createAnimations(target, values);\n        if (animations.length) {\n            animator.add(this._chart, animations);\n            return true;\n        }\n    }\n}\nfunction awaitAll(animations, properties) {\n    const running = [];\n    const keys = Object.keys(properties);\n    for(let i = 0; i < keys.length; i++){\n        const anim = animations[keys[i]];\n        if (anim && anim.active()) {\n            running.push(anim.wait());\n        }\n    }\n    return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n    if (!newOptions) {\n        return;\n    }\n    let options = target.options;\n    if (!options) {\n        target.options = newOptions;\n        return;\n    }\n    if (options.$shared) {\n        target.options = options = Object.assign({}, options, {\n            $shared: false,\n            $animations: {}\n        });\n    }\n    return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n    const opts = scale && scale.options || {};\n    const reverse = opts.reverse;\n    const min = opts.min === undefined ? allowedOverflow : 0;\n    const max = opts.max === undefined ? allowedOverflow : 0;\n    return {\n        start: reverse ? max : min,\n        end: reverse ? min : max\n    };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n    if (allowedOverflow === false) {\n        return false;\n    }\n    const x = scaleClip(xScale, allowedOverflow);\n    const y = scaleClip(yScale, allowedOverflow);\n    return {\n        top: y.end,\n        right: x.end,\n        bottom: y.start,\n        left: x.start\n    };\n}\nfunction toClip(value) {\n    let t, r, b, l;\n    if (isObject(value)) {\n        t = value.top;\n        r = value.right;\n        b = value.bottom;\n        l = value.left;\n    } else {\n        t = r = b = l = value;\n    }\n    return {\n        top: t,\n        right: r,\n        bottom: b,\n        left: l,\n        disabled: value === false\n    };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n    const keys = [];\n    const metasets = chart._getSortedDatasetMetas(filterVisible);\n    let i, ilen;\n    for(i = 0, ilen = metasets.length; i < ilen; ++i){\n        keys.push(metasets[i].index);\n    }\n    return keys;\n}\nfunction applyStack(stack, value, dsIndex, options = {}) {\n    const keys = stack.keys;\n    const singleMode = options.mode === 'single';\n    let i, ilen, datasetIndex, otherValue;\n    if (value === null) {\n        return;\n    }\n    for(i = 0, ilen = keys.length; i < ilen; ++i){\n        datasetIndex = +keys[i];\n        if (datasetIndex === dsIndex) {\n            if (options.all) {\n                continue;\n            }\n            break;\n        }\n        otherValue = stack.values[datasetIndex];\n        if (isNumberFinite(otherValue) && (singleMode || value === 0 || sign(value) === sign(otherValue))) {\n            value += otherValue;\n        }\n    }\n    return value;\n}\nfunction convertObjectDataToArray(data) {\n    const keys = Object.keys(data);\n    const adata = new Array(keys.length);\n    let i, ilen, key;\n    for(i = 0, ilen = keys.length; i < ilen; ++i){\n        key = keys[i];\n        adata[i] = {\n            x: key,\n            y: data[key]\n        };\n    }\n    return adata;\n}\nfunction isStacked(scale, meta) {\n    const stacked = scale && scale.options.stacked;\n    return stacked || stacked === undefined && meta.stack !== undefined;\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n    return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n    const { min , max , minDefined , maxDefined  } = scale.getUserBounds();\n    return {\n        min: minDefined ? min : Number.NEGATIVE_INFINITY,\n        max: maxDefined ? max : Number.POSITIVE_INFINITY\n    };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n    const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n    return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n    for (const meta of vScale.getMatchingVisibleMetas(type).reverse()){\n        const value = stack[meta.index];\n        if (positive && value > 0 || !positive && value < 0) {\n            return meta.index;\n        }\n    }\n    return null;\n}\nfunction updateStacks(controller, parsed) {\n    const { chart , _cachedMeta: meta  } = controller;\n    const stacks = chart._stacks || (chart._stacks = {});\n    const { iScale , vScale , index: datasetIndex  } = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const key = getStackKey(iScale, vScale, meta);\n    const ilen = parsed.length;\n    let stack;\n    for(let i = 0; i < ilen; ++i){\n        const item = parsed[i];\n        const { [iAxis]: index , [vAxis]: value  } = item;\n        const itemStacks = item._stacks || (item._stacks = {});\n        stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n        stack[datasetIndex] = value;\n        stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n        stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n        const visualValues = stack._visualValues || (stack._visualValues = {});\n        visualValues[datasetIndex] = value;\n    }\n}\nfunction getFirstScaleId(chart, axis) {\n    const scales = chart.scales;\n    return Object.keys(scales).filter((key)=>scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n    return createContext(parent, {\n        active: false,\n        dataset: undefined,\n        datasetIndex: index,\n        index,\n        mode: 'default',\n        type: 'dataset'\n    });\n}\nfunction createDataContext(parent, index, element) {\n    return createContext(parent, {\n        active: false,\n        dataIndex: index,\n        parsed: undefined,\n        raw: undefined,\n        element,\n        index,\n        mode: 'default',\n        type: 'data'\n    });\n}\nfunction clearStacks(meta, items) {\n    const datasetIndex = meta.controller.index;\n    const axis = meta.vScale && meta.vScale.axis;\n    if (!axis) {\n        return;\n    }\n    items = items || meta._parsed;\n    for (const parsed of items){\n        const stacks = parsed._stacks;\n        if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n            return;\n        }\n        delete stacks[axis][datasetIndex];\n        if (stacks[axis]._visualValues !== undefined && stacks[axis]._visualValues[datasetIndex] !== undefined) {\n            delete stacks[axis]._visualValues[datasetIndex];\n        }\n    }\n}\nconst isDirectUpdateMode = (mode)=>mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared)=>shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart)=>canStack && !meta.hidden && meta._stacked && {\n        keys: getSortedDatasetIndices(chart, true),\n        values: null\n    };\nclass DatasetController {\n static defaults = {};\n static datasetElementType = null;\n static dataElementType = null;\n constructor(chart, datasetIndex){\n        this.chart = chart;\n        this._ctx = chart.ctx;\n        this.index = datasetIndex;\n        this._cachedDataOpts = {};\n        this._cachedMeta = this.getMeta();\n        this._type = this._cachedMeta.type;\n        this.options = undefined;\n         this._parsing = false;\n        this._data = undefined;\n        this._objectData = undefined;\n        this._sharedOptions = undefined;\n        this._drawStart = undefined;\n        this._drawCount = undefined;\n        this.enableOptionSharing = false;\n        this.supportsDecimation = false;\n        this.$context = undefined;\n        this._syncList = [];\n        this.datasetElementType = new.target.datasetElementType;\n        this.dataElementType = new.target.dataElementType;\n        this.initialize();\n    }\n    initialize() {\n        const meta = this._cachedMeta;\n        this.configure();\n        this.linkScales();\n        meta._stacked = isStacked(meta.vScale, meta);\n        this.addElements();\n        if (this.options.fill && !this.chart.isPluginEnabled('filler')) {\n            console.warn(\"Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options\");\n        }\n    }\n    updateIndex(datasetIndex) {\n        if (this.index !== datasetIndex) {\n            clearStacks(this._cachedMeta);\n        }\n        this.index = datasetIndex;\n    }\n    linkScales() {\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const dataset = this.getDataset();\n        const chooseId = (axis, x, y, r)=>axis === 'x' ? x : axis === 'r' ? r : y;\n        const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n        const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n        const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n        const indexAxis = meta.indexAxis;\n        const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n        const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n        meta.xScale = this.getScaleForId(xid);\n        meta.yScale = this.getScaleForId(yid);\n        meta.rScale = this.getScaleForId(rid);\n        meta.iScale = this.getScaleForId(iid);\n        meta.vScale = this.getScaleForId(vid);\n    }\n    getDataset() {\n        return this.chart.data.datasets[this.index];\n    }\n    getMeta() {\n        return this.chart.getDatasetMeta(this.index);\n    }\n getScaleForId(scaleID) {\n        return this.chart.scales[scaleID];\n    }\n _getOtherScale(scale) {\n        const meta = this._cachedMeta;\n        return scale === meta.iScale ? meta.vScale : meta.iScale;\n    }\n    reset() {\n        this._update('reset');\n    }\n _destroy() {\n        const meta = this._cachedMeta;\n        if (this._data) {\n            unlistenArrayEvents(this._data, this);\n        }\n        if (meta._stacked) {\n            clearStacks(meta);\n        }\n    }\n _dataCheck() {\n        const dataset = this.getDataset();\n        const data = dataset.data || (dataset.data = []);\n        const _data = this._data;\n        if (isObject(data)) {\n            this._data = convertObjectDataToArray(data);\n        } else if (_data !== data) {\n            if (_data) {\n                unlistenArrayEvents(_data, this);\n                const meta = this._cachedMeta;\n                clearStacks(meta);\n                meta._parsed = [];\n            }\n            if (data && Object.isExtensible(data)) {\n                listenArrayEvents(data, this);\n            }\n            this._syncList = [];\n            this._data = data;\n        }\n    }\n    addElements() {\n        const meta = this._cachedMeta;\n        this._dataCheck();\n        if (this.datasetElementType) {\n            meta.dataset = new this.datasetElementType();\n        }\n    }\n    buildOrUpdateElements(resetNewElements) {\n        const meta = this._cachedMeta;\n        const dataset = this.getDataset();\n        let stackChanged = false;\n        this._dataCheck();\n        const oldStacked = meta._stacked;\n        meta._stacked = isStacked(meta.vScale, meta);\n        if (meta.stack !== dataset.stack) {\n            stackChanged = true;\n            clearStacks(meta);\n            meta.stack = dataset.stack;\n        }\n        this._resyncElements(resetNewElements);\n        if (stackChanged || oldStacked !== meta._stacked) {\n            updateStacks(this, meta._parsed);\n        }\n    }\n configure() {\n        const config = this.chart.config;\n        const scopeKeys = config.datasetScopeKeys(this._type);\n        const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n        this.options = config.createResolver(scopes, this.getContext());\n        this._parsing = this.options.parsing;\n        this._cachedDataOpts = {};\n    }\n parse(start, count) {\n        const { _cachedMeta: meta , _data: data  } = this;\n        const { iScale , _stacked  } = meta;\n        const iAxis = iScale.axis;\n        let sorted = start === 0 && count === data.length ? true : meta._sorted;\n        let prev = start > 0 && meta._parsed[start - 1];\n        let i, cur, parsed;\n        if (this._parsing === false) {\n            meta._parsed = data;\n            meta._sorted = true;\n            parsed = data;\n        } else {\n            if (isArray(data[start])) {\n                parsed = this.parseArrayData(meta, data, start, count);\n            } else if (isObject(data[start])) {\n                parsed = this.parseObjectData(meta, data, start, count);\n            } else {\n                parsed = this.parsePrimitiveData(meta, data, start, count);\n            }\n            const isNotInOrderComparedToPrev = ()=>cur[iAxis] === null || prev && cur[iAxis] < prev[iAxis];\n            for(i = 0; i < count; ++i){\n                meta._parsed[i + start] = cur = parsed[i];\n                if (sorted) {\n                    if (isNotInOrderComparedToPrev()) {\n                        sorted = false;\n                    }\n                    prev = cur;\n                }\n            }\n            meta._sorted = sorted;\n        }\n        if (_stacked) {\n            updateStacks(this, parsed);\n        }\n    }\n parsePrimitiveData(meta, data, start, count) {\n        const { iScale , vScale  } = meta;\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const labels = iScale.getLabels();\n        const singleScale = iScale === vScale;\n        const parsed = new Array(count);\n        let i, ilen, index;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            parsed[i] = {\n                [iAxis]: singleScale || iScale.parse(labels[index], index),\n                [vAxis]: vScale.parse(data[index], index)\n            };\n        }\n        return parsed;\n    }\n parseArrayData(meta, data, start, count) {\n        const { xScale , yScale  } = meta;\n        const parsed = new Array(count);\n        let i, ilen, index, item;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            item = data[index];\n            parsed[i] = {\n                x: xScale.parse(item[0], index),\n                y: yScale.parse(item[1], index)\n            };\n        }\n        return parsed;\n    }\n parseObjectData(meta, data, start, count) {\n        const { xScale , yScale  } = meta;\n        const { xAxisKey ='x' , yAxisKey ='y'  } = this._parsing;\n        const parsed = new Array(count);\n        let i, ilen, index, item;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            item = data[index];\n            parsed[i] = {\n                x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n                y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n            };\n        }\n        return parsed;\n    }\n getParsed(index) {\n        return this._cachedMeta._parsed[index];\n    }\n getDataElement(index) {\n        return this._cachedMeta.data[index];\n    }\n applyStack(scale, parsed, mode) {\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const value = parsed[scale.axis];\n        const stack = {\n            keys: getSortedDatasetIndices(chart, true),\n            values: parsed._stacks[scale.axis]._visualValues\n        };\n        return applyStack(stack, value, meta.index, {\n            mode\n        });\n    }\n updateRangeFromParsed(range, scale, parsed, stack) {\n        const parsedValue = parsed[scale.axis];\n        let value = parsedValue === null ? NaN : parsedValue;\n        const values = stack && parsed._stacks[scale.axis];\n        if (stack && values) {\n            stack.values = values;\n            value = applyStack(stack, parsedValue, this._cachedMeta.index);\n        }\n        range.min = Math.min(range.min, value);\n        range.max = Math.max(range.max, value);\n    }\n getMinMax(scale, canStack) {\n        const meta = this._cachedMeta;\n        const _parsed = meta._parsed;\n        const sorted = meta._sorted && scale === meta.iScale;\n        const ilen = _parsed.length;\n        const otherScale = this._getOtherScale(scale);\n        const stack = createStack(canStack, meta, this.chart);\n        const range = {\n            min: Number.POSITIVE_INFINITY,\n            max: Number.NEGATIVE_INFINITY\n        };\n        const { min: otherMin , max: otherMax  } = getUserBounds(otherScale);\n        let i, parsed;\n        function _skip() {\n            parsed = _parsed[i];\n            const otherValue = parsed[otherScale.axis];\n            return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n        }\n        for(i = 0; i < ilen; ++i){\n            if (_skip()) {\n                continue;\n            }\n            this.updateRangeFromParsed(range, scale, parsed, stack);\n            if (sorted) {\n                break;\n            }\n        }\n        if (sorted) {\n            for(i = ilen - 1; i >= 0; --i){\n                if (_skip()) {\n                    continue;\n                }\n                this.updateRangeFromParsed(range, scale, parsed, stack);\n                break;\n            }\n        }\n        return range;\n    }\n    getAllParsedValues(scale) {\n        const parsed = this._cachedMeta._parsed;\n        const values = [];\n        let i, ilen, value;\n        for(i = 0, ilen = parsed.length; i < ilen; ++i){\n            value = parsed[i][scale.axis];\n            if (isNumberFinite(value)) {\n                values.push(value);\n            }\n        }\n        return values;\n    }\n getMaxOverflow() {\n        return false;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const iScale = meta.iScale;\n        const vScale = meta.vScale;\n        const parsed = this.getParsed(index);\n        return {\n            label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n            value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n        };\n    }\n _update(mode) {\n        const meta = this._cachedMeta;\n        this.update(mode || 'default');\n        meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n    }\n update(mode) {}\n    draw() {\n        const ctx = this._ctx;\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const elements = meta.data || [];\n        const area = chart.chartArea;\n        const active = [];\n        const start = this._drawStart || 0;\n        const count = this._drawCount || elements.length - start;\n        const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n        let i;\n        if (meta.dataset) {\n            meta.dataset.draw(ctx, area, start, count);\n        }\n        for(i = start; i < start + count; ++i){\n            const element = elements[i];\n            if (element.hidden) {\n                continue;\n            }\n            if (element.active && drawActiveElementsOnTop) {\n                active.push(element);\n            } else {\n                element.draw(ctx, area);\n            }\n        }\n        for(i = 0; i < active.length; ++i){\n            active[i].draw(ctx, area);\n        }\n    }\n getStyle(index, active) {\n        const mode = active ? 'active' : 'default';\n        return index === undefined && this._cachedMeta.dataset ? this.resolveDatasetElementOptions(mode) : this.resolveDataElementOptions(index || 0, mode);\n    }\n getContext(index, active, mode) {\n        const dataset = this.getDataset();\n        let context;\n        if (index >= 0 && index < this._cachedMeta.data.length) {\n            const element = this._cachedMeta.data[index];\n            context = element.$context || (element.$context = createDataContext(this.getContext(), index, element));\n            context.parsed = this.getParsed(index);\n            context.raw = dataset.data[index];\n            context.index = context.dataIndex = index;\n        } else {\n            context = this.$context || (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n            context.dataset = dataset;\n            context.index = context.datasetIndex = this.index;\n        }\n        context.active = !!active;\n        context.mode = mode;\n        return context;\n    }\n resolveDatasetElementOptions(mode) {\n        return this._resolveElementOptions(this.datasetElementType.id, mode);\n    }\n resolveDataElementOptions(index, mode) {\n        return this._resolveElementOptions(this.dataElementType.id, mode, index);\n    }\n _resolveElementOptions(elementType, mode = 'default', index) {\n        const active = mode === 'active';\n        const cache = this._cachedDataOpts;\n        const cacheKey = elementType + '-' + mode;\n        const cached = cache[cacheKey];\n        const sharing = this.enableOptionSharing && defined(index);\n        if (cached) {\n            return cloneIfNotShared(cached, sharing);\n        }\n        const config = this.chart.config;\n        const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n        const prefixes = active ? [\n            `${elementType}Hover`,\n            'hover',\n            elementType,\n            ''\n        ] : [\n            elementType,\n            ''\n        ];\n        const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n        const names = Object.keys(defaults.elements[elementType]);\n        const context = ()=>this.getContext(index, active, mode);\n        const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n        if (values.$shared) {\n            values.$shared = sharing;\n            cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n        }\n        return values;\n    }\n _resolveAnimations(index, transition, active) {\n        const chart = this.chart;\n        const cache = this._cachedDataOpts;\n        const cacheKey = `animation-${transition}`;\n        const cached = cache[cacheKey];\n        if (cached) {\n            return cached;\n        }\n        let options;\n        if (chart.options.animation !== false) {\n            const config = this.chart.config;\n            const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n            const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n            options = config.createResolver(scopes, this.getContext(index, active, transition));\n        }\n        const animations = new Animations(chart, options && options.animations);\n        if (options && options._cacheable) {\n            cache[cacheKey] = Object.freeze(animations);\n        }\n        return animations;\n    }\n getSharedOptions(options) {\n        if (!options.$shared) {\n            return;\n        }\n        return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n    }\n includeOptions(mode, sharedOptions) {\n        return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n    }\n _getSharedOptions(start, mode) {\n        const firstOpts = this.resolveDataElementOptions(start, mode);\n        const previouslySharedOptions = this._sharedOptions;\n        const sharedOptions = this.getSharedOptions(firstOpts);\n        const includeOptions = this.includeOptions(mode, sharedOptions) || sharedOptions !== previouslySharedOptions;\n        this.updateSharedOptions(sharedOptions, mode, firstOpts);\n        return {\n            sharedOptions,\n            includeOptions\n        };\n    }\n updateElement(element, index, properties, mode) {\n        if (isDirectUpdateMode(mode)) {\n            Object.assign(element, properties);\n        } else {\n            this._resolveAnimations(index, mode).update(element, properties);\n        }\n    }\n updateSharedOptions(sharedOptions, mode, newOptions) {\n        if (sharedOptions && !isDirectUpdateMode(mode)) {\n            this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n        }\n    }\n _setStyle(element, index, mode, active) {\n        element.active = active;\n        const options = this.getStyle(index, active);\n        this._resolveAnimations(index, mode, active).update(element, {\n            options: !active && this.getSharedOptions(options) || options\n        });\n    }\n    removeHoverStyle(element, datasetIndex, index) {\n        this._setStyle(element, index, 'active', false);\n    }\n    setHoverStyle(element, datasetIndex, index) {\n        this._setStyle(element, index, 'active', true);\n    }\n _removeDatasetHoverStyle() {\n        const element = this._cachedMeta.dataset;\n        if (element) {\n            this._setStyle(element, undefined, 'active', false);\n        }\n    }\n _setDatasetHoverStyle() {\n        const element = this._cachedMeta.dataset;\n        if (element) {\n            this._setStyle(element, undefined, 'active', true);\n        }\n    }\n _resyncElements(resetNewElements) {\n        const data = this._data;\n        const elements = this._cachedMeta.data;\n        for (const [method, arg1, arg2] of this._syncList){\n            this[method](arg1, arg2);\n        }\n        this._syncList = [];\n        const numMeta = elements.length;\n        const numData = data.length;\n        const count = Math.min(numData, numMeta);\n        if (count) {\n            this.parse(0, count);\n        }\n        if (numData > numMeta) {\n            this._insertElements(numMeta, numData - numMeta, resetNewElements);\n        } else if (numData < numMeta) {\n            this._removeElements(numData, numMeta - numData);\n        }\n    }\n _insertElements(start, count, resetNewElements = true) {\n        const meta = this._cachedMeta;\n        const data = meta.data;\n        const end = start + count;\n        let i;\n        const move = (arr)=>{\n            arr.length += count;\n            for(i = arr.length - 1; i >= end; i--){\n                arr[i] = arr[i - count];\n            }\n        };\n        move(data);\n        for(i = start; i < end; ++i){\n            data[i] = new this.dataElementType();\n        }\n        if (this._parsing) {\n            move(meta._parsed);\n        }\n        this.parse(start, count);\n        if (resetNewElements) {\n            this.updateElements(data, start, count, 'reset');\n        }\n    }\n    updateElements(element, start, count, mode) {}\n _removeElements(start, count) {\n        const meta = this._cachedMeta;\n        if (this._parsing) {\n            const removed = meta._parsed.splice(start, count);\n            if (meta._stacked) {\n                clearStacks(meta, removed);\n            }\n        }\n        meta.data.splice(start, count);\n    }\n _sync(args) {\n        if (this._parsing) {\n            this._syncList.push(args);\n        } else {\n            const [method, arg1, arg2] = args;\n            this[method](arg1, arg2);\n        }\n        this.chart._dataChanges.push([\n            this.index,\n            ...args\n        ]);\n    }\n    _onDataPush() {\n        const count = arguments.length;\n        this._sync([\n            '_insertElements',\n            this.getDataset().data.length - count,\n            count\n        ]);\n    }\n    _onDataPop() {\n        this._sync([\n            '_removeElements',\n            this._cachedMeta.data.length - 1,\n            1\n        ]);\n    }\n    _onDataShift() {\n        this._sync([\n            '_removeElements',\n            0,\n            1\n        ]);\n    }\n    _onDataSplice(start, count) {\n        if (count) {\n            this._sync([\n                '_removeElements',\n                start,\n                count\n            ]);\n        }\n        const newCount = arguments.length - 2;\n        if (newCount) {\n            this._sync([\n                '_insertElements',\n                start,\n                newCount\n            ]);\n        }\n    }\n    _onDataUnshift() {\n        this._sync([\n            '_insertElements',\n            0,\n            arguments.length\n        ]);\n    }\n}\n\nfunction getAllScaleValues(scale, type) {\n    if (!scale._cache.$bar) {\n        const visibleMetas = scale.getMatchingVisibleMetas(type);\n        let values = [];\n        for(let i = 0, ilen = visibleMetas.length; i < ilen; i++){\n            values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n        }\n        scale._cache.$bar = _arrayUnique(values.sort((a, b)=>a - b));\n    }\n    return scale._cache.$bar;\n}\n function computeMinSampleSize(meta) {\n    const scale = meta.iScale;\n    const values = getAllScaleValues(scale, meta.type);\n    let min = scale._length;\n    let i, ilen, curr, prev;\n    const updateMinAndPrev = ()=>{\n        if (curr === 32767 || curr === -32768) {\n            return;\n        }\n        if (defined(prev)) {\n            min = Math.min(min, Math.abs(curr - prev) || min);\n        }\n        prev = curr;\n    };\n    for(i = 0, ilen = values.length; i < ilen; ++i){\n        curr = scale.getPixelForValue(values[i]);\n        updateMinAndPrev();\n    }\n    prev = undefined;\n    for(i = 0, ilen = scale.ticks.length; i < ilen; ++i){\n        curr = scale.getPixelForTick(i);\n        updateMinAndPrev();\n    }\n    return min;\n}\n function computeFitCategoryTraits(index, ruler, options, stackCount) {\n    const thickness = options.barThickness;\n    let size, ratio;\n    if (isNullOrUndef(thickness)) {\n        size = ruler.min * options.categoryPercentage;\n        ratio = options.barPercentage;\n    } else {\n        size = thickness * stackCount;\n        ratio = 1;\n    }\n    return {\n        chunk: size / stackCount,\n        ratio,\n        start: ruler.pixels[index] - size / 2\n    };\n}\n function computeFlexCategoryTraits(index, ruler, options, stackCount) {\n    const pixels = ruler.pixels;\n    const curr = pixels[index];\n    let prev = index > 0 ? pixels[index - 1] : null;\n    let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n    const percent = options.categoryPercentage;\n    if (prev === null) {\n        prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n    }\n    if (next === null) {\n        next = curr + curr - prev;\n    }\n    const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n    const size = Math.abs(next - prev) / 2 * percent;\n    return {\n        chunk: size / stackCount,\n        ratio: options.barPercentage,\n        start\n    };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n    const startValue = vScale.parse(entry[0], i);\n    const endValue = vScale.parse(entry[1], i);\n    const min = Math.min(startValue, endValue);\n    const max = Math.max(startValue, endValue);\n    let barStart = min;\n    let barEnd = max;\n    if (Math.abs(min) > Math.abs(max)) {\n        barStart = max;\n        barEnd = min;\n    }\n    item[vScale.axis] = barEnd;\n    item._custom = {\n        barStart,\n        barEnd,\n        start: startValue,\n        end: endValue,\n        min,\n        max\n    };\n}\nfunction parseValue(entry, item, vScale, i) {\n    if (isArray(entry)) {\n        parseFloatBar(entry, item, vScale, i);\n    } else {\n        item[vScale.axis] = vScale.parse(entry, i);\n    }\n    return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = [];\n    let i, ilen, item, entry;\n    for(i = start, ilen = start + count; i < ilen; ++i){\n        entry = data[i];\n        item = {};\n        item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n        parsed.push(parseValue(entry, item, vScale, i));\n    }\n    return parsed;\n}\nfunction isFloatBar(custom) {\n    return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nfunction barSign(size, vScale, actualBase) {\n    if (size !== 0) {\n        return sign(size);\n    }\n    return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\nfunction borderProps(properties) {\n    let reverse, start, end, top, bottom;\n    if (properties.horizontal) {\n        reverse = properties.base > properties.x;\n        start = 'left';\n        end = 'right';\n    } else {\n        reverse = properties.base < properties.y;\n        start = 'bottom';\n        end = 'top';\n    }\n    if (reverse) {\n        top = 'end';\n        bottom = 'start';\n    } else {\n        top = 'start';\n        bottom = 'end';\n    }\n    return {\n        start,\n        end,\n        reverse,\n        top,\n        bottom\n    };\n}\nfunction setBorderSkipped(properties, options, stack, index) {\n    let edge = options.borderSkipped;\n    const res = {};\n    if (!edge) {\n        properties.borderSkipped = res;\n        return;\n    }\n    if (edge === true) {\n        properties.borderSkipped = {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true\n        };\n        return;\n    }\n    const { start , end , reverse , top , bottom  } = borderProps(properties);\n    if (edge === 'middle' && stack) {\n        properties.enableBorderRadius = true;\n        if ((stack._top || 0) === index) {\n            edge = top;\n        } else if ((stack._bottom || 0) === index) {\n            edge = bottom;\n        } else {\n            res[parseEdge(bottom, start, end, reverse)] = true;\n            edge = top;\n        }\n    }\n    res[parseEdge(edge, start, end, reverse)] = true;\n    properties.borderSkipped = res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n    if (reverse) {\n        edge = swap(edge, a, b);\n        edge = startEnd(edge, b, a);\n    } else {\n        edge = startEnd(edge, a, b);\n    }\n    return edge;\n}\nfunction swap(orig, v1, v2) {\n    return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n    return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction setInflateAmount(properties, { inflateAmount  }, ratio) {\n    properties.inflateAmount = inflateAmount === 'auto' ? ratio === 1 ? 0.33 : 0 : inflateAmount;\n}\nclass BarController extends DatasetController {\n    static id = 'bar';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'bar',\n        categoryPercentage: 0.8,\n        barPercentage: 0.9,\n        grouped: true,\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'base',\n                    'width',\n                    'height'\n                ]\n            }\n        }\n    };\n static overrides = {\n        scales: {\n            _index_: {\n                type: 'category',\n                offset: true,\n                grid: {\n                    offset: true\n                }\n            },\n            _value_: {\n                type: 'linear',\n                beginAtZero: true\n            }\n        }\n    };\n parsePrimitiveData(meta, data, start, count) {\n        return parseArrayOrPrimitive(meta, data, start, count);\n    }\n parseArrayData(meta, data, start, count) {\n        return parseArrayOrPrimitive(meta, data, start, count);\n    }\n parseObjectData(meta, data, start, count) {\n        const { iScale , vScale  } = meta;\n        const { xAxisKey ='x' , yAxisKey ='y'  } = this._parsing;\n        const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n        const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n        const parsed = [];\n        let i, ilen, item, obj;\n        for(i = start, ilen = start + count; i < ilen; ++i){\n            obj = data[i];\n            item = {};\n            item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n            parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n        }\n        return parsed;\n    }\n updateRangeFromParsed(range, scale, parsed, stack) {\n        super.updateRangeFromParsed(range, scale, parsed, stack);\n        const custom = parsed._custom;\n        if (custom && scale === this._cachedMeta.vScale) {\n            range.min = Math.min(range.min, custom.min);\n            range.max = Math.max(range.max, custom.max);\n        }\n    }\n getMaxOverflow() {\n        return 0;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const { iScale , vScale  } = meta;\n        const parsed = this.getParsed(index);\n        const custom = parsed._custom;\n        const value = isFloatBar(custom) ? '[' + custom.start + ', ' + custom.end + ']' : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n        return {\n            label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n            value\n        };\n    }\n    initialize() {\n        this.enableOptionSharing = true;\n        super.initialize();\n        const meta = this._cachedMeta;\n        meta.stack = this.getDataset().stack;\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        this.updateElements(meta.data, 0, meta.data.length, mode);\n    }\n    updateElements(bars, start, count, mode) {\n        const reset = mode === 'reset';\n        const { index , _cachedMeta: { vScale  }  } = this;\n        const base = vScale.getBasePixel();\n        const horizontal = vScale.isHorizontal();\n        const ruler = this._getRuler();\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        for(let i = start; i < start + count; i++){\n            const parsed = this.getParsed(i);\n            const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {\n                base,\n                head: base\n            } : this._calculateBarValuePixels(i);\n            const ipixels = this._calculateBarIndexPixels(i, ruler);\n            const stack = (parsed._stacks || {})[vScale.axis];\n            const properties = {\n                horizontal,\n                base: vpixels.base,\n                enableBorderRadius: !stack || isFloatBar(parsed._custom) || index === stack._top || index === stack._bottom,\n                x: horizontal ? vpixels.head : ipixels.center,\n                y: horizontal ? ipixels.center : vpixels.head,\n                height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n                width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n            };\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n            }\n            const options = properties.options || bars[i].options;\n            setBorderSkipped(properties, options, stack, index);\n            setInflateAmount(properties, options, ruler.ratio);\n            this.updateElement(bars[i], i, properties, mode);\n        }\n    }\n _getStacks(last, dataIndex) {\n        const { iScale  } = this._cachedMeta;\n        const metasets = iScale.getMatchingVisibleMetas(this._type).filter((meta)=>meta.controller.options.grouped);\n        const stacked = iScale.options.stacked;\n        const stacks = [];\n        const skipNull = (meta)=>{\n            const parsed = meta.controller.getParsed(dataIndex);\n            const val = parsed && parsed[meta.vScale.axis];\n            if (isNullOrUndef(val) || isNaN(val)) {\n                return true;\n            }\n        };\n        for (const meta of metasets){\n            if (dataIndex !== undefined && skipNull(meta)) {\n                continue;\n            }\n            if (stacked === false || stacks.indexOf(meta.stack) === -1 || stacked === undefined && meta.stack === undefined) {\n                stacks.push(meta.stack);\n            }\n            if (meta.index === last) {\n                break;\n            }\n        }\n        if (!stacks.length) {\n            stacks.push(undefined);\n        }\n        return stacks;\n    }\n _getStackCount(index) {\n        return this._getStacks(undefined, index).length;\n    }\n _getStackIndex(datasetIndex, name, dataIndex) {\n        const stacks = this._getStacks(datasetIndex, dataIndex);\n        const index = name !== undefined ? stacks.indexOf(name) : -1;\n        return index === -1 ? stacks.length - 1 : index;\n    }\n _getRuler() {\n        const opts = this.options;\n        const meta = this._cachedMeta;\n        const iScale = meta.iScale;\n        const pixels = [];\n        let i, ilen;\n        for(i = 0, ilen = meta.data.length; i < ilen; ++i){\n            pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n        }\n        const barThickness = opts.barThickness;\n        const min = barThickness || computeMinSampleSize(meta);\n        return {\n            min,\n            pixels,\n            start: iScale._startPixel,\n            end: iScale._endPixel,\n            stackCount: this._getStackCount(),\n            scale: iScale,\n            grouped: opts.grouped,\n            ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n        };\n    }\n _calculateBarValuePixels(index) {\n        const { _cachedMeta: { vScale , _stacked , index: datasetIndex  } , options: { base: baseValue , minBarLength  }  } = this;\n        const actualBase = baseValue || 0;\n        const parsed = this.getParsed(index);\n        const custom = parsed._custom;\n        const floating = isFloatBar(custom);\n        let value = parsed[vScale.axis];\n        let start = 0;\n        let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n        let head, size;\n        if (length !== value) {\n            start = length - value;\n            length = value;\n        }\n        if (floating) {\n            value = custom.barStart;\n            length = custom.barEnd - custom.barStart;\n            if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n                start = 0;\n            }\n            start += value;\n        }\n        const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n        let base = vScale.getPixelForValue(startValue);\n        if (this.chart.getDataVisibility(index)) {\n            head = vScale.getPixelForValue(start + length);\n        } else {\n            head = base;\n        }\n        size = head - base;\n        if (Math.abs(size) < minBarLength) {\n            size = barSign(size, vScale, actualBase) * minBarLength;\n            if (value === actualBase) {\n                base -= size / 2;\n            }\n            const startPixel = vScale.getPixelForDecimal(0);\n            const endPixel = vScale.getPixelForDecimal(1);\n            const min = Math.min(startPixel, endPixel);\n            const max = Math.max(startPixel, endPixel);\n            base = Math.max(Math.min(base, max), min);\n            head = base + size;\n            if (_stacked && !floating) {\n                parsed._stacks[vScale.axis]._visualValues[datasetIndex] = vScale.getValueForPixel(head) - vScale.getValueForPixel(base);\n            }\n        }\n        if (base === vScale.getPixelForValue(actualBase)) {\n            const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n            base += halfGrid;\n            size -= halfGrid;\n        }\n        return {\n            size,\n            base,\n            head,\n            center: head + size / 2\n        };\n    }\n _calculateBarIndexPixels(index, ruler) {\n        const scale = ruler.scale;\n        const options = this.options;\n        const skipNull = options.skipNull;\n        const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n        let center, size;\n        if (ruler.grouped) {\n            const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n            const range = options.barThickness === 'flex' ? computeFlexCategoryTraits(index, ruler, options, stackCount) : computeFitCategoryTraits(index, ruler, options, stackCount);\n            const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n            center = range.start + range.chunk * stackIndex + range.chunk / 2;\n            size = Math.min(maxBarThickness, range.chunk * range.ratio);\n        } else {\n            center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n            size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n        }\n        return {\n            base: center - size / 2,\n            head: center + size / 2,\n            center,\n            size\n        };\n    }\n    draw() {\n        const meta = this._cachedMeta;\n        const vScale = meta.vScale;\n        const rects = meta.data;\n        const ilen = rects.length;\n        let i = 0;\n        for(; i < ilen; ++i){\n            if (this.getParsed(i)[vScale.axis] !== null) {\n                rects[i].draw(this._ctx);\n            }\n        }\n    }\n}\n\nclass BubbleController extends DatasetController {\n    static id = 'bubble';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'point',\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'borderWidth',\n                    'radius'\n                ]\n            }\n        }\n    };\n static overrides = {\n        scales: {\n            x: {\n                type: 'linear'\n            },\n            y: {\n                type: 'linear'\n            }\n        }\n    };\n    initialize() {\n        this.enableOptionSharing = true;\n        super.initialize();\n    }\n parsePrimitiveData(meta, data, start, count) {\n        const parsed = super.parsePrimitiveData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n        }\n        return parsed;\n    }\n parseArrayData(meta, data, start, count) {\n        const parsed = super.parseArrayData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            const item = data[start + i];\n            parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n        }\n        return parsed;\n    }\n parseObjectData(meta, data, start, count) {\n        const parsed = super.parseObjectData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            const item = data[start + i];\n            parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n        }\n        return parsed;\n    }\n getMaxOverflow() {\n        const data = this._cachedMeta.data;\n        let max = 0;\n        for(let i = data.length - 1; i >= 0; --i){\n            max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n        }\n        return max > 0 && max;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const labels = this.chart.data.labels || [];\n        const { xScale , yScale  } = meta;\n        const parsed = this.getParsed(index);\n        const x = xScale.getLabelForValue(parsed.x);\n        const y = yScale.getLabelForValue(parsed.y);\n        const r = parsed._custom;\n        return {\n            label: labels[index] || '',\n            value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n        };\n    }\n    update(mode) {\n        const points = this._cachedMeta.data;\n        this.updateElements(points, 0, points.length, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale  } = this._cachedMeta;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        for(let i = start; i < start + count; i++){\n            const point = points[i];\n            const parsed = !reset && this.getParsed(i);\n            const properties = {};\n            const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n            const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel);\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n                if (reset) {\n                    properties.options.radius = 0;\n                }\n            }\n            this.updateElement(point, i, properties, mode);\n        }\n    }\n resolveDataElementOptions(index, mode) {\n        const parsed = this.getParsed(index);\n        let values = super.resolveDataElementOptions(index, mode);\n        if (values.$shared) {\n            values = Object.assign({}, values, {\n                $shared: false\n            });\n        }\n        const radius = values.radius;\n        if (mode !== 'active') {\n            values.radius = 0;\n        }\n        values.radius += valueOrDefault(parsed && parsed._custom, radius);\n        return values;\n    }\n}\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n    let ratioX = 1;\n    let ratioY = 1;\n    let offsetX = 0;\n    let offsetY = 0;\n    if (circumference < TAU) {\n        const startAngle = rotation;\n        const endAngle = startAngle + circumference;\n        const startX = Math.cos(startAngle);\n        const startY = Math.sin(startAngle);\n        const endX = Math.cos(endAngle);\n        const endY = Math.sin(endAngle);\n        const calcMax = (angle, a, b)=>_angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n        const calcMin = (angle, a, b)=>_angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n        const maxX = calcMax(0, startX, endX);\n        const maxY = calcMax(HALF_PI, startY, endY);\n        const minX = calcMin(PI, startX, endX);\n        const minY = calcMin(PI + HALF_PI, startY, endY);\n        ratioX = (maxX - minX) / 2;\n        ratioY = (maxY - minY) / 2;\n        offsetX = -(maxX + minX) / 2;\n        offsetY = -(maxY + minY) / 2;\n    }\n    return {\n        ratioX,\n        ratioY,\n        offsetX,\n        offsetY\n    };\n}\nclass DoughnutController extends DatasetController {\n    static id = 'doughnut';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'arc',\n        animation: {\n            animateRotate: true,\n            animateScale: false\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'circumference',\n                    'endAngle',\n                    'innerRadius',\n                    'outerRadius',\n                    'startAngle',\n                    'x',\n                    'y',\n                    'offset',\n                    'borderWidth',\n                    'spacing'\n                ]\n            }\n        },\n        cutout: '50%',\n        rotation: 0,\n        circumference: 360,\n        radius: '100%',\n        spacing: 0,\n        indexAxis: 'r'\n    };\n    static descriptors = {\n        _scriptable: (name)=>name !== 'spacing',\n        _indexable: (name)=>name !== 'spacing' && !name.startsWith('borderDash') && !name.startsWith('hoverBorderDash')\n    };\n static overrides = {\n        aspectRatio: 1,\n        plugins: {\n            legend: {\n                labels: {\n                    generateLabels (chart) {\n                        const data = chart.data;\n                        if (data.labels.length && data.datasets.length) {\n                            const { labels: { pointStyle , color  }  } = chart.legend.options;\n                            return data.labels.map((label, i)=>{\n                                const meta = chart.getDatasetMeta(0);\n                                const style = meta.controller.getStyle(i);\n                                return {\n                                    text: label,\n                                    fillStyle: style.backgroundColor,\n                                    strokeStyle: style.borderColor,\n                                    fontColor: color,\n                                    lineWidth: style.borderWidth,\n                                    pointStyle: pointStyle,\n                                    hidden: !chart.getDataVisibility(i),\n                                    index: i\n                                };\n                            });\n                        }\n                        return [];\n                    }\n                },\n                onClick (e, legendItem, legend) {\n                    legend.chart.toggleDataVisibility(legendItem.index);\n                    legend.chart.update();\n                }\n            }\n        }\n    };\n    constructor(chart, datasetIndex){\n        super(chart, datasetIndex);\n        this.enableOptionSharing = true;\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n        this.offsetX = undefined;\n        this.offsetY = undefined;\n    }\n    linkScales() {}\n parse(start, count) {\n        const data = this.getDataset().data;\n        const meta = this._cachedMeta;\n        if (this._parsing === false) {\n            meta._parsed = data;\n        } else {\n            let getter = (i)=>+data[i];\n            if (isObject(data[start])) {\n                const { key ='value'  } = this._parsing;\n                getter = (i)=>+resolveObjectKey(data[i], key);\n            }\n            let i, ilen;\n            for(i = start, ilen = start + count; i < ilen; ++i){\n                meta._parsed[i] = getter(i);\n            }\n        }\n    }\n _getRotation() {\n        return toRadians(this.options.rotation - 90);\n    }\n _getCircumference() {\n        return toRadians(this.options.circumference);\n    }\n _getRotationExtents() {\n        let min = TAU;\n        let max = -TAU;\n        for(let i = 0; i < this.chart.data.datasets.length; ++i){\n            if (this.chart.isDatasetVisible(i) && this.chart.getDatasetMeta(i).type === this._type) {\n                const controller = this.chart.getDatasetMeta(i).controller;\n                const rotation = controller._getRotation();\n                const circumference = controller._getCircumference();\n                min = Math.min(min, rotation);\n                max = Math.max(max, rotation + circumference);\n            }\n        }\n        return {\n            rotation: min,\n            circumference: max - min\n        };\n    }\n update(mode) {\n        const chart = this.chart;\n        const { chartArea  } = chart;\n        const meta = this._cachedMeta;\n        const arcs = meta.data;\n        const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n        const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n        const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n        const chartWeight = this._getRingWeight(this.index);\n        const { circumference , rotation  } = this._getRotationExtents();\n        const { ratioX , ratioY , offsetX , offsetY  } = getRatioAndOffset(rotation, circumference, cutout);\n        const maxWidth = (chartArea.width - spacing) / ratioX;\n        const maxHeight = (chartArea.height - spacing) / ratioY;\n        const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n        const outerRadius = toDimension(this.options.radius, maxRadius);\n        const innerRadius = Math.max(outerRadius * cutout, 0);\n        const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n        this.offsetX = offsetX * outerRadius;\n        this.offsetY = offsetY * outerRadius;\n        meta.total = this.calculateTotal();\n        this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n        this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n        this.updateElements(arcs, 0, arcs.length, mode);\n    }\n _circumference(i, reset) {\n        const opts = this.options;\n        const meta = this._cachedMeta;\n        const circumference = this._getCircumference();\n        if (reset && opts.animation.animateRotate || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n            return 0;\n        }\n        return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n    }\n    updateElements(arcs, start, count, mode) {\n        const reset = mode === 'reset';\n        const chart = this.chart;\n        const chartArea = chart.chartArea;\n        const opts = chart.options;\n        const animationOpts = opts.animation;\n        const centerX = (chartArea.left + chartArea.right) / 2;\n        const centerY = (chartArea.top + chartArea.bottom) / 2;\n        const animateScale = reset && animationOpts.animateScale;\n        const innerRadius = animateScale ? 0 : this.innerRadius;\n        const outerRadius = animateScale ? 0 : this.outerRadius;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        let startAngle = this._getRotation();\n        let i;\n        for(i = 0; i < start; ++i){\n            startAngle += this._circumference(i, reset);\n        }\n        for(i = start; i < start + count; ++i){\n            const circumference = this._circumference(i, reset);\n            const arc = arcs[i];\n            const properties = {\n                x: centerX + this.offsetX,\n                y: centerY + this.offsetY,\n                startAngle,\n                endAngle: startAngle + circumference,\n                circumference,\n                outerRadius,\n                innerRadius\n            };\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n            }\n            startAngle += circumference;\n            this.updateElement(arc, i, properties, mode);\n        }\n    }\n    calculateTotal() {\n        const meta = this._cachedMeta;\n        const metaData = meta.data;\n        let total = 0;\n        let i;\n        for(i = 0; i < metaData.length; i++){\n            const value = meta._parsed[i];\n            if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n                total += Math.abs(value);\n            }\n        }\n        return total;\n    }\n    calculateCircumference(value) {\n        const total = this._cachedMeta.total;\n        if (total > 0 && !isNaN(value)) {\n            return TAU * (Math.abs(value) / total);\n        }\n        return 0;\n    }\n    getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const chart = this.chart;\n        const labels = chart.data.labels || [];\n        const value = formatNumber(meta._parsed[index], chart.options.locale);\n        return {\n            label: labels[index] || '',\n            value\n        };\n    }\n    getMaxBorderWidth(arcs) {\n        let max = 0;\n        const chart = this.chart;\n        let i, ilen, meta, controller, options;\n        if (!arcs) {\n            for(i = 0, ilen = chart.data.datasets.length; i < ilen; ++i){\n                if (chart.isDatasetVisible(i)) {\n                    meta = chart.getDatasetMeta(i);\n                    arcs = meta.data;\n                    controller = meta.controller;\n                    break;\n                }\n            }\n        }\n        if (!arcs) {\n            return 0;\n        }\n        for(i = 0, ilen = arcs.length; i < ilen; ++i){\n            options = controller.resolveDataElementOptions(i);\n            if (options.borderAlign !== 'inner') {\n                max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n            }\n        }\n        return max;\n    }\n    getMaxOffset(arcs) {\n        let max = 0;\n        for(let i = 0, ilen = arcs.length; i < ilen; ++i){\n            const options = this.resolveDataElementOptions(i);\n            max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n        }\n        return max;\n    }\n _getRingWeightOffset(datasetIndex) {\n        let ringWeightOffset = 0;\n        for(let i = 0; i < datasetIndex; ++i){\n            if (this.chart.isDatasetVisible(i)) {\n                ringWeightOffset += this._getRingWeight(i);\n            }\n        }\n        return ringWeightOffset;\n    }\n _getRingWeight(datasetIndex) {\n        return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n    }\n _getVisibleDatasetWeightTotal() {\n        return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n    }\n}\n\nclass LineController extends DatasetController {\n    static id = 'line';\n static defaults = {\n        datasetElementType: 'line',\n        dataElementType: 'point',\n        showLine: true,\n        spanGaps: false\n    };\n static overrides = {\n        scales: {\n            _index_: {\n                type: 'category'\n            },\n            _value_: {\n                type: 'linear'\n            }\n        }\n    };\n    initialize() {\n        this.enableOptionSharing = true;\n        this.supportsDecimation = true;\n        super.initialize();\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const { dataset: line , data: points = [] , _dataset  } = meta;\n        const animationsDisabled = this.chart._animationsDisabled;\n        let { start , count  } = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n        this._drawStart = start;\n        this._drawCount = count;\n        if (_scaleRangesChanged(meta)) {\n            start = 0;\n            count = points.length;\n        }\n        line._chart = this.chart;\n        line._datasetIndex = this.index;\n        line._decimated = !!_dataset._decimated;\n        line.points = points;\n        const options = this.resolveDatasetElementOptions(mode);\n        if (!this.options.showLine) {\n            options.borderWidth = 0;\n        }\n        options.segment = this.options.segment;\n        this.updateElement(line, undefined, {\n            animated: !animationsDisabled,\n            options\n        }, mode);\n        this.updateElements(points, start, count, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale , _stacked , _dataset  } = this._cachedMeta;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const { spanGaps , segment  } = this.options;\n        const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n        const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n        const end = start + count;\n        const pointsCount = points.length;\n        let prevParsed = start > 0 && this.getParsed(start - 1);\n        for(let i = 0; i < pointsCount; ++i){\n            const point = points[i];\n            const properties = directUpdate ? point : {};\n            if (i < start || i >= end) {\n                properties.skip = true;\n                continue;\n            }\n            const parsed = this.getParsed(i);\n            const nullData = isNullOrUndef(parsed[vAxis]);\n            const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n            const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n            properties.stop = i > 0 && Math.abs(parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n            if (segment) {\n                properties.parsed = parsed;\n                properties.raw = _dataset.data[i];\n            }\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            }\n            if (!directUpdate) {\n                this.updateElement(point, i, properties, mode);\n            }\n            prevParsed = parsed;\n        }\n    }\n getMaxOverflow() {\n        const meta = this._cachedMeta;\n        const dataset = meta.dataset;\n        const border = dataset.options && dataset.options.borderWidth || 0;\n        const data = meta.data || [];\n        if (!data.length) {\n            return border;\n        }\n        const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n        const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n        return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n    draw() {\n        const meta = this._cachedMeta;\n        meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n        super.draw();\n    }\n}\n\nclass PolarAreaController extends DatasetController {\n    static id = 'polarArea';\n static defaults = {\n        dataElementType: 'arc',\n        animation: {\n            animateRotate: true,\n            animateScale: true\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'startAngle',\n                    'endAngle',\n                    'innerRadius',\n                    'outerRadius'\n                ]\n            }\n        },\n        indexAxis: 'r',\n        startAngle: 0\n    };\n static overrides = {\n        aspectRatio: 1,\n        plugins: {\n            legend: {\n                labels: {\n                    generateLabels (chart) {\n                        const data = chart.data;\n                        if (data.labels.length && data.datasets.length) {\n                            const { labels: { pointStyle , color  }  } = chart.legend.options;\n                            return data.labels.map((label, i)=>{\n                                const meta = chart.getDatasetMeta(0);\n                                const style = meta.controller.getStyle(i);\n                                return {\n                                    text: label,\n                                    fillStyle: style.backgroundColor,\n                                    strokeStyle: style.borderColor,\n                                    fontColor: color,\n                                    lineWidth: style.borderWidth,\n                                    pointStyle: pointStyle,\n                                    hidden: !chart.getDataVisibility(i),\n                                    index: i\n                                };\n                            });\n                        }\n                        return [];\n                    }\n                },\n                onClick (e, legendItem, legend) {\n                    legend.chart.toggleDataVisibility(legendItem.index);\n                    legend.chart.update();\n                }\n            }\n        },\n        scales: {\n            r: {\n                type: 'radialLinear',\n                angleLines: {\n                    display: false\n                },\n                beginAtZero: true,\n                grid: {\n                    circular: true\n                },\n                pointLabels: {\n                    display: false\n                },\n                startAngle: 0\n            }\n        }\n    };\n    constructor(chart, datasetIndex){\n        super(chart, datasetIndex);\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n    }\n    getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const chart = this.chart;\n        const labels = chart.data.labels || [];\n        const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n        return {\n            label: labels[index] || '',\n            value\n        };\n    }\n    parseObjectData(meta, data, start, count) {\n        return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n    }\n    update(mode) {\n        const arcs = this._cachedMeta.data;\n        this._updateRadius();\n        this.updateElements(arcs, 0, arcs.length, mode);\n    }\n getMinMax() {\n        const meta = this._cachedMeta;\n        const range = {\n            min: Number.POSITIVE_INFINITY,\n            max: Number.NEGATIVE_INFINITY\n        };\n        meta.data.forEach((element, index)=>{\n            const parsed = this.getParsed(index).r;\n            if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {\n                if (parsed < range.min) {\n                    range.min = parsed;\n                }\n                if (parsed > range.max) {\n                    range.max = parsed;\n                }\n            }\n        });\n        return range;\n    }\n _updateRadius() {\n        const chart = this.chart;\n        const chartArea = chart.chartArea;\n        const opts = chart.options;\n        const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n        const outerRadius = Math.max(minSize / 2, 0);\n        const innerRadius = Math.max(opts.cutoutPercentage ? outerRadius / 100 * opts.cutoutPercentage : 1, 0);\n        const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n        this.outerRadius = outerRadius - radiusLength * this.index;\n        this.innerRadius = this.outerRadius - radiusLength;\n    }\n    updateElements(arcs, start, count, mode) {\n        const reset = mode === 'reset';\n        const chart = this.chart;\n        const opts = chart.options;\n        const animationOpts = opts.animation;\n        const scale = this._cachedMeta.rScale;\n        const centerX = scale.xCenter;\n        const centerY = scale.yCenter;\n        const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n        let angle = datasetStartAngle;\n        let i;\n        const defaultAngle = 360 / this.countVisibleElements();\n        for(i = 0; i < start; ++i){\n            angle += this._computeAngle(i, mode, defaultAngle);\n        }\n        for(i = start; i < start + count; i++){\n            const arc = arcs[i];\n            let startAngle = angle;\n            let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n            let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;\n            angle = endAngle;\n            if (reset) {\n                if (animationOpts.animateScale) {\n                    outerRadius = 0;\n                }\n                if (animationOpts.animateRotate) {\n                    startAngle = endAngle = datasetStartAngle;\n                }\n            }\n            const properties = {\n                x: centerX,\n                y: centerY,\n                innerRadius: 0,\n                outerRadius,\n                startAngle,\n                endAngle,\n                options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n            };\n            this.updateElement(arc, i, properties, mode);\n        }\n    }\n    countVisibleElements() {\n        const meta = this._cachedMeta;\n        let count = 0;\n        meta.data.forEach((element, index)=>{\n            if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {\n                count++;\n            }\n        });\n        return count;\n    }\n _computeAngle(index, mode, defaultAngle) {\n        return this.chart.getDataVisibility(index) ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle) : 0;\n    }\n}\n\nclass PieController extends DoughnutController {\n    static id = 'pie';\n static defaults = {\n        cutout: 0,\n        rotation: 0,\n        circumference: 360,\n        radius: '100%'\n    };\n}\n\nclass RadarController extends DatasetController {\n    static id = 'radar';\n static defaults = {\n        datasetElementType: 'line',\n        dataElementType: 'point',\n        indexAxis: 'r',\n        showLine: true,\n        elements: {\n            line: {\n                fill: 'start'\n            }\n        }\n    };\n static overrides = {\n        aspectRatio: 1,\n        scales: {\n            r: {\n                type: 'radialLinear'\n            }\n        }\n    };\n getLabelAndValue(index) {\n        const vScale = this._cachedMeta.vScale;\n        const parsed = this.getParsed(index);\n        return {\n            label: vScale.getLabels()[index],\n            value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n        };\n    }\n    parseObjectData(meta, data, start, count) {\n        return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const line = meta.dataset;\n        const points = meta.data || [];\n        const labels = meta.iScale.getLabels();\n        line.points = points;\n        if (mode !== 'resize') {\n            const options = this.resolveDatasetElementOptions(mode);\n            if (!this.options.showLine) {\n                options.borderWidth = 0;\n            }\n            const properties = {\n                _loop: true,\n                _fullLoop: labels.length === points.length,\n                options\n            };\n            this.updateElement(line, undefined, properties, mode);\n        }\n        this.updateElements(points, 0, points.length, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const scale = this._cachedMeta.rScale;\n        const reset = mode === 'reset';\n        for(let i = start; i < start + count; i++){\n            const point = points[i];\n            const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);\n            const x = reset ? scale.xCenter : pointPosition.x;\n            const y = reset ? scale.yCenter : pointPosition.y;\n            const properties = {\n                x,\n                y,\n                angle: pointPosition.angle,\n                skip: isNaN(x) || isNaN(y),\n                options\n            };\n            this.updateElement(point, i, properties, mode);\n        }\n    }\n}\n\nclass ScatterController extends DatasetController {\n    static id = 'scatter';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'point',\n        showLine: false,\n        fill: false\n    };\n static overrides = {\n        interaction: {\n            mode: 'point'\n        },\n        scales: {\n            x: {\n                type: 'linear'\n            },\n            y: {\n                type: 'linear'\n            }\n        }\n    };\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const labels = this.chart.data.labels || [];\n        const { xScale , yScale  } = meta;\n        const parsed = this.getParsed(index);\n        const x = xScale.getLabelForValue(parsed.x);\n        const y = yScale.getLabelForValue(parsed.y);\n        return {\n            label: labels[index] || '',\n            value: '(' + x + ', ' + y + ')'\n        };\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const { data: points = []  } = meta;\n        const animationsDisabled = this.chart._animationsDisabled;\n        let { start , count  } = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n        this._drawStart = start;\n        this._drawCount = count;\n        if (_scaleRangesChanged(meta)) {\n            start = 0;\n            count = points.length;\n        }\n        if (this.options.showLine) {\n            if (!this.datasetElementType) {\n                this.addElements();\n            }\n            const { dataset: line , _dataset  } = meta;\n            line._chart = this.chart;\n            line._datasetIndex = this.index;\n            line._decimated = !!_dataset._decimated;\n            line.points = points;\n            const options = this.resolveDatasetElementOptions(mode);\n            options.segment = this.options.segment;\n            this.updateElement(line, undefined, {\n                animated: !animationsDisabled,\n                options\n            }, mode);\n        } else if (this.datasetElementType) {\n            delete meta.dataset;\n            this.datasetElementType = false;\n        }\n        this.updateElements(points, start, count, mode);\n    }\n    addElements() {\n        const { showLine  } = this.options;\n        if (!this.datasetElementType && showLine) {\n            this.datasetElementType = this.chart.registry.getElement('line');\n        }\n        super.addElements();\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale , _stacked , _dataset  } = this._cachedMeta;\n        const firstOpts = this.resolveDataElementOptions(start, mode);\n        const sharedOptions = this.getSharedOptions(firstOpts);\n        const includeOptions = this.includeOptions(mode, sharedOptions);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const { spanGaps , segment  } = this.options;\n        const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n        const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n        let prevParsed = start > 0 && this.getParsed(start - 1);\n        for(let i = start; i < start + count; ++i){\n            const point = points[i];\n            const parsed = this.getParsed(i);\n            const properties = directUpdate ? point : {};\n            const nullData = isNullOrUndef(parsed[vAxis]);\n            const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n            const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n            properties.stop = i > 0 && Math.abs(parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n            if (segment) {\n                properties.parsed = parsed;\n                properties.raw = _dataset.data[i];\n            }\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            }\n            if (!directUpdate) {\n                this.updateElement(point, i, properties, mode);\n            }\n            prevParsed = parsed;\n        }\n        this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n getMaxOverflow() {\n        const meta = this._cachedMeta;\n        const data = meta.data || [];\n        if (!this.options.showLine) {\n            let max = 0;\n            for(let i = data.length - 1; i >= 0; --i){\n                max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n            }\n            return max > 0 && max;\n        }\n        const dataset = meta.dataset;\n        const border = dataset.options && dataset.options.borderWidth || 0;\n        if (!data.length) {\n            return border;\n        }\n        const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n        const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n        return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n}\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPieController: PieController,\nPolarAreaController: PolarAreaController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\n/**\n * @namespace Chart._adapters\n * @since 2.8.0\n * @private\n */ function abstract() {\n    throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\n/**\n * Date adapter (current used by the time scale)\n * @namespace Chart._adapters._date\n * @memberof Chart._adapters\n * @private\n */ class DateAdapterBase {\n    /**\n   * Override default date adapter methods.\n   * Accepts type parameter to define options type.\n   * @example\n   * Chart._adapters._date.override<{myAdapterOption: string}>({\n   *   init() {\n   *     console.log(this.options.myAdapterOption);\n   *   }\n   * })\n   */ static override(members) {\n        Object.assign(DateAdapterBase.prototype, members);\n    }\n    options;\n    constructor(options){\n        this.options = options || {};\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    init() {}\n    formats() {\n        return abstract();\n    }\n    parse() {\n        return abstract();\n    }\n    format() {\n        return abstract();\n    }\n    add() {\n        return abstract();\n    }\n    diff() {\n        return abstract();\n    }\n    startOf() {\n        return abstract();\n    }\n    endOf() {\n        return abstract();\n    }\n}\nvar adapters = {\n    _date: DateAdapterBase\n};\n\nfunction binarySearch(metaset, axis, value, intersect) {\n    const { controller , data , _sorted  } = metaset;\n    const iScale = controller._cachedMeta.iScale;\n    if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n        const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n        if (!intersect) {\n            return lookupMethod(data, axis, value);\n        } else if (controller._sharedOptions) {\n            const el = data[0];\n            const range = typeof el.getRange === 'function' && el.getRange(axis);\n            if (range) {\n                const start = lookupMethod(data, axis, value - range);\n                const end = lookupMethod(data, axis, value + range);\n                return {\n                    lo: start.lo,\n                    hi: end.hi\n                };\n            }\n        }\n    }\n    return {\n        lo: 0,\n        hi: data.length - 1\n    };\n}\n function evaluateInteractionItems(chart, axis, position, handler, intersect) {\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const value = position[axis];\n    for(let i = 0, ilen = metasets.length; i < ilen; ++i){\n        const { index , data  } = metasets[i];\n        const { lo , hi  } = binarySearch(metasets[i], axis, value, intersect);\n        for(let j = lo; j <= hi; ++j){\n            const element = data[j];\n            if (!element.skip) {\n                handler(element, index, j);\n            }\n        }\n    }\n}\n function getDistanceMetricForAxis(axis) {\n    const useX = axis.indexOf('x') !== -1;\n    const useY = axis.indexOf('y') !== -1;\n    return function(pt1, pt2) {\n        const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n        const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n        return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n    };\n}\n function getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n    const items = [];\n    if (!includeInvisible && !chart.isPointInArea(position)) {\n        return items;\n    }\n    const evaluationFunc = function(element, datasetIndex, index) {\n        if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n            return;\n        }\n        if (element.inRange(position.x, position.y, useFinalPosition)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    };\n    evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n    return items;\n}\n function getNearestRadialItems(chart, position, axis, useFinalPosition) {\n    let items = [];\n    function evaluationFunc(element, datasetIndex, index) {\n        const { startAngle , endAngle  } = element.getProps([\n            'startAngle',\n            'endAngle'\n        ], useFinalPosition);\n        const { angle  } = getAngleFromPoint(element, {\n            x: position.x,\n            y: position.y\n        });\n        if (_angleBetween(angle, startAngle, endAngle)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    }\n    evaluateInteractionItems(chart, axis, position, evaluationFunc);\n    return items;\n}\n function getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n    let items = [];\n    const distanceMetric = getDistanceMetricForAxis(axis);\n    let minDistance = Number.POSITIVE_INFINITY;\n    function evaluationFunc(element, datasetIndex, index) {\n        const inRange = element.inRange(position.x, position.y, useFinalPosition);\n        if (intersect && !inRange) {\n            return;\n        }\n        const center = element.getCenterPoint(useFinalPosition);\n        const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n        if (!pointInArea && !inRange) {\n            return;\n        }\n        const distance = distanceMetric(position, center);\n        if (distance < minDistance) {\n            items = [\n                {\n                    element,\n                    datasetIndex,\n                    index\n                }\n            ];\n            minDistance = distance;\n        } else if (distance === minDistance) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    }\n    evaluateInteractionItems(chart, axis, position, evaluationFunc);\n    return items;\n}\n function getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n    if (!includeInvisible && !chart.isPointInArea(position)) {\n        return [];\n    }\n    return axis === 'r' && !intersect ? getNearestRadialItems(chart, position, axis, useFinalPosition) : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\n function getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n    const items = [];\n    const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n    let intersectsItem = false;\n    evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index)=>{\n        if (element[rangeMethod](position[axis], useFinalPosition)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n            intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n        }\n    });\n    if (intersect && !intersectsItem) {\n        return [];\n    }\n    return items;\n}\n var Interaction = {\n    evaluateInteractionItems,\n    modes: {\n index (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'x';\n            const includeInvisible = options.includeInvisible || false;\n            const items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n            const elements = [];\n            if (!items.length) {\n                return [];\n            }\n            chart.getSortedVisibleDatasetMetas().forEach((meta)=>{\n                const index = items[0].index;\n                const element = meta.data[index];\n                if (element && !element.skip) {\n                    elements.push({\n                        element,\n                        datasetIndex: meta.index,\n                        index\n                    });\n                }\n            });\n            return elements;\n        },\n dataset (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            let items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n            if (items.length > 0) {\n                const datasetIndex = items[0].datasetIndex;\n                const data = chart.getDatasetMeta(datasetIndex).data;\n                items = [];\n                for(let i = 0; i < data.length; ++i){\n                    items.push({\n                        element: data[i],\n                        datasetIndex,\n                        index: i\n                    });\n                }\n            }\n            return items;\n        },\n point (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n        },\n nearest (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n        },\n x (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n        },\n y (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n        }\n    }\n};\n\nconst STATIC_POSITIONS = [\n    'left',\n    'top',\n    'right',\n    'bottom'\n];\nfunction filterByPosition(array, position) {\n    return array.filter((v)=>v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n    return array.filter((v)=>STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n    return array.sort((a, b)=>{\n        const v0 = reverse ? b : a;\n        const v1 = reverse ? a : b;\n        return v0.weight === v1.weight ? v0.index - v1.index : v0.weight - v1.weight;\n    });\n}\nfunction wrapBoxes(boxes) {\n    const layoutBoxes = [];\n    let i, ilen, box, pos, stack, stackWeight;\n    for(i = 0, ilen = (boxes || []).length; i < ilen; ++i){\n        box = boxes[i];\n        ({ position: pos , options: { stack , stackWeight =1  }  } = box);\n        layoutBoxes.push({\n            index: i,\n            box,\n            pos,\n            horizontal: box.isHorizontal(),\n            weight: box.weight,\n            stack: stack && pos + stack,\n            stackWeight\n        });\n    }\n    return layoutBoxes;\n}\nfunction buildStacks(layouts) {\n    const stacks = {};\n    for (const wrap of layouts){\n        const { stack , pos , stackWeight  } = wrap;\n        if (!stack || !STATIC_POSITIONS.includes(pos)) {\n            continue;\n        }\n        const _stack = stacks[stack] || (stacks[stack] = {\n            count: 0,\n            placed: 0,\n            weight: 0,\n            size: 0\n        });\n        _stack.count++;\n        _stack.weight += stackWeight;\n    }\n    return stacks;\n}\n function setLayoutDims(layouts, params) {\n    const stacks = buildStacks(layouts);\n    const { vBoxMaxWidth , hBoxMaxHeight  } = params;\n    let i, ilen, layout;\n    for(i = 0, ilen = layouts.length; i < ilen; ++i){\n        layout = layouts[i];\n        const { fullSize  } = layout.box;\n        const stack = stacks[layout.stack];\n        const factor = stack && layout.stackWeight / stack.weight;\n        if (layout.horizontal) {\n            layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n            layout.height = hBoxMaxHeight;\n        } else {\n            layout.width = vBoxMaxWidth;\n            layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n        }\n    }\n    return stacks;\n}\nfunction buildLayoutBoxes(boxes) {\n    const layoutBoxes = wrapBoxes(boxes);\n    const fullSize = sortByWeight(layoutBoxes.filter((wrap)=>wrap.box.fullSize), true);\n    const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n    const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n    const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n    const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n    const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n    const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n    return {\n        fullSize,\n        leftAndTop: left.concat(top),\n        rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n        chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n        vertical: left.concat(right).concat(centerVertical),\n        horizontal: top.concat(bottom).concat(centerHorizontal)\n    };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n    return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n    maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n    maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n    maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n    maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout, stacks) {\n    const { pos , box  } = layout;\n    const maxPadding = chartArea.maxPadding;\n    if (!isObject(pos)) {\n        if (layout.size) {\n            chartArea[pos] -= layout.size;\n        }\n        const stack = stacks[layout.stack] || {\n            size: 0,\n            count: 1\n        };\n        stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n        layout.size = stack.size / stack.count;\n        chartArea[pos] += layout.size;\n    }\n    if (box.getPadding) {\n        updateMaxPadding(maxPadding, box.getPadding());\n    }\n    const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n    const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n    const widthChanged = newWidth !== chartArea.w;\n    const heightChanged = newHeight !== chartArea.h;\n    chartArea.w = newWidth;\n    chartArea.h = newHeight;\n    return layout.horizontal ? {\n        same: widthChanged,\n        other: heightChanged\n    } : {\n        same: heightChanged,\n        other: widthChanged\n    };\n}\nfunction handleMaxPadding(chartArea) {\n    const maxPadding = chartArea.maxPadding;\n    function updatePos(pos) {\n        const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n        chartArea[pos] += change;\n        return change;\n    }\n    chartArea.y += updatePos('top');\n    chartArea.x += updatePos('left');\n    updatePos('right');\n    updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n    const maxPadding = chartArea.maxPadding;\n    function marginForPositions(positions) {\n        const margin = {\n            left: 0,\n            top: 0,\n            right: 0,\n            bottom: 0\n        };\n        positions.forEach((pos)=>{\n            margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n        });\n        return margin;\n    }\n    return horizontal ? marginForPositions([\n        'left',\n        'right'\n    ]) : marginForPositions([\n        'top',\n        'bottom'\n    ]);\n}\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n    const refitBoxes = [];\n    let i, ilen, layout, box, refit, changed;\n    for(i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i){\n        layout = boxes[i];\n        box = layout.box;\n        box.update(layout.width || chartArea.w, layout.height || chartArea.h, getMargins(layout.horizontal, chartArea));\n        const { same , other  } = updateDims(chartArea, params, layout, stacks);\n        refit |= same && refitBoxes.length;\n        changed = changed || other;\n        if (!box.fullSize) {\n            refitBoxes.push(layout);\n        }\n    }\n    return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\nfunction setBoxDims(box, left, top, width, height) {\n    box.top = top;\n    box.left = left;\n    box.right = left + width;\n    box.bottom = top + height;\n    box.width = width;\n    box.height = height;\n}\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n    const userPadding = params.padding;\n    let { x , y  } = chartArea;\n    for (const layout of boxes){\n        const box = layout.box;\n        const stack = stacks[layout.stack] || {\n            count: 1,\n            placed: 0,\n            weight: 1\n        };\n        const weight = layout.stackWeight / stack.weight || 1;\n        if (layout.horizontal) {\n            const width = chartArea.w * weight;\n            const height = stack.size || box.height;\n            if (defined(stack.start)) {\n                y = stack.start;\n            }\n            if (box.fullSize) {\n                setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n            } else {\n                setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n            }\n            stack.start = y;\n            stack.placed += width;\n            y = box.bottom;\n        } else {\n            const height = chartArea.h * weight;\n            const width = stack.size || box.width;\n            if (defined(stack.start)) {\n                x = stack.start;\n            }\n            if (box.fullSize) {\n                setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n            } else {\n                setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n            }\n            stack.start = x;\n            stack.placed += height;\n            x = box.right;\n        }\n    }\n    chartArea.x = x;\n    chartArea.y = y;\n}\nvar layouts = {\n addBox (chart, item) {\n        if (!chart.boxes) {\n            chart.boxes = [];\n        }\n        item.fullSize = item.fullSize || false;\n        item.position = item.position || 'top';\n        item.weight = item.weight || 0;\n        item._layers = item._layers || function() {\n            return [\n                {\n                    z: 0,\n                    draw (chartArea) {\n                        item.draw(chartArea);\n                    }\n                }\n            ];\n        };\n        chart.boxes.push(item);\n    },\n removeBox (chart, layoutItem) {\n        const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n        if (index !== -1) {\n            chart.boxes.splice(index, 1);\n        }\n    },\n configure (chart, item, options) {\n        item.fullSize = options.fullSize;\n        item.position = options.position;\n        item.weight = options.weight;\n    },\n update (chart, width, height, minPadding) {\n        if (!chart) {\n            return;\n        }\n        const padding = toPadding(chart.options.layout.padding);\n        const availableWidth = Math.max(width - padding.width, 0);\n        const availableHeight = Math.max(height - padding.height, 0);\n        const boxes = buildLayoutBoxes(chart.boxes);\n        const verticalBoxes = boxes.vertical;\n        const horizontalBoxes = boxes.horizontal;\n        each(chart.boxes, (box)=>{\n            if (typeof box.beforeLayout === 'function') {\n                box.beforeLayout();\n            }\n        });\n        const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap)=>wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n        const params = Object.freeze({\n            outerWidth: width,\n            outerHeight: height,\n            padding,\n            availableWidth,\n            availableHeight,\n            vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n            hBoxMaxHeight: availableHeight / 2\n        });\n        const maxPadding = Object.assign({}, padding);\n        updateMaxPadding(maxPadding, toPadding(minPadding));\n        const chartArea = Object.assign({\n            maxPadding,\n            w: availableWidth,\n            h: availableHeight,\n            x: padding.left,\n            y: padding.top\n        }, padding);\n        const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n        fitBoxes(boxes.fullSize, chartArea, params, stacks);\n        fitBoxes(verticalBoxes, chartArea, params, stacks);\n        if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n            fitBoxes(verticalBoxes, chartArea, params, stacks);\n        }\n        handleMaxPadding(chartArea);\n        placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n        chartArea.x += chartArea.w;\n        chartArea.y += chartArea.h;\n        placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n        chart.chartArea = {\n            left: chartArea.left,\n            top: chartArea.top,\n            right: chartArea.left + chartArea.w,\n            bottom: chartArea.top + chartArea.h,\n            height: chartArea.h,\n            width: chartArea.w\n        };\n        each(boxes.chartArea, (layout)=>{\n            const box = layout.box;\n            Object.assign(box, chart.chartArea);\n            box.update(chartArea.w, chartArea.h, {\n                left: 0,\n                top: 0,\n                right: 0,\n                bottom: 0\n            });\n        });\n    }\n};\n\nclass BasePlatform {\n acquireContext(canvas, aspectRatio) {}\n releaseContext(context) {\n        return false;\n    }\n addEventListener(chart, type, listener) {}\n removeEventListener(chart, type, listener) {}\n getDevicePixelRatio() {\n        return 1;\n    }\n getMaximumSize(element, width, height, aspectRatio) {\n        width = Math.max(0, width || element.width);\n        height = height || element.height;\n        return {\n            width,\n            height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n        };\n    }\n isAttached(canvas) {\n        return true;\n    }\n updateConfig(config) {\n    }\n}\n\nclass BasicPlatform extends BasePlatform {\n    acquireContext(item) {\n        return item && item.getContext && item.getContext('2d') || null;\n    }\n    updateConfig(config) {\n        config.options.animation = false;\n    }\n}\n\nconst EXPANDO_KEY = '$chartjs';\n const EVENT_TYPES = {\n    touchstart: 'mousedown',\n    touchmove: 'mousemove',\n    touchend: 'mouseup',\n    pointerenter: 'mouseenter',\n    pointerdown: 'mousedown',\n    pointermove: 'mousemove',\n    pointerup: 'mouseup',\n    pointerleave: 'mouseout',\n    pointerout: 'mouseout'\n};\nconst isNullOrEmpty = (value)=>value === null || value === '';\n function initCanvas(canvas, aspectRatio) {\n    const style = canvas.style;\n    const renderHeight = canvas.getAttribute('height');\n    const renderWidth = canvas.getAttribute('width');\n    canvas[EXPANDO_KEY] = {\n        initial: {\n            height: renderHeight,\n            width: renderWidth,\n            style: {\n                display: style.display,\n                height: style.height,\n                width: style.width\n            }\n        }\n    };\n    style.display = style.display || 'block';\n    style.boxSizing = style.boxSizing || 'border-box';\n    if (isNullOrEmpty(renderWidth)) {\n        const displayWidth = readUsedSize(canvas, 'width');\n        if (displayWidth !== undefined) {\n            canvas.width = displayWidth;\n        }\n    }\n    if (isNullOrEmpty(renderHeight)) {\n        if (canvas.style.height === '') {\n            canvas.height = canvas.width / (aspectRatio || 2);\n        } else {\n            const displayHeight = readUsedSize(canvas, 'height');\n            if (displayHeight !== undefined) {\n                canvas.height = displayHeight;\n            }\n        }\n    }\n    return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {\n    passive: true\n} : false;\nfunction addListener(node, type, listener) {\n    node.addEventListener(type, listener, eventListenerOptions);\n}\nfunction removeListener(chart, type, listener) {\n    chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n}\nfunction fromNativeEvent(event, chart) {\n    const type = EVENT_TYPES[event.type] || event.type;\n    const { x , y  } = getRelativePosition(event, chart);\n    return {\n        type,\n        chart,\n        native: event,\n        x: x !== undefined ? x : null,\n        y: y !== undefined ? y : null\n    };\n}\nfunction nodeListContains(nodeList, canvas) {\n    for (const node of nodeList){\n        if (node === canvas || node.contains(canvas)) {\n            return true;\n        }\n    }\n}\nfunction createAttachObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const observer = new MutationObserver((entries)=>{\n        let trigger = false;\n        for (const entry of entries){\n            trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n            trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n        }\n        if (trigger) {\n            listener();\n        }\n    });\n    observer.observe(document, {\n        childList: true,\n        subtree: true\n    });\n    return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const observer = new MutationObserver((entries)=>{\n        let trigger = false;\n        for (const entry of entries){\n            trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n            trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n        }\n        if (trigger) {\n            listener();\n        }\n    });\n    observer.observe(document, {\n        childList: true,\n        subtree: true\n    });\n    return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n    const dpr = window.devicePixelRatio;\n    if (dpr === oldDevicePixelRatio) {\n        return;\n    }\n    oldDevicePixelRatio = dpr;\n    drpListeningCharts.forEach((resize, chart)=>{\n        if (chart.currentDevicePixelRatio !== dpr) {\n            resize();\n        }\n    });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n    if (!drpListeningCharts.size) {\n        window.addEventListener('resize', onWindowResize);\n    }\n    drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n    drpListeningCharts.delete(chart);\n    if (!drpListeningCharts.size) {\n        window.removeEventListener('resize', onWindowResize);\n    }\n}\nfunction createResizeObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const container = canvas && _getParentNode(canvas);\n    if (!container) {\n        return;\n    }\n    const resize = throttled((width, height)=>{\n        const w = container.clientWidth;\n        listener(width, height);\n        if (w < container.clientWidth) {\n            listener();\n        }\n    }, window);\n    const observer = new ResizeObserver((entries)=>{\n        const entry = entries[0];\n        const width = entry.contentRect.width;\n        const height = entry.contentRect.height;\n        if (width === 0 && height === 0) {\n            return;\n        }\n        resize(width, height);\n    });\n    observer.observe(container);\n    listenDevicePixelRatioChanges(chart, resize);\n    return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n    if (observer) {\n        observer.disconnect();\n    }\n    if (type === 'resize') {\n        unlistenDevicePixelRatioChanges(chart);\n    }\n}\nfunction createProxyAndListen(chart, type, listener) {\n    const canvas = chart.canvas;\n    const proxy = throttled((event)=>{\n        if (chart.ctx !== null) {\n            listener(fromNativeEvent(event, chart));\n        }\n    }, chart);\n    addListener(canvas, type, proxy);\n    return proxy;\n}\n class DomPlatform extends BasePlatform {\n acquireContext(canvas, aspectRatio) {\n        const context = canvas && canvas.getContext && canvas.getContext('2d');\n        if (context && context.canvas === canvas) {\n            initCanvas(canvas, aspectRatio);\n            return context;\n        }\n        return null;\n    }\n releaseContext(context) {\n        const canvas = context.canvas;\n        if (!canvas[EXPANDO_KEY]) {\n            return false;\n        }\n        const initial = canvas[EXPANDO_KEY].initial;\n        [\n            'height',\n            'width'\n        ].forEach((prop)=>{\n            const value = initial[prop];\n            if (isNullOrUndef(value)) {\n                canvas.removeAttribute(prop);\n            } else {\n                canvas.setAttribute(prop, value);\n            }\n        });\n        const style = initial.style || {};\n        Object.keys(style).forEach((key)=>{\n            canvas.style[key] = style[key];\n        });\n        canvas.width = canvas.width;\n        delete canvas[EXPANDO_KEY];\n        return true;\n    }\n addEventListener(chart, type, listener) {\n        this.removeEventListener(chart, type);\n        const proxies = chart.$proxies || (chart.$proxies = {});\n        const handlers = {\n            attach: createAttachObserver,\n            detach: createDetachObserver,\n            resize: createResizeObserver\n        };\n        const handler = handlers[type] || createProxyAndListen;\n        proxies[type] = handler(chart, type, listener);\n    }\n removeEventListener(chart, type) {\n        const proxies = chart.$proxies || (chart.$proxies = {});\n        const proxy = proxies[type];\n        if (!proxy) {\n            return;\n        }\n        const handlers = {\n            attach: releaseObserver,\n            detach: releaseObserver,\n            resize: releaseObserver\n        };\n        const handler = handlers[type] || removeListener;\n        handler(chart, type, proxy);\n        proxies[type] = undefined;\n    }\n    getDevicePixelRatio() {\n        return window.devicePixelRatio;\n    }\n getMaximumSize(canvas, width, height, aspectRatio) {\n        return getMaximumSize(canvas, width, height, aspectRatio);\n    }\n isAttached(canvas) {\n        const container = _getParentNode(canvas);\n        return !!(container && container.isConnected);\n    }\n}\n\nfunction _detectPlatform(canvas) {\n    if (!_isDomSupported() || typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas) {\n        return BasicPlatform;\n    }\n    return DomPlatform;\n}\n\nclass Element {\n    static defaults = {};\n    static defaultRoutes = undefined;\n    x;\n    y;\n    active = false;\n    options;\n    $animations;\n    tooltipPosition(useFinalPosition) {\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return {\n            x,\n            y\n        };\n    }\n    hasValue() {\n        return isNumber(this.x) && isNumber(this.y);\n    }\n    getProps(props, final) {\n        const anims = this.$animations;\n        if (!final || !anims) {\n            // let's not create an object, if not needed\n            return this;\n        }\n        const ret = {};\n        props.forEach((prop)=>{\n            ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];\n        });\n        return ret;\n    }\n}\n\nfunction autoSkip(scale, ticks) {\n    const tickOpts = scale.options.ticks;\n    const determinedMaxTicks = determineMaxTicks(scale);\n    const ticksLimit = Math.min(tickOpts.maxTicksLimit || determinedMaxTicks, determinedMaxTicks);\n    const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n    const numMajorIndices = majorIndices.length;\n    const first = majorIndices[0];\n    const last = majorIndices[numMajorIndices - 1];\n    const newTicks = [];\n    if (numMajorIndices > ticksLimit) {\n        skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n        return newTicks;\n    }\n    const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n    if (numMajorIndices > 0) {\n        let i, ilen;\n        const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n        skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n        for(i = 0, ilen = numMajorIndices - 1; i < ilen; i++){\n            skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n        }\n        skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n        return newTicks;\n    }\n    skip(ticks, newTicks, spacing);\n    return newTicks;\n}\nfunction determineMaxTicks(scale) {\n    const offset = scale.options.offset;\n    const tickLength = scale._tickSize();\n    const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n    const maxChart = scale._maxLength / tickLength;\n    return Math.floor(Math.min(maxScale, maxChart));\n}\n function calculateSpacing(majorIndices, ticks, ticksLimit) {\n    const evenMajorSpacing = getEvenSpacing(majorIndices);\n    const spacing = ticks.length / ticksLimit;\n    if (!evenMajorSpacing) {\n        return Math.max(spacing, 1);\n    }\n    const factors = _factorize(evenMajorSpacing);\n    for(let i = 0, ilen = factors.length - 1; i < ilen; i++){\n        const factor = factors[i];\n        if (factor > spacing) {\n            return factor;\n        }\n    }\n    return Math.max(spacing, 1);\n}\n function getMajorIndices(ticks) {\n    const result = [];\n    let i, ilen;\n    for(i = 0, ilen = ticks.length; i < ilen; i++){\n        if (ticks[i].major) {\n            result.push(i);\n        }\n    }\n    return result;\n}\n function skipMajors(ticks, newTicks, majorIndices, spacing) {\n    let count = 0;\n    let next = majorIndices[0];\n    let i;\n    spacing = Math.ceil(spacing);\n    for(i = 0; i < ticks.length; i++){\n        if (i === next) {\n            newTicks.push(ticks[i]);\n            count++;\n            next = majorIndices[count * spacing];\n        }\n    }\n}\n function skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n    const start = valueOrDefault(majorStart, 0);\n    const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n    let count = 0;\n    let length, i, next;\n    spacing = Math.ceil(spacing);\n    if (majorEnd) {\n        length = majorEnd - majorStart;\n        spacing = length / Math.floor(length / spacing);\n    }\n    next = start;\n    while(next < 0){\n        count++;\n        next = Math.round(start + count * spacing);\n    }\n    for(i = Math.max(start, 0); i < end; i++){\n        if (i === next) {\n            newTicks.push(ticks[i]);\n            count++;\n            next = Math.round(start + count * spacing);\n        }\n    }\n}\n function getEvenSpacing(arr) {\n    const len = arr.length;\n    let i, diff;\n    if (len < 2) {\n        return false;\n    }\n    for(diff = arr[0], i = 1; i < len; ++i){\n        if (arr[i] - arr[i - 1] !== diff) {\n            return false;\n        }\n    }\n    return diff;\n}\n\nconst reverseAlign = (align)=>align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset)=>edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nconst getTicksLimit = (ticksLength, maxTicksLimit)=>Math.min(maxTicksLimit || ticksLength, ticksLength);\n function sample(arr, numItems) {\n    const result = [];\n    const increment = arr.length / numItems;\n    const len = arr.length;\n    let i = 0;\n    for(; i < len; i += increment){\n        result.push(arr[Math.floor(i)]);\n    }\n    return result;\n}\n function getPixelForGridLine(scale, index, offsetGridLines) {\n    const length = scale.ticks.length;\n    const validIndex = Math.min(index, length - 1);\n    const start = scale._startPixel;\n    const end = scale._endPixel;\n    const epsilon = 1e-6;\n    let lineValue = scale.getPixelForTick(validIndex);\n    let offset;\n    if (offsetGridLines) {\n        if (length === 1) {\n            offset = Math.max(lineValue - start, end - lineValue);\n        } else if (index === 0) {\n            offset = (scale.getPixelForTick(1) - lineValue) / 2;\n        } else {\n            offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n        }\n        lineValue += validIndex < index ? offset : -offset;\n        if (lineValue < start - epsilon || lineValue > end + epsilon) {\n            return;\n        }\n    }\n    return lineValue;\n}\n function garbageCollect(caches, length) {\n    each(caches, (cache)=>{\n        const gc = cache.gc;\n        const gcLen = gc.length / 2;\n        let i;\n        if (gcLen > length) {\n            for(i = 0; i < gcLen; ++i){\n                delete cache.data[gc[i]];\n            }\n            gc.splice(0, gcLen);\n        }\n    });\n}\n function getTickMarkLength(options) {\n    return options.drawTicks ? options.tickLength : 0;\n}\n function getTitleHeight(options, fallback) {\n    if (!options.display) {\n        return 0;\n    }\n    const font = toFont(options.font, fallback);\n    const padding = toPadding(options.padding);\n    const lines = isArray(options.text) ? options.text.length : 1;\n    return lines * font.lineHeight + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n    return createContext(parent, {\n        scale,\n        type: 'scale'\n    });\n}\nfunction createTickContext(parent, index, tick) {\n    return createContext(parent, {\n        tick,\n        index,\n        type: 'tick'\n    });\n}\nfunction titleAlign(align, position, reverse) {\n     let ret = _toLeftRightCenter(align);\n    if (reverse && position !== 'right' || !reverse && position === 'right') {\n        ret = reverseAlign(ret);\n    }\n    return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n    const { top , left , bottom , right , chart  } = scale;\n    const { chartArea , scales  } = chart;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    const height = bottom - top;\n    const width = right - left;\n    if (scale.isHorizontal()) {\n        titleX = _alignStartEnd(align, left, right);\n        if (isObject(position)) {\n            const positionAxisID = Object.keys(position)[0];\n            const value = position[positionAxisID];\n            titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n        } else if (position === 'center') {\n            titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n        } else {\n            titleY = offsetFromEdge(scale, position, offset);\n        }\n        maxWidth = right - left;\n    } else {\n        if (isObject(position)) {\n            const positionAxisID = Object.keys(position)[0];\n            const value = position[positionAxisID];\n            titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n        } else if (position === 'center') {\n            titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n        } else {\n            titleX = offsetFromEdge(scale, position, offset);\n        }\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = position === 'left' ? -HALF_PI : HALF_PI;\n    }\n    return {\n        titleX,\n        titleY,\n        maxWidth,\n        rotation\n    };\n}\nclass Scale extends Element {\n    constructor(cfg){\n        super();\n         this.id = cfg.id;\n         this.type = cfg.type;\n         this.options = undefined;\n         this.ctx = cfg.ctx;\n         this.chart = cfg.chart;\n         this.top = undefined;\n         this.bottom = undefined;\n         this.left = undefined;\n         this.right = undefined;\n         this.width = undefined;\n         this.height = undefined;\n        this._margins = {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        };\n         this.maxWidth = undefined;\n         this.maxHeight = undefined;\n         this.paddingTop = undefined;\n         this.paddingBottom = undefined;\n         this.paddingLeft = undefined;\n         this.paddingRight = undefined;\n         this.axis = undefined;\n         this.labelRotation = undefined;\n        this.min = undefined;\n        this.max = undefined;\n        this._range = undefined;\n         this.ticks = [];\n         this._gridLineItems = null;\n         this._labelItems = null;\n         this._labelSizes = null;\n        this._length = 0;\n        this._maxLength = 0;\n        this._longestTextCache = {};\n         this._startPixel = undefined;\n         this._endPixel = undefined;\n        this._reversePixels = false;\n        this._userMax = undefined;\n        this._userMin = undefined;\n        this._suggestedMax = undefined;\n        this._suggestedMin = undefined;\n        this._ticksLength = 0;\n        this._borderValue = 0;\n        this._cache = {};\n        this._dataLimitsCached = false;\n        this.$context = undefined;\n    }\n init(options) {\n        this.options = options.setContext(this.getContext());\n        this.axis = options.axis;\n        this._userMin = this.parse(options.min);\n        this._userMax = this.parse(options.max);\n        this._suggestedMin = this.parse(options.suggestedMin);\n        this._suggestedMax = this.parse(options.suggestedMax);\n    }\n parse(raw, index) {\n        return raw;\n    }\n getUserBounds() {\n        let { _userMin , _userMax , _suggestedMin , _suggestedMax  } = this;\n        _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n        _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n        _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n        _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n        return {\n            min: finiteOrDefault(_userMin, _suggestedMin),\n            max: finiteOrDefault(_userMax, _suggestedMax),\n            minDefined: isNumberFinite(_userMin),\n            maxDefined: isNumberFinite(_userMax)\n        };\n    }\n getMinMax(canStack) {\n        let { min , max , minDefined , maxDefined  } = this.getUserBounds();\n        let range;\n        if (minDefined && maxDefined) {\n            return {\n                min,\n                max\n            };\n        }\n        const metas = this.getMatchingVisibleMetas();\n        for(let i = 0, ilen = metas.length; i < ilen; ++i){\n            range = metas[i].controller.getMinMax(this, canStack);\n            if (!minDefined) {\n                min = Math.min(min, range.min);\n            }\n            if (!maxDefined) {\n                max = Math.max(max, range.max);\n            }\n        }\n        min = maxDefined && min > max ? max : min;\n        max = minDefined && min > max ? min : max;\n        return {\n            min: finiteOrDefault(min, finiteOrDefault(max, min)),\n            max: finiteOrDefault(max, finiteOrDefault(min, max))\n        };\n    }\n getPadding() {\n        return {\n            left: this.paddingLeft || 0,\n            top: this.paddingTop || 0,\n            right: this.paddingRight || 0,\n            bottom: this.paddingBottom || 0\n        };\n    }\n getTicks() {\n        return this.ticks;\n    }\n getLabels() {\n        const data = this.chart.data;\n        return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n    }\n getLabelItems(chartArea = this.chart.chartArea) {\n        const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n        return items;\n    }\n    beforeLayout() {\n        this._cache = {};\n        this._dataLimitsCached = false;\n    }\n    beforeUpdate() {\n        callback(this.options.beforeUpdate, [\n            this\n        ]);\n    }\n update(maxWidth, maxHeight, margins) {\n        const { beginAtZero , grace , ticks: tickOpts  } = this.options;\n        const sampleSize = tickOpts.sampleSize;\n        this.beforeUpdate();\n        this.maxWidth = maxWidth;\n        this.maxHeight = maxHeight;\n        this._margins = margins = Object.assign({\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        }, margins);\n        this.ticks = null;\n        this._labelSizes = null;\n        this._gridLineItems = null;\n        this._labelItems = null;\n        this.beforeSetDimensions();\n        this.setDimensions();\n        this.afterSetDimensions();\n        this._maxLength = this.isHorizontal() ? this.width + margins.left + margins.right : this.height + margins.top + margins.bottom;\n        if (!this._dataLimitsCached) {\n            this.beforeDataLimits();\n            this.determineDataLimits();\n            this.afterDataLimits();\n            this._range = _addGrace(this, grace, beginAtZero);\n            this._dataLimitsCached = true;\n        }\n        this.beforeBuildTicks();\n        this.ticks = this.buildTicks() || [];\n        this.afterBuildTicks();\n        const samplingEnabled = sampleSize < this.ticks.length;\n        this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n        this.configure();\n        this.beforeCalculateLabelRotation();\n        this.calculateLabelRotation();\n        this.afterCalculateLabelRotation();\n        if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n            this.ticks = autoSkip(this, this.ticks);\n            this._labelSizes = null;\n            this.afterAutoSkip();\n        }\n        if (samplingEnabled) {\n            this._convertTicksToLabels(this.ticks);\n        }\n        this.beforeFit();\n        this.fit();\n        this.afterFit();\n        this.afterUpdate();\n    }\n configure() {\n        let reversePixels = this.options.reverse;\n        let startPixel, endPixel;\n        if (this.isHorizontal()) {\n            startPixel = this.left;\n            endPixel = this.right;\n        } else {\n            startPixel = this.top;\n            endPixel = this.bottom;\n            reversePixels = !reversePixels;\n        }\n        this._startPixel = startPixel;\n        this._endPixel = endPixel;\n        this._reversePixels = reversePixels;\n        this._length = endPixel - startPixel;\n        this._alignToPixels = this.options.alignToPixels;\n    }\n    afterUpdate() {\n        callback(this.options.afterUpdate, [\n            this\n        ]);\n    }\n    beforeSetDimensions() {\n        callback(this.options.beforeSetDimensions, [\n            this\n        ]);\n    }\n    setDimensions() {\n        if (this.isHorizontal()) {\n            this.width = this.maxWidth;\n            this.left = 0;\n            this.right = this.width;\n        } else {\n            this.height = this.maxHeight;\n            this.top = 0;\n            this.bottom = this.height;\n        }\n        this.paddingLeft = 0;\n        this.paddingTop = 0;\n        this.paddingRight = 0;\n        this.paddingBottom = 0;\n    }\n    afterSetDimensions() {\n        callback(this.options.afterSetDimensions, [\n            this\n        ]);\n    }\n    _callHooks(name) {\n        this.chart.notifyPlugins(name, this.getContext());\n        callback(this.options[name], [\n            this\n        ]);\n    }\n    beforeDataLimits() {\n        this._callHooks('beforeDataLimits');\n    }\n    determineDataLimits() {}\n    afterDataLimits() {\n        this._callHooks('afterDataLimits');\n    }\n    beforeBuildTicks() {\n        this._callHooks('beforeBuildTicks');\n    }\n buildTicks() {\n        return [];\n    }\n    afterBuildTicks() {\n        this._callHooks('afterBuildTicks');\n    }\n    beforeTickToLabelConversion() {\n        callback(this.options.beforeTickToLabelConversion, [\n            this\n        ]);\n    }\n generateTickLabels(ticks) {\n        const tickOpts = this.options.ticks;\n        let i, ilen, tick;\n        for(i = 0, ilen = ticks.length; i < ilen; i++){\n            tick = ticks[i];\n            tick.label = callback(tickOpts.callback, [\n                tick.value,\n                i,\n                ticks\n            ], this);\n        }\n    }\n    afterTickToLabelConversion() {\n        callback(this.options.afterTickToLabelConversion, [\n            this\n        ]);\n    }\n    beforeCalculateLabelRotation() {\n        callback(this.options.beforeCalculateLabelRotation, [\n            this\n        ]);\n    }\n    calculateLabelRotation() {\n        const options = this.options;\n        const tickOpts = options.ticks;\n        const numTicks = getTicksLimit(this.ticks.length, options.ticks.maxTicksLimit);\n        const minRotation = tickOpts.minRotation || 0;\n        const maxRotation = tickOpts.maxRotation;\n        let labelRotation = minRotation;\n        let tickWidth, maxHeight, maxLabelDiagonal;\n        if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n            this.labelRotation = minRotation;\n            return;\n        }\n        const labelSizes = this._getLabelSizes();\n        const maxLabelWidth = labelSizes.widest.width;\n        const maxLabelHeight = labelSizes.highest.height;\n        const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n        tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n        if (maxLabelWidth + 6 > tickWidth) {\n            tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n            maxHeight = this.maxHeight - getTickMarkLength(options.grid) - tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n            maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n            labelRotation = toDegrees(Math.min(Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)), Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))));\n            labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n        }\n        this.labelRotation = labelRotation;\n    }\n    afterCalculateLabelRotation() {\n        callback(this.options.afterCalculateLabelRotation, [\n            this\n        ]);\n    }\n    afterAutoSkip() {}\n    beforeFit() {\n        callback(this.options.beforeFit, [\n            this\n        ]);\n    }\n    fit() {\n        const minSize = {\n            width: 0,\n            height: 0\n        };\n        const { chart , options: { ticks: tickOpts , title: titleOpts , grid: gridOpts  }  } = this;\n        const display = this._isVisible();\n        const isHorizontal = this.isHorizontal();\n        if (display) {\n            const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n            if (isHorizontal) {\n                minSize.width = this.maxWidth;\n                minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n            } else {\n                minSize.height = this.maxHeight;\n                minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n            }\n            if (tickOpts.display && this.ticks.length) {\n                const { first , last , widest , highest  } = this._getLabelSizes();\n                const tickPadding = tickOpts.padding * 2;\n                const angleRadians = toRadians(this.labelRotation);\n                const cos = Math.cos(angleRadians);\n                const sin = Math.sin(angleRadians);\n                if (isHorizontal) {\n                    const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n                    minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n                } else {\n                    const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n                    minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n                }\n                this._calculatePadding(first, last, sin, cos);\n            }\n        }\n        this._handleMargins();\n        if (isHorizontal) {\n            this.width = this._length = chart.width - this._margins.left - this._margins.right;\n            this.height = minSize.height;\n        } else {\n            this.width = minSize.width;\n            this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n        }\n    }\n    _calculatePadding(first, last, sin, cos) {\n        const { ticks: { align , padding  } , position  } = this.options;\n        const isRotated = this.labelRotation !== 0;\n        const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n        if (this.isHorizontal()) {\n            const offsetLeft = this.getPixelForTick(0) - this.left;\n            const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n            let paddingLeft = 0;\n            let paddingRight = 0;\n            if (isRotated) {\n                if (labelsBelowTicks) {\n                    paddingLeft = cos * first.width;\n                    paddingRight = sin * last.height;\n                } else {\n                    paddingLeft = sin * first.height;\n                    paddingRight = cos * last.width;\n                }\n            } else if (align === 'start') {\n                paddingRight = last.width;\n            } else if (align === 'end') {\n                paddingLeft = first.width;\n            } else if (align !== 'inner') {\n                paddingLeft = first.width / 2;\n                paddingRight = last.width / 2;\n            }\n            this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n            this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n        } else {\n            let paddingTop = last.height / 2;\n            let paddingBottom = first.height / 2;\n            if (align === 'start') {\n                paddingTop = 0;\n                paddingBottom = first.height;\n            } else if (align === 'end') {\n                paddingTop = last.height;\n                paddingBottom = 0;\n            }\n            this.paddingTop = paddingTop + padding;\n            this.paddingBottom = paddingBottom + padding;\n        }\n    }\n _handleMargins() {\n        if (this._margins) {\n            this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n            this._margins.top = Math.max(this.paddingTop, this._margins.top);\n            this._margins.right = Math.max(this.paddingRight, this._margins.right);\n            this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n        }\n    }\n    afterFit() {\n        callback(this.options.afterFit, [\n            this\n        ]);\n    }\n isHorizontal() {\n        const { axis , position  } = this.options;\n        return position === 'top' || position === 'bottom' || axis === 'x';\n    }\n isFullSize() {\n        return this.options.fullSize;\n    }\n _convertTicksToLabels(ticks) {\n        this.beforeTickToLabelConversion();\n        this.generateTickLabels(ticks);\n        let i, ilen;\n        for(i = 0, ilen = ticks.length; i < ilen; i++){\n            if (isNullOrUndef(ticks[i].label)) {\n                ticks.splice(i, 1);\n                ilen--;\n                i--;\n            }\n        }\n        this.afterTickToLabelConversion();\n    }\n _getLabelSizes() {\n        let labelSizes = this._labelSizes;\n        if (!labelSizes) {\n            const sampleSize = this.options.ticks.sampleSize;\n            let ticks = this.ticks;\n            if (sampleSize < ticks.length) {\n                ticks = sample(ticks, sampleSize);\n            }\n            this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length, this.options.ticks.maxTicksLimit);\n        }\n        return labelSizes;\n    }\n _computeLabelSizes(ticks, length, maxTicksLimit) {\n        const { ctx , _longestTextCache: caches  } = this;\n        const widths = [];\n        const heights = [];\n        const increment = Math.floor(length / getTicksLimit(length, maxTicksLimit));\n        let widestLabelSize = 0;\n        let highestLabelSize = 0;\n        let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n        for(i = 0; i < length; i += increment){\n            label = ticks[i].label;\n            tickFont = this._resolveTickFontOptions(i);\n            ctx.font = fontString = tickFont.string;\n            cache = caches[fontString] = caches[fontString] || {\n                data: {},\n                gc: []\n            };\n            lineHeight = tickFont.lineHeight;\n            width = height = 0;\n            if (!isNullOrUndef(label) && !isArray(label)) {\n                width = _measureText(ctx, cache.data, cache.gc, width, label);\n                height = lineHeight;\n            } else if (isArray(label)) {\n                for(j = 0, jlen = label.length; j < jlen; ++j){\n                    nestedLabel =  label[j];\n                    if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n                        width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n                        height += lineHeight;\n                    }\n                }\n            }\n            widths.push(width);\n            heights.push(height);\n            widestLabelSize = Math.max(width, widestLabelSize);\n            highestLabelSize = Math.max(height, highestLabelSize);\n        }\n        garbageCollect(caches, length);\n        const widest = widths.indexOf(widestLabelSize);\n        const highest = heights.indexOf(highestLabelSize);\n        const valueAt = (idx)=>({\n                width: widths[idx] || 0,\n                height: heights[idx] || 0\n            });\n        return {\n            first: valueAt(0),\n            last: valueAt(length - 1),\n            widest: valueAt(widest),\n            highest: valueAt(highest),\n            widths,\n            heights\n        };\n    }\n getLabelForValue(value) {\n        return value;\n    }\n getPixelForValue(value, index) {\n        return NaN;\n    }\n getValueForPixel(pixel) {}\n getPixelForTick(index) {\n        const ticks = this.ticks;\n        if (index < 0 || index > ticks.length - 1) {\n            return null;\n        }\n        return this.getPixelForValue(ticks[index].value);\n    }\n getPixelForDecimal(decimal) {\n        if (this._reversePixels) {\n            decimal = 1 - decimal;\n        }\n        const pixel = this._startPixel + decimal * this._length;\n        return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n    }\n getDecimalForPixel(pixel) {\n        const decimal = (pixel - this._startPixel) / this._length;\n        return this._reversePixels ? 1 - decimal : decimal;\n    }\n getBasePixel() {\n        return this.getPixelForValue(this.getBaseValue());\n    }\n getBaseValue() {\n        const { min , max  } = this;\n        return min < 0 && max < 0 ? max : min > 0 && max > 0 ? min : 0;\n    }\n getContext(index) {\n        const ticks = this.ticks || [];\n        if (index >= 0 && index < ticks.length) {\n            const tick = ticks[index];\n            return tick.$context || (tick.$context = createTickContext(this.getContext(), index, tick));\n        }\n        return this.$context || (this.$context = createScaleContext(this.chart.getContext(), this));\n    }\n _tickSize() {\n        const optionTicks = this.options.ticks;\n        const rot = toRadians(this.labelRotation);\n        const cos = Math.abs(Math.cos(rot));\n        const sin = Math.abs(Math.sin(rot));\n        const labelSizes = this._getLabelSizes();\n        const padding = optionTicks.autoSkipPadding || 0;\n        const w = labelSizes ? labelSizes.widest.width + padding : 0;\n        const h = labelSizes ? labelSizes.highest.height + padding : 0;\n        return this.isHorizontal() ? h * cos > w * sin ? w / cos : h / sin : h * sin < w * cos ? h / cos : w / sin;\n    }\n _isVisible() {\n        const display = this.options.display;\n        if (display !== 'auto') {\n            return !!display;\n        }\n        return this.getMatchingVisibleMetas().length > 0;\n    }\n _computeGridLineItems(chartArea) {\n        const axis = this.axis;\n        const chart = this.chart;\n        const options = this.options;\n        const { grid , position , border  } = options;\n        const offset = grid.offset;\n        const isHorizontal = this.isHorizontal();\n        const ticks = this.ticks;\n        const ticksLength = ticks.length + (offset ? 1 : 0);\n        const tl = getTickMarkLength(grid);\n        const items = [];\n        const borderOpts = border.setContext(this.getContext());\n        const axisWidth = borderOpts.display ? borderOpts.width : 0;\n        const axisHalfWidth = axisWidth / 2;\n        const alignBorderValue = function(pixel) {\n            return _alignPixel(chart, pixel, axisWidth);\n        };\n        let borderValue, i, lineValue, alignedLineValue;\n        let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n        if (position === 'top') {\n            borderValue = alignBorderValue(this.bottom);\n            ty1 = this.bottom - tl;\n            ty2 = borderValue - axisHalfWidth;\n            y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n            y2 = chartArea.bottom;\n        } else if (position === 'bottom') {\n            borderValue = alignBorderValue(this.top);\n            y1 = chartArea.top;\n            y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n            ty1 = borderValue + axisHalfWidth;\n            ty2 = this.top + tl;\n        } else if (position === 'left') {\n            borderValue = alignBorderValue(this.right);\n            tx1 = this.right - tl;\n            tx2 = borderValue - axisHalfWidth;\n            x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n            x2 = chartArea.right;\n        } else if (position === 'right') {\n            borderValue = alignBorderValue(this.left);\n            x1 = chartArea.left;\n            x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n            tx1 = borderValue + axisHalfWidth;\n            tx2 = this.left + tl;\n        } else if (axis === 'x') {\n            if (position === 'center') {\n                borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n            }\n            y1 = chartArea.top;\n            y2 = chartArea.bottom;\n            ty1 = borderValue + axisHalfWidth;\n            ty2 = ty1 + tl;\n        } else if (axis === 'y') {\n            if (position === 'center') {\n                borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n            }\n            tx1 = borderValue - axisHalfWidth;\n            tx2 = tx1 - tl;\n            x1 = chartArea.left;\n            x2 = chartArea.right;\n        }\n        const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n        const step = Math.max(1, Math.ceil(ticksLength / limit));\n        for(i = 0; i < ticksLength; i += step){\n            const context = this.getContext(i);\n            const optsAtIndex = grid.setContext(context);\n            const optsAtIndexBorder = border.setContext(context);\n            const lineWidth = optsAtIndex.lineWidth;\n            const lineColor = optsAtIndex.color;\n            const borderDash = optsAtIndexBorder.dash || [];\n            const borderDashOffset = optsAtIndexBorder.dashOffset;\n            const tickWidth = optsAtIndex.tickWidth;\n            const tickColor = optsAtIndex.tickColor;\n            const tickBorderDash = optsAtIndex.tickBorderDash || [];\n            const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n            lineValue = getPixelForGridLine(this, i, offset);\n            if (lineValue === undefined) {\n                continue;\n            }\n            alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n            if (isHorizontal) {\n                tx1 = tx2 = x1 = x2 = alignedLineValue;\n            } else {\n                ty1 = ty2 = y1 = y2 = alignedLineValue;\n            }\n            items.push({\n                tx1,\n                ty1,\n                tx2,\n                ty2,\n                x1,\n                y1,\n                x2,\n                y2,\n                width: lineWidth,\n                color: lineColor,\n                borderDash,\n                borderDashOffset,\n                tickWidth,\n                tickColor,\n                tickBorderDash,\n                tickBorderDashOffset\n            });\n        }\n        this._ticksLength = ticksLength;\n        this._borderValue = borderValue;\n        return items;\n    }\n _computeLabelItems(chartArea) {\n        const axis = this.axis;\n        const options = this.options;\n        const { position , ticks: optionTicks  } = options;\n        const isHorizontal = this.isHorizontal();\n        const ticks = this.ticks;\n        const { align , crossAlign , padding , mirror  } = optionTicks;\n        const tl = getTickMarkLength(options.grid);\n        const tickAndPadding = tl + padding;\n        const hTickAndPadding = mirror ? -padding : tickAndPadding;\n        const rotation = -toRadians(this.labelRotation);\n        const items = [];\n        let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n        let textBaseline = 'middle';\n        if (position === 'top') {\n            y = this.bottom - hTickAndPadding;\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (position === 'bottom') {\n            y = this.top + hTickAndPadding;\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (position === 'left') {\n            const ret = this._getYAxisLabelAlignment(tl);\n            textAlign = ret.textAlign;\n            x = ret.x;\n        } else if (position === 'right') {\n            const ret = this._getYAxisLabelAlignment(tl);\n            textAlign = ret.textAlign;\n            x = ret.x;\n        } else if (axis === 'x') {\n            if (position === 'center') {\n                y = (chartArea.top + chartArea.bottom) / 2 + tickAndPadding;\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n            }\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (axis === 'y') {\n            if (position === 'center') {\n                x = (chartArea.left + chartArea.right) / 2 - tickAndPadding;\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                x = this.chart.scales[positionAxisID].getPixelForValue(value);\n            }\n            textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n        }\n        if (axis === 'y') {\n            if (align === 'start') {\n                textBaseline = 'top';\n            } else if (align === 'end') {\n                textBaseline = 'bottom';\n            }\n        }\n        const labelSizes = this._getLabelSizes();\n        for(i = 0, ilen = ticks.length; i < ilen; ++i){\n            tick = ticks[i];\n            label = tick.label;\n            const optsAtIndex = optionTicks.setContext(this.getContext(i));\n            pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n            font = this._resolveTickFontOptions(i);\n            lineHeight = font.lineHeight;\n            lineCount = isArray(label) ? label.length : 1;\n            const halfCount = lineCount / 2;\n            const color = optsAtIndex.color;\n            const strokeColor = optsAtIndex.textStrokeColor;\n            const strokeWidth = optsAtIndex.textStrokeWidth;\n            let tickTextAlign = textAlign;\n            if (isHorizontal) {\n                x = pixel;\n                if (textAlign === 'inner') {\n                    if (i === ilen - 1) {\n                        tickTextAlign = !this.options.reverse ? 'right' : 'left';\n                    } else if (i === 0) {\n                        tickTextAlign = !this.options.reverse ? 'left' : 'right';\n                    } else {\n                        tickTextAlign = 'center';\n                    }\n                }\n                if (position === 'top') {\n                    if (crossAlign === 'near' || rotation !== 0) {\n                        textOffset = -lineCount * lineHeight + lineHeight / 2;\n                    } else if (crossAlign === 'center') {\n                        textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n                    } else {\n                        textOffset = -labelSizes.highest.height + lineHeight / 2;\n                    }\n                } else {\n                    if (crossAlign === 'near' || rotation !== 0) {\n                        textOffset = lineHeight / 2;\n                    } else if (crossAlign === 'center') {\n                        textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n                    } else {\n                        textOffset = labelSizes.highest.height - lineCount * lineHeight;\n                    }\n                }\n                if (mirror) {\n                    textOffset *= -1;\n                }\n                if (rotation !== 0 && !optsAtIndex.showLabelBackdrop) {\n                    x += lineHeight / 2 * Math.sin(rotation);\n                }\n            } else {\n                y = pixel;\n                textOffset = (1 - lineCount) * lineHeight / 2;\n            }\n            let backdrop;\n            if (optsAtIndex.showLabelBackdrop) {\n                const labelPadding = toPadding(optsAtIndex.backdropPadding);\n                const height = labelSizes.heights[i];\n                const width = labelSizes.widths[i];\n                let top = textOffset - labelPadding.top;\n                let left = 0 - labelPadding.left;\n                switch(textBaseline){\n                    case 'middle':\n                        top -= height / 2;\n                        break;\n                    case 'bottom':\n                        top -= height;\n                        break;\n                }\n                switch(textAlign){\n                    case 'center':\n                        left -= width / 2;\n                        break;\n                    case 'right':\n                        left -= width;\n                        break;\n                }\n                backdrop = {\n                    left,\n                    top,\n                    width: width + labelPadding.width,\n                    height: height + labelPadding.height,\n                    color: optsAtIndex.backdropColor\n                };\n            }\n            items.push({\n                label,\n                font,\n                textOffset,\n                options: {\n                    rotation,\n                    color,\n                    strokeColor,\n                    strokeWidth,\n                    textAlign: tickTextAlign,\n                    textBaseline,\n                    translation: [\n                        x,\n                        y\n                    ],\n                    backdrop\n                }\n            });\n        }\n        return items;\n    }\n    _getXAxisLabelAlignment() {\n        const { position , ticks  } = this.options;\n        const rotation = -toRadians(this.labelRotation);\n        if (rotation) {\n            return position === 'top' ? 'left' : 'right';\n        }\n        let align = 'center';\n        if (ticks.align === 'start') {\n            align = 'left';\n        } else if (ticks.align === 'end') {\n            align = 'right';\n        } else if (ticks.align === 'inner') {\n            align = 'inner';\n        }\n        return align;\n    }\n    _getYAxisLabelAlignment(tl) {\n        const { position , ticks: { crossAlign , mirror , padding  }  } = this.options;\n        const labelSizes = this._getLabelSizes();\n        const tickAndPadding = tl + padding;\n        const widest = labelSizes.widest.width;\n        let textAlign;\n        let x;\n        if (position === 'left') {\n            if (mirror) {\n                x = this.right + padding;\n                if (crossAlign === 'near') {\n                    textAlign = 'left';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x += widest / 2;\n                } else {\n                    textAlign = 'right';\n                    x += widest;\n                }\n            } else {\n                x = this.right - tickAndPadding;\n                if (crossAlign === 'near') {\n                    textAlign = 'right';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x -= widest / 2;\n                } else {\n                    textAlign = 'left';\n                    x = this.left;\n                }\n            }\n        } else if (position === 'right') {\n            if (mirror) {\n                x = this.left + padding;\n                if (crossAlign === 'near') {\n                    textAlign = 'right';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x -= widest / 2;\n                } else {\n                    textAlign = 'left';\n                    x -= widest;\n                }\n            } else {\n                x = this.left + tickAndPadding;\n                if (crossAlign === 'near') {\n                    textAlign = 'left';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x += widest / 2;\n                } else {\n                    textAlign = 'right';\n                    x = this.right;\n                }\n            }\n        } else {\n            textAlign = 'right';\n        }\n        return {\n            textAlign,\n            x\n        };\n    }\n _computeLabelArea() {\n        if (this.options.ticks.mirror) {\n            return;\n        }\n        const chart = this.chart;\n        const position = this.options.position;\n        if (position === 'left' || position === 'right') {\n            return {\n                top: 0,\n                left: this.left,\n                bottom: chart.height,\n                right: this.right\n            };\n        }\n        if (position === 'top' || position === 'bottom') {\n            return {\n                top: this.top,\n                left: 0,\n                bottom: this.bottom,\n                right: chart.width\n            };\n        }\n    }\n drawBackground() {\n        const { ctx , options: { backgroundColor  } , left , top , width , height  } = this;\n        if (backgroundColor) {\n            ctx.save();\n            ctx.fillStyle = backgroundColor;\n            ctx.fillRect(left, top, width, height);\n            ctx.restore();\n        }\n    }\n    getLineWidthForValue(value) {\n        const grid = this.options.grid;\n        if (!this._isVisible() || !grid.display) {\n            return 0;\n        }\n        const ticks = this.ticks;\n        const index = ticks.findIndex((t)=>t.value === value);\n        if (index >= 0) {\n            const opts = grid.setContext(this.getContext(index));\n            return opts.lineWidth;\n        }\n        return 0;\n    }\n drawGrid(chartArea) {\n        const grid = this.options.grid;\n        const ctx = this.ctx;\n        const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n        let i, ilen;\n        const drawLine = (p1, p2, style)=>{\n            if (!style.width || !style.color) {\n                return;\n            }\n            ctx.save();\n            ctx.lineWidth = style.width;\n            ctx.strokeStyle = style.color;\n            ctx.setLineDash(style.borderDash || []);\n            ctx.lineDashOffset = style.borderDashOffset;\n            ctx.beginPath();\n            ctx.moveTo(p1.x, p1.y);\n            ctx.lineTo(p2.x, p2.y);\n            ctx.stroke();\n            ctx.restore();\n        };\n        if (grid.display) {\n            for(i = 0, ilen = items.length; i < ilen; ++i){\n                const item = items[i];\n                if (grid.drawOnChartArea) {\n                    drawLine({\n                        x: item.x1,\n                        y: item.y1\n                    }, {\n                        x: item.x2,\n                        y: item.y2\n                    }, item);\n                }\n                if (grid.drawTicks) {\n                    drawLine({\n                        x: item.tx1,\n                        y: item.ty1\n                    }, {\n                        x: item.tx2,\n                        y: item.ty2\n                    }, {\n                        color: item.tickColor,\n                        width: item.tickWidth,\n                        borderDash: item.tickBorderDash,\n                        borderDashOffset: item.tickBorderDashOffset\n                    });\n                }\n            }\n        }\n    }\n drawBorder() {\n        const { chart , ctx , options: { border , grid  }  } = this;\n        const borderOpts = border.setContext(this.getContext());\n        const axisWidth = border.display ? borderOpts.width : 0;\n        if (!axisWidth) {\n            return;\n        }\n        const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n        const borderValue = this._borderValue;\n        let x1, x2, y1, y2;\n        if (this.isHorizontal()) {\n            x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n            x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n            y1 = y2 = borderValue;\n        } else {\n            y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n            y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n            x1 = x2 = borderValue;\n        }\n        ctx.save();\n        ctx.lineWidth = borderOpts.width;\n        ctx.strokeStyle = borderOpts.color;\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.stroke();\n        ctx.restore();\n    }\n drawLabels(chartArea) {\n        const optionTicks = this.options.ticks;\n        if (!optionTicks.display) {\n            return;\n        }\n        const ctx = this.ctx;\n        const area = this._computeLabelArea();\n        if (area) {\n            clipArea(ctx, area);\n        }\n        const items = this.getLabelItems(chartArea);\n        for (const item of items){\n            const renderTextOptions = item.options;\n            const tickFont = item.font;\n            const label = item.label;\n            const y = item.textOffset;\n            renderText(ctx, label, 0, y, tickFont, renderTextOptions);\n        }\n        if (area) {\n            unclipArea(ctx);\n        }\n    }\n drawTitle() {\n        const { ctx , options: { position , title , reverse  }  } = this;\n        if (!title.display) {\n            return;\n        }\n        const font = toFont(title.font);\n        const padding = toPadding(title.padding);\n        const align = title.align;\n        let offset = font.lineHeight / 2;\n        if (position === 'bottom' || position === 'center' || isObject(position)) {\n            offset += padding.bottom;\n            if (isArray(title.text)) {\n                offset += font.lineHeight * (title.text.length - 1);\n            }\n        } else {\n            offset += padding.top;\n        }\n        const { titleX , titleY , maxWidth , rotation  } = titleArgs(this, offset, position, align);\n        renderText(ctx, title.text, 0, 0, font, {\n            color: title.color,\n            maxWidth,\n            rotation,\n            textAlign: titleAlign(align, position, reverse),\n            textBaseline: 'middle',\n            translation: [\n                titleX,\n                titleY\n            ]\n        });\n    }\n    draw(chartArea) {\n        if (!this._isVisible()) {\n            return;\n        }\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawBorder();\n        this.drawTitle();\n        this.drawLabels(chartArea);\n    }\n _layers() {\n        const opts = this.options;\n        const tz = opts.ticks && opts.ticks.z || 0;\n        const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n        const bz = valueOrDefault(opts.border && opts.border.z, 0);\n        if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n            return [\n                {\n                    z: tz,\n                    draw: (chartArea)=>{\n                        this.draw(chartArea);\n                    }\n                }\n            ];\n        }\n        return [\n            {\n                z: gz,\n                draw: (chartArea)=>{\n                    this.drawBackground();\n                    this.drawGrid(chartArea);\n                    this.drawTitle();\n                }\n            },\n            {\n                z: bz,\n                draw: ()=>{\n                    this.drawBorder();\n                }\n            },\n            {\n                z: tz,\n                draw: (chartArea)=>{\n                    this.drawLabels(chartArea);\n                }\n            }\n        ];\n    }\n getMatchingVisibleMetas(type) {\n        const metas = this.chart.getSortedVisibleDatasetMetas();\n        const axisID = this.axis + 'AxisID';\n        const result = [];\n        let i, ilen;\n        for(i = 0, ilen = metas.length; i < ilen; ++i){\n            const meta = metas[i];\n            if (meta[axisID] === this.id && (!type || meta.type === type)) {\n                result.push(meta);\n            }\n        }\n        return result;\n    }\n _resolveTickFontOptions(index) {\n        const opts = this.options.ticks.setContext(this.getContext(index));\n        return toFont(opts.font);\n    }\n _maxDigits() {\n        const fontSize = this._resolveTickFontOptions(0).lineHeight;\n        return (this.isHorizontal() ? this.width : this.height) / fontSize;\n    }\n}\n\nclass TypedRegistry {\n    constructor(type, scope, override){\n        this.type = type;\n        this.scope = scope;\n        this.override = override;\n        this.items = Object.create(null);\n    }\n    isForType(type) {\n        return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n    }\n register(item) {\n        const proto = Object.getPrototypeOf(item);\n        let parentScope;\n        if (isIChartComponent(proto)) {\n            parentScope = this.register(proto);\n        }\n        const items = this.items;\n        const id = item.id;\n        const scope = this.scope + '.' + id;\n        if (!id) {\n            throw new Error('class does not have id: ' + item);\n        }\n        if (id in items) {\n            return scope;\n        }\n        items[id] = item;\n        registerDefaults(item, scope, parentScope);\n        if (this.override) {\n            defaults.override(item.id, item.overrides);\n        }\n        return scope;\n    }\n get(id) {\n        return this.items[id];\n    }\n unregister(item) {\n        const items = this.items;\n        const id = item.id;\n        const scope = this.scope;\n        if (id in items) {\n            delete items[id];\n        }\n        if (scope && id in defaults[scope]) {\n            delete defaults[scope][id];\n            if (this.override) {\n                delete overrides[id];\n            }\n        }\n    }\n}\nfunction registerDefaults(item, scope, parentScope) {\n    const itemDefaults = merge(Object.create(null), [\n        parentScope ? defaults.get(parentScope) : {},\n        defaults.get(scope),\n        item.defaults\n    ]);\n    defaults.set(scope, itemDefaults);\n    if (item.defaultRoutes) {\n        routeDefaults(scope, item.defaultRoutes);\n    }\n    if (item.descriptors) {\n        defaults.describe(scope, item.descriptors);\n    }\n}\nfunction routeDefaults(scope, routes) {\n    Object.keys(routes).forEach((property)=>{\n        const propertyParts = property.split('.');\n        const sourceName = propertyParts.pop();\n        const sourceScope = [\n            scope\n        ].concat(propertyParts).join('.');\n        const parts = routes[property].split('.');\n        const targetName = parts.pop();\n        const targetScope = parts.join('.');\n        defaults.route(sourceScope, sourceName, targetScope, targetName);\n    });\n}\nfunction isIChartComponent(proto) {\n    return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n    constructor(){\n        this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n        this.elements = new TypedRegistry(Element, 'elements');\n        this.plugins = new TypedRegistry(Object, 'plugins');\n        this.scales = new TypedRegistry(Scale, 'scales');\n        this._typedRegistries = [\n            this.controllers,\n            this.scales,\n            this.elements\n        ];\n    }\n add(...args) {\n        this._each('register', args);\n    }\n    remove(...args) {\n        this._each('unregister', args);\n    }\n addControllers(...args) {\n        this._each('register', args, this.controllers);\n    }\n addElements(...args) {\n        this._each('register', args, this.elements);\n    }\n addPlugins(...args) {\n        this._each('register', args, this.plugins);\n    }\n addScales(...args) {\n        this._each('register', args, this.scales);\n    }\n getController(id) {\n        return this._get(id, this.controllers, 'controller');\n    }\n getElement(id) {\n        return this._get(id, this.elements, 'element');\n    }\n getPlugin(id) {\n        return this._get(id, this.plugins, 'plugin');\n    }\n getScale(id) {\n        return this._get(id, this.scales, 'scale');\n    }\n removeControllers(...args) {\n        this._each('unregister', args, this.controllers);\n    }\n removeElements(...args) {\n        this._each('unregister', args, this.elements);\n    }\n removePlugins(...args) {\n        this._each('unregister', args, this.plugins);\n    }\n removeScales(...args) {\n        this._each('unregister', args, this.scales);\n    }\n _each(method, args, typedRegistry) {\n        [\n            ...args\n        ].forEach((arg)=>{\n            const reg = typedRegistry || this._getRegistryForType(arg);\n            if (typedRegistry || reg.isForType(arg) || reg === this.plugins && arg.id) {\n                this._exec(method, reg, arg);\n            } else {\n                each(arg, (item)=>{\n                    const itemReg = typedRegistry || this._getRegistryForType(item);\n                    this._exec(method, itemReg, item);\n                });\n            }\n        });\n    }\n _exec(method, registry, component) {\n        const camelMethod = _capitalize(method);\n        callback(component['before' + camelMethod], [], component);\n        registry[method](component);\n        callback(component['after' + camelMethod], [], component);\n    }\n _getRegistryForType(type) {\n        for(let i = 0; i < this._typedRegistries.length; i++){\n            const reg = this._typedRegistries[i];\n            if (reg.isForType(type)) {\n                return reg;\n            }\n        }\n        return this.plugins;\n    }\n _get(id, typedRegistry, type) {\n        const item = typedRegistry.get(id);\n        if (item === undefined) {\n            throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n        }\n        return item;\n    }\n}\nvar registry = /* #__PURE__ */ new Registry();\n\nclass PluginService {\n    constructor(){\n        this._init = [];\n    }\n notify(chart, hook, args, filter) {\n        if (hook === 'beforeInit') {\n            this._init = this._createDescriptors(chart, true);\n            this._notify(this._init, chart, 'install');\n        }\n        const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n        const result = this._notify(descriptors, chart, hook, args);\n        if (hook === 'afterDestroy') {\n            this._notify(descriptors, chart, 'stop');\n            this._notify(this._init, chart, 'uninstall');\n        }\n        return result;\n    }\n _notify(descriptors, chart, hook, args) {\n        args = args || {};\n        for (const descriptor of descriptors){\n            const plugin = descriptor.plugin;\n            const method = plugin[hook];\n            const params = [\n                chart,\n                args,\n                descriptor.options\n            ];\n            if (callback(method, params, plugin) === false && args.cancelable) {\n                return false;\n            }\n        }\n        return true;\n    }\n    invalidate() {\n        if (!isNullOrUndef(this._cache)) {\n            this._oldCache = this._cache;\n            this._cache = undefined;\n        }\n    }\n _descriptors(chart) {\n        if (this._cache) {\n            return this._cache;\n        }\n        const descriptors = this._cache = this._createDescriptors(chart);\n        this._notifyStateChanges(chart);\n        return descriptors;\n    }\n    _createDescriptors(chart, all) {\n        const config = chart && chart.config;\n        const options = valueOrDefault(config.options && config.options.plugins, {});\n        const plugins = allPlugins(config);\n        return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n    }\n _notifyStateChanges(chart) {\n        const previousDescriptors = this._oldCache || [];\n        const descriptors = this._cache;\n        const diff = (a, b)=>a.filter((x)=>!b.some((y)=>x.plugin.id === y.plugin.id));\n        this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n        this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n    }\n}\n function allPlugins(config) {\n    const localIds = {};\n    const plugins = [];\n    const keys = Object.keys(registry.plugins.items);\n    for(let i = 0; i < keys.length; i++){\n        plugins.push(registry.getPlugin(keys[i]));\n    }\n    const local = config.plugins || [];\n    for(let i = 0; i < local.length; i++){\n        const plugin = local[i];\n        if (plugins.indexOf(plugin) === -1) {\n            plugins.push(plugin);\n            localIds[plugin.id] = true;\n        }\n    }\n    return {\n        plugins,\n        localIds\n    };\n}\nfunction getOpts(options, all) {\n    if (!all && options === false) {\n        return null;\n    }\n    if (options === true) {\n        return {};\n    }\n    return options;\n}\nfunction createDescriptors(chart, { plugins , localIds  }, options, all) {\n    const result = [];\n    const context = chart.getContext();\n    for (const plugin of plugins){\n        const id = plugin.id;\n        const opts = getOpts(options[id], all);\n        if (opts === null) {\n            continue;\n        }\n        result.push({\n            plugin,\n            options: pluginOpts(chart.config, {\n                plugin,\n                local: localIds[id]\n            }, opts, context)\n        });\n    }\n    return result;\n}\nfunction pluginOpts(config, { plugin , local  }, opts, context) {\n    const keys = config.pluginScopeKeys(plugin);\n    const scopes = config.getOptionScopes(opts, keys);\n    if (local && plugin.defaults) {\n        scopes.push(plugin.defaults);\n    }\n    return config.createResolver(scopes, context, [\n        ''\n    ], {\n        scriptable: false,\n        indexable: false,\n        allKeys: true\n    });\n}\n\nfunction getIndexAxis(type, options) {\n    const datasetDefaults = defaults.datasets[type] || {};\n    const datasetOptions = (options.datasets || {})[type] || {};\n    return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n    let axis = id;\n    if (id === '_index_') {\n        axis = indexAxis;\n    } else if (id === '_value_') {\n        axis = indexAxis === 'x' ? 'y' : 'x';\n    }\n    return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n    return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction idMatchesAxis(id) {\n    if (id === 'x' || id === 'y' || id === 'r') {\n        return id;\n    }\n}\nfunction axisFromPosition(position) {\n    if (position === 'top' || position === 'bottom') {\n        return 'x';\n    }\n    if (position === 'left' || position === 'right') {\n        return 'y';\n    }\n}\nfunction determineAxis(id, ...scaleOptions) {\n    if (idMatchesAxis(id)) {\n        return id;\n    }\n    for (const opts of scaleOptions){\n        const axis = opts.axis || axisFromPosition(opts.position) || id.length > 1 && idMatchesAxis(id[0].toLowerCase());\n        if (axis) {\n            return axis;\n        }\n    }\n    throw new Error(`Cannot determine type of '${id}' axis. Please provide 'axis' or 'position' option.`);\n}\nfunction getAxisFromDataset(id, axis, dataset) {\n    if (dataset[axis + 'AxisID'] === id) {\n        return {\n            axis\n        };\n    }\n}\nfunction retrieveAxisFromDatasets(id, config) {\n    if (config.data && config.data.datasets) {\n        const boundDs = config.data.datasets.filter((d)=>d.xAxisID === id || d.yAxisID === id);\n        if (boundDs.length) {\n            return getAxisFromDataset(id, 'x', boundDs[0]) || getAxisFromDataset(id, 'y', boundDs[0]);\n        }\n    }\n    return {};\n}\nfunction mergeScaleConfig(config, options) {\n    const chartDefaults = overrides[config.type] || {\n        scales: {}\n    };\n    const configScales = options.scales || {};\n    const chartIndexAxis = getIndexAxis(config.type, options);\n    const scales = Object.create(null);\n    Object.keys(configScales).forEach((id)=>{\n        const scaleConf = configScales[id];\n        if (!isObject(scaleConf)) {\n            return console.error(`Invalid scale configuration for scale: ${id}`);\n        }\n        if (scaleConf._proxy) {\n            return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n        }\n        const axis = determineAxis(id, scaleConf, retrieveAxisFromDatasets(id, config), defaults.scales[scaleConf.type]);\n        const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n        const defaultScaleOptions = chartDefaults.scales || {};\n        scales[id] = mergeIf(Object.create(null), [\n            {\n                axis\n            },\n            scaleConf,\n            defaultScaleOptions[axis],\n            defaultScaleOptions[defaultId]\n        ]);\n    });\n    config.data.datasets.forEach((dataset)=>{\n        const type = dataset.type || config.type;\n        const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n        const datasetDefaults = overrides[type] || {};\n        const defaultScaleOptions = datasetDefaults.scales || {};\n        Object.keys(defaultScaleOptions).forEach((defaultID)=>{\n            const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n            const id = dataset[axis + 'AxisID'] || axis;\n            scales[id] = scales[id] || Object.create(null);\n            mergeIf(scales[id], [\n                {\n                    axis\n                },\n                configScales[id],\n                defaultScaleOptions[defaultID]\n            ]);\n        });\n    });\n    Object.keys(scales).forEach((key)=>{\n        const scale = scales[key];\n        mergeIf(scale, [\n            defaults.scales[scale.type],\n            defaults.scale\n        ]);\n    });\n    return scales;\n}\nfunction initOptions(config) {\n    const options = config.options || (config.options = {});\n    options.plugins = valueOrDefault(options.plugins, {});\n    options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n    data = data || {};\n    data.datasets = data.datasets || [];\n    data.labels = data.labels || [];\n    return data;\n}\nfunction initConfig(config) {\n    config = config || {};\n    config.data = initData(config.data);\n    initOptions(config);\n    return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n    let keys = keyCache.get(cacheKey);\n    if (!keys) {\n        keys = generate();\n        keyCache.set(cacheKey, keys);\n        keysCached.add(keys);\n    }\n    return keys;\n}\nconst addIfFound = (set, obj, key)=>{\n    const opts = resolveObjectKey(obj, key);\n    if (opts !== undefined) {\n        set.add(opts);\n    }\n};\nclass Config {\n    constructor(config){\n        this._config = initConfig(config);\n        this._scopeCache = new Map();\n        this._resolverCache = new Map();\n    }\n    get platform() {\n        return this._config.platform;\n    }\n    get type() {\n        return this._config.type;\n    }\n    set type(type) {\n        this._config.type = type;\n    }\n    get data() {\n        return this._config.data;\n    }\n    set data(data) {\n        this._config.data = initData(data);\n    }\n    get options() {\n        return this._config.options;\n    }\n    set options(options) {\n        this._config.options = options;\n    }\n    get plugins() {\n        return this._config.plugins;\n    }\n    update() {\n        const config = this._config;\n        this.clearCache();\n        initOptions(config);\n    }\n    clearCache() {\n        this._scopeCache.clear();\n        this._resolverCache.clear();\n    }\n datasetScopeKeys(datasetType) {\n        return cachedKeys(datasetType, ()=>[\n                [\n                    `datasets.${datasetType}`,\n                    ''\n                ]\n            ]);\n    }\n datasetAnimationScopeKeys(datasetType, transition) {\n        return cachedKeys(`${datasetType}.transition.${transition}`, ()=>[\n                [\n                    `datasets.${datasetType}.transitions.${transition}`,\n                    `transitions.${transition}`\n                ],\n                [\n                    `datasets.${datasetType}`,\n                    ''\n                ]\n            ]);\n    }\n datasetElementScopeKeys(datasetType, elementType) {\n        return cachedKeys(`${datasetType}-${elementType}`, ()=>[\n                [\n                    `datasets.${datasetType}.elements.${elementType}`,\n                    `datasets.${datasetType}`,\n                    `elements.${elementType}`,\n                    ''\n                ]\n            ]);\n    }\n pluginScopeKeys(plugin) {\n        const id = plugin.id;\n        const type = this.type;\n        return cachedKeys(`${type}-plugin-${id}`, ()=>[\n                [\n                    `plugins.${id}`,\n                    ...plugin.additionalOptionScopes || []\n                ]\n            ]);\n    }\n _cachedScopes(mainScope, resetCache) {\n        const _scopeCache = this._scopeCache;\n        let cache = _scopeCache.get(mainScope);\n        if (!cache || resetCache) {\n            cache = new Map();\n            _scopeCache.set(mainScope, cache);\n        }\n        return cache;\n    }\n getOptionScopes(mainScope, keyLists, resetCache) {\n        const { options , type  } = this;\n        const cache = this._cachedScopes(mainScope, resetCache);\n        const cached = cache.get(keyLists);\n        if (cached) {\n            return cached;\n        }\n        const scopes = new Set();\n        keyLists.forEach((keys)=>{\n            if (mainScope) {\n                scopes.add(mainScope);\n                keys.forEach((key)=>addIfFound(scopes, mainScope, key));\n            }\n            keys.forEach((key)=>addIfFound(scopes, options, key));\n            keys.forEach((key)=>addIfFound(scopes, overrides[type] || {}, key));\n            keys.forEach((key)=>addIfFound(scopes, defaults, key));\n            keys.forEach((key)=>addIfFound(scopes, descriptors, key));\n        });\n        const array = Array.from(scopes);\n        if (array.length === 0) {\n            array.push(Object.create(null));\n        }\n        if (keysCached.has(keyLists)) {\n            cache.set(keyLists, array);\n        }\n        return array;\n    }\n chartOptionScopes() {\n        const { options , type  } = this;\n        return [\n            options,\n            overrides[type] || {},\n            defaults.datasets[type] || {},\n            {\n                type\n            },\n            defaults,\n            descriptors\n        ];\n    }\n resolveNamedOptions(scopes, names, context, prefixes = [\n        ''\n    ]) {\n        const result = {\n            $shared: true\n        };\n        const { resolver , subPrefixes  } = getResolver(this._resolverCache, scopes, prefixes);\n        let options = resolver;\n        if (needContext(resolver, names)) {\n            result.$shared = false;\n            context = isFunction(context) ? context() : context;\n            const subResolver = this.createResolver(scopes, context, subPrefixes);\n            options = _attachContext(resolver, context, subResolver);\n        }\n        for (const prop of names){\n            result[prop] = options[prop];\n        }\n        return result;\n    }\n createResolver(scopes, context, prefixes = [\n        ''\n    ], descriptorDefaults) {\n        const { resolver  } = getResolver(this._resolverCache, scopes, prefixes);\n        return isObject(context) ? _attachContext(resolver, context, undefined, descriptorDefaults) : resolver;\n    }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n    let cache = resolverCache.get(scopes);\n    if (!cache) {\n        cache = new Map();\n        resolverCache.set(scopes, cache);\n    }\n    const cacheKey = prefixes.join();\n    let cached = cache.get(cacheKey);\n    if (!cached) {\n        const resolver = _createResolver(scopes, prefixes);\n        cached = {\n            resolver,\n            subPrefixes: prefixes.filter((p)=>!p.toLowerCase().includes('hover'))\n        };\n        cache.set(cacheKey, cached);\n    }\n    return cached;\n}\nconst hasFunction = (value)=>isObject(value) && Object.getOwnPropertyNames(value).reduce((acc, key)=>acc || isFunction(value[key]), false);\nfunction needContext(proxy, names) {\n    const { isScriptable , isIndexable  } = _descriptors(proxy);\n    for (const prop of names){\n        const scriptable = isScriptable(prop);\n        const indexable = isIndexable(prop);\n        const value = (indexable || scriptable) && proxy[prop];\n        if (scriptable && (isFunction(value) || hasFunction(value)) || indexable && isArray(value)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar version = \"4.4.0\";\n\nconst KNOWN_POSITIONS = [\n    'top',\n    'bottom',\n    'left',\n    'right',\n    'chartArea'\n];\nfunction positionIsHorizontal(position, axis) {\n    return position === 'top' || position === 'bottom' || KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x';\n}\nfunction compare2Level(l1, l2) {\n    return function(a, b) {\n        return a[l1] === b[l1] ? a[l2] - b[l2] : a[l1] - b[l1];\n    };\n}\nfunction onAnimationsComplete(context) {\n    const chart = context.chart;\n    const animationOptions = chart.options.animation;\n    chart.notifyPlugins('afterRender');\n    callback(animationOptions && animationOptions.onComplete, [\n        context\n    ], chart);\n}\nfunction onAnimationProgress(context) {\n    const chart = context.chart;\n    const animationOptions = chart.options.animation;\n    callback(animationOptions && animationOptions.onProgress, [\n        context\n    ], chart);\n}\n function getCanvas(item) {\n    if (_isDomSupported() && typeof item === 'string') {\n        item = document.getElementById(item);\n    } else if (item && item.length) {\n        item = item[0];\n    }\n    if (item && item.canvas) {\n        item = item.canvas;\n    }\n    return item;\n}\nconst instances = {};\nconst getChart = (key)=>{\n    const canvas = getCanvas(key);\n    return Object.values(instances).filter((c)=>c.canvas === canvas).pop();\n};\nfunction moveNumericKeys(obj, start, move) {\n    const keys = Object.keys(obj);\n    for (const key of keys){\n        const intKey = +key;\n        if (intKey >= start) {\n            const value = obj[key];\n            delete obj[key];\n            if (move > 0 || intKey > start) {\n                obj[intKey + move] = value;\n            }\n        }\n    }\n}\n function determineLastEvent(e, lastEvent, inChartArea, isClick) {\n    if (!inChartArea || e.type === 'mouseout') {\n        return null;\n    }\n    if (isClick) {\n        return lastEvent;\n    }\n    return e;\n}\nfunction getSizeForArea(scale, chartArea, field) {\n    return scale.options.clip ? scale[field] : chartArea[field];\n}\nfunction getDatasetArea(meta, chartArea) {\n    const { xScale , yScale  } = meta;\n    if (xScale && yScale) {\n        return {\n            left: getSizeForArea(xScale, chartArea, 'left'),\n            right: getSizeForArea(xScale, chartArea, 'right'),\n            top: getSizeForArea(yScale, chartArea, 'top'),\n            bottom: getSizeForArea(yScale, chartArea, 'bottom')\n        };\n    }\n    return chartArea;\n}\nclass Chart {\n    static defaults = defaults;\n    static instances = instances;\n    static overrides = overrides;\n    static registry = registry;\n    static version = version;\n    static getChart = getChart;\n    static register(...items) {\n        registry.add(...items);\n        invalidatePlugins();\n    }\n    static unregister(...items) {\n        registry.remove(...items);\n        invalidatePlugins();\n    }\n    constructor(item, userConfig){\n        const config = this.config = new Config(userConfig);\n        const initialCanvas = getCanvas(item);\n        const existingChart = getChart(initialCanvas);\n        if (existingChart) {\n            throw new Error('Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' + ' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.');\n        }\n        const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n        this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n        this.platform.updateConfig(config);\n        const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n        const canvas = context && context.canvas;\n        const height = canvas && canvas.height;\n        const width = canvas && canvas.width;\n        this.id = uid();\n        this.ctx = context;\n        this.canvas = canvas;\n        this.width = width;\n        this.height = height;\n        this._options = options;\n        this._aspectRatio = this.aspectRatio;\n        this._layers = [];\n        this._metasets = [];\n        this._stacks = undefined;\n        this.boxes = [];\n        this.currentDevicePixelRatio = undefined;\n        this.chartArea = undefined;\n        this._active = [];\n        this._lastEvent = undefined;\n        this._listeners = {};\n         this._responsiveListeners = undefined;\n        this._sortedMetasets = [];\n        this.scales = {};\n        this._plugins = new PluginService();\n        this.$proxies = {};\n        this._hiddenIndices = {};\n        this.attached = false;\n        this._animationsDisabled = undefined;\n        this.$context = undefined;\n        this._doResize = debounce((mode)=>this.update(mode), options.resizeDelay || 0);\n        this._dataChanges = [];\n        instances[this.id] = this;\n        if (!context || !canvas) {\n            console.error(\"Failed to create chart: can't acquire context from the given item\");\n            return;\n        }\n        animator.listen(this, 'complete', onAnimationsComplete);\n        animator.listen(this, 'progress', onAnimationProgress);\n        this._initialize();\n        if (this.attached) {\n            this.update();\n        }\n    }\n    get aspectRatio() {\n        const { options: { aspectRatio , maintainAspectRatio  } , width , height , _aspectRatio  } = this;\n        if (!isNullOrUndef(aspectRatio)) {\n            return aspectRatio;\n        }\n        if (maintainAspectRatio && _aspectRatio) {\n            return _aspectRatio;\n        }\n        return height ? width / height : null;\n    }\n    get data() {\n        return this.config.data;\n    }\n    set data(data) {\n        this.config.data = data;\n    }\n    get options() {\n        return this._options;\n    }\n    set options(options) {\n        this.config.options = options;\n    }\n    get registry() {\n        return registry;\n    }\n _initialize() {\n        this.notifyPlugins('beforeInit');\n        if (this.options.responsive) {\n            this.resize();\n        } else {\n            retinaScale(this, this.options.devicePixelRatio);\n        }\n        this.bindEvents();\n        this.notifyPlugins('afterInit');\n        return this;\n    }\n    clear() {\n        clearCanvas(this.canvas, this.ctx);\n        return this;\n    }\n    stop() {\n        animator.stop(this);\n        return this;\n    }\n resize(width, height) {\n        if (!animator.running(this)) {\n            this._resize(width, height);\n        } else {\n            this._resizeBeforeDraw = {\n                width,\n                height\n            };\n        }\n    }\n    _resize(width, height) {\n        const options = this.options;\n        const canvas = this.canvas;\n        const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n        const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n        const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n        const mode = this.width ? 'resize' : 'attach';\n        this.width = newSize.width;\n        this.height = newSize.height;\n        this._aspectRatio = this.aspectRatio;\n        if (!retinaScale(this, newRatio, true)) {\n            return;\n        }\n        this.notifyPlugins('resize', {\n            size: newSize\n        });\n        callback(options.onResize, [\n            this,\n            newSize\n        ], this);\n        if (this.attached) {\n            if (this._doResize(mode)) {\n                this.render();\n            }\n        }\n    }\n    ensureScalesHaveIDs() {\n        const options = this.options;\n        const scalesOptions = options.scales || {};\n        each(scalesOptions, (axisOptions, axisID)=>{\n            axisOptions.id = axisID;\n        });\n    }\n buildOrUpdateScales() {\n        const options = this.options;\n        const scaleOpts = options.scales;\n        const scales = this.scales;\n        const updated = Object.keys(scales).reduce((obj, id)=>{\n            obj[id] = false;\n            return obj;\n        }, {});\n        let items = [];\n        if (scaleOpts) {\n            items = items.concat(Object.keys(scaleOpts).map((id)=>{\n                const scaleOptions = scaleOpts[id];\n                const axis = determineAxis(id, scaleOptions);\n                const isRadial = axis === 'r';\n                const isHorizontal = axis === 'x';\n                return {\n                    options: scaleOptions,\n                    dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n                    dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n                };\n            }));\n        }\n        each(items, (item)=>{\n            const scaleOptions = item.options;\n            const id = scaleOptions.id;\n            const axis = determineAxis(id, scaleOptions);\n            const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n            if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n                scaleOptions.position = item.dposition;\n            }\n            updated[id] = true;\n            let scale = null;\n            if (id in scales && scales[id].type === scaleType) {\n                scale = scales[id];\n            } else {\n                const scaleClass = registry.getScale(scaleType);\n                scale = new scaleClass({\n                    id,\n                    type: scaleType,\n                    ctx: this.ctx,\n                    chart: this\n                });\n                scales[scale.id] = scale;\n            }\n            scale.init(scaleOptions, options);\n        });\n        each(updated, (hasUpdated, id)=>{\n            if (!hasUpdated) {\n                delete scales[id];\n            }\n        });\n        each(scales, (scale)=>{\n            layouts.configure(this, scale, scale.options);\n            layouts.addBox(this, scale);\n        });\n    }\n _updateMetasets() {\n        const metasets = this._metasets;\n        const numData = this.data.datasets.length;\n        const numMeta = metasets.length;\n        metasets.sort((a, b)=>a.index - b.index);\n        if (numMeta > numData) {\n            for(let i = numData; i < numMeta; ++i){\n                this._destroyDatasetMeta(i);\n            }\n            metasets.splice(numData, numMeta - numData);\n        }\n        this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n    }\n _removeUnreferencedMetasets() {\n        const { _metasets: metasets , data: { datasets  }  } = this;\n        if (metasets.length > datasets.length) {\n            delete this._stacks;\n        }\n        metasets.forEach((meta, index)=>{\n            if (datasets.filter((x)=>x === meta._dataset).length === 0) {\n                this._destroyDatasetMeta(index);\n            }\n        });\n    }\n    buildOrUpdateControllers() {\n        const newControllers = [];\n        const datasets = this.data.datasets;\n        let i, ilen;\n        this._removeUnreferencedMetasets();\n        for(i = 0, ilen = datasets.length; i < ilen; i++){\n            const dataset = datasets[i];\n            let meta = this.getDatasetMeta(i);\n            const type = dataset.type || this.config.type;\n            if (meta.type && meta.type !== type) {\n                this._destroyDatasetMeta(i);\n                meta = this.getDatasetMeta(i);\n            }\n            meta.type = type;\n            meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n            meta.order = dataset.order || 0;\n            meta.index = i;\n            meta.label = '' + dataset.label;\n            meta.visible = this.isDatasetVisible(i);\n            if (meta.controller) {\n                meta.controller.updateIndex(i);\n                meta.controller.linkScales();\n            } else {\n                const ControllerClass = registry.getController(type);\n                const { datasetElementType , dataElementType  } = defaults.datasets[type];\n                Object.assign(ControllerClass, {\n                    dataElementType: registry.getElement(dataElementType),\n                    datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n                });\n                meta.controller = new ControllerClass(this, i);\n                newControllers.push(meta.controller);\n            }\n        }\n        this._updateMetasets();\n        return newControllers;\n    }\n _resetElements() {\n        each(this.data.datasets, (dataset, datasetIndex)=>{\n            this.getDatasetMeta(datasetIndex).controller.reset();\n        }, this);\n    }\n reset() {\n        this._resetElements();\n        this.notifyPlugins('reset');\n    }\n    update(mode) {\n        const config = this.config;\n        config.update();\n        const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n        const animsDisabled = this._animationsDisabled = !options.animation;\n        this._updateScales();\n        this._checkEventBindings();\n        this._updateHiddenIndices();\n        this._plugins.invalidate();\n        if (this.notifyPlugins('beforeUpdate', {\n            mode,\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const newControllers = this.buildOrUpdateControllers();\n        this.notifyPlugins('beforeElementsUpdate');\n        let minPadding = 0;\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; i++){\n            const { controller  } = this.getDatasetMeta(i);\n            const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n            controller.buildOrUpdateElements(reset);\n            minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n        }\n        minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n        this._updateLayout(minPadding);\n        if (!animsDisabled) {\n            each(newControllers, (controller)=>{\n                controller.reset();\n            });\n        }\n        this._updateDatasets(mode);\n        this.notifyPlugins('afterUpdate', {\n            mode\n        });\n        this._layers.sort(compare2Level('z', '_idx'));\n        const { _active , _lastEvent  } = this;\n        if (_lastEvent) {\n            this._eventHandler(_lastEvent, true);\n        } else if (_active.length) {\n            this._updateHoverStyles(_active, _active, true);\n        }\n        this.render();\n    }\n _updateScales() {\n        each(this.scales, (scale)=>{\n            layouts.removeBox(this, scale);\n        });\n        this.ensureScalesHaveIDs();\n        this.buildOrUpdateScales();\n    }\n _checkEventBindings() {\n        const options = this.options;\n        const existingEvents = new Set(Object.keys(this._listeners));\n        const newEvents = new Set(options.events);\n        if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n            this.unbindEvents();\n            this.bindEvents();\n        }\n    }\n _updateHiddenIndices() {\n        const { _hiddenIndices  } = this;\n        const changes = this._getUniformDataChanges() || [];\n        for (const { method , start , count  } of changes){\n            const move = method === '_removeElements' ? -count : count;\n            moveNumericKeys(_hiddenIndices, start, move);\n        }\n    }\n _getUniformDataChanges() {\n        const _dataChanges = this._dataChanges;\n        if (!_dataChanges || !_dataChanges.length) {\n            return;\n        }\n        this._dataChanges = [];\n        const datasetCount = this.data.datasets.length;\n        const makeSet = (idx)=>new Set(_dataChanges.filter((c)=>c[0] === idx).map((c, i)=>i + ',' + c.splice(1).join(',')));\n        const changeSet = makeSet(0);\n        for(let i = 1; i < datasetCount; i++){\n            if (!setsEqual(changeSet, makeSet(i))) {\n                return;\n            }\n        }\n        return Array.from(changeSet).map((c)=>c.split(',')).map((a)=>({\n                method: a[1],\n                start: +a[2],\n                count: +a[3]\n            }));\n    }\n _updateLayout(minPadding) {\n        if (this.notifyPlugins('beforeLayout', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        layouts.update(this, this.width, this.height, minPadding);\n        const area = this.chartArea;\n        const noArea = area.width <= 0 || area.height <= 0;\n        this._layers = [];\n        each(this.boxes, (box)=>{\n            if (noArea && box.position === 'chartArea') {\n                return;\n            }\n            if (box.configure) {\n                box.configure();\n            }\n            this._layers.push(...box._layers());\n        }, this);\n        this._layers.forEach((item, index)=>{\n            item._idx = index;\n        });\n        this.notifyPlugins('afterLayout');\n    }\n _updateDatasets(mode) {\n        if (this.notifyPlugins('beforeDatasetsUpdate', {\n            mode,\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this.getDatasetMeta(i).controller.configure();\n        }\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this._updateDataset(i, isFunction(mode) ? mode({\n                datasetIndex: i\n            }) : mode);\n        }\n        this.notifyPlugins('afterDatasetsUpdate', {\n            mode\n        });\n    }\n _updateDataset(index, mode) {\n        const meta = this.getDatasetMeta(index);\n        const args = {\n            meta,\n            index,\n            mode,\n            cancelable: true\n        };\n        if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n            return;\n        }\n        meta.controller._update(mode);\n        args.cancelable = false;\n        this.notifyPlugins('afterDatasetUpdate', args);\n    }\n    render() {\n        if (this.notifyPlugins('beforeRender', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        if (animator.has(this)) {\n            if (this.attached && !animator.running(this)) {\n                animator.start(this);\n            }\n        } else {\n            this.draw();\n            onAnimationsComplete({\n                chart: this\n            });\n        }\n    }\n    draw() {\n        let i;\n        if (this._resizeBeforeDraw) {\n            const { width , height  } = this._resizeBeforeDraw;\n            this._resize(width, height);\n            this._resizeBeforeDraw = null;\n        }\n        this.clear();\n        if (this.width <= 0 || this.height <= 0) {\n            return;\n        }\n        if (this.notifyPlugins('beforeDraw', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const layers = this._layers;\n        for(i = 0; i < layers.length && layers[i].z <= 0; ++i){\n            layers[i].draw(this.chartArea);\n        }\n        this._drawDatasets();\n        for(; i < layers.length; ++i){\n            layers[i].draw(this.chartArea);\n        }\n        this.notifyPlugins('afterDraw');\n    }\n _getSortedDatasetMetas(filterVisible) {\n        const metasets = this._sortedMetasets;\n        const result = [];\n        let i, ilen;\n        for(i = 0, ilen = metasets.length; i < ilen; ++i){\n            const meta = metasets[i];\n            if (!filterVisible || meta.visible) {\n                result.push(meta);\n            }\n        }\n        return result;\n    }\n getSortedVisibleDatasetMetas() {\n        return this._getSortedDatasetMetas(true);\n    }\n _drawDatasets() {\n        if (this.notifyPlugins('beforeDatasetsDraw', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const metasets = this.getSortedVisibleDatasetMetas();\n        for(let i = metasets.length - 1; i >= 0; --i){\n            this._drawDataset(metasets[i]);\n        }\n        this.notifyPlugins('afterDatasetsDraw');\n    }\n _drawDataset(meta) {\n        const ctx = this.ctx;\n        const clip = meta._clip;\n        const useClip = !clip.disabled;\n        const area = getDatasetArea(meta, this.chartArea);\n        const args = {\n            meta,\n            index: meta.index,\n            cancelable: true\n        };\n        if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n            return;\n        }\n        if (useClip) {\n            clipArea(ctx, {\n                left: clip.left === false ? 0 : area.left - clip.left,\n                right: clip.right === false ? this.width : area.right + clip.right,\n                top: clip.top === false ? 0 : area.top - clip.top,\n                bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n            });\n        }\n        meta.controller.draw();\n        if (useClip) {\n            unclipArea(ctx);\n        }\n        args.cancelable = false;\n        this.notifyPlugins('afterDatasetDraw', args);\n    }\n isPointInArea(point) {\n        return _isPointInArea(point, this.chartArea, this._minPadding);\n    }\n    getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n        const method = Interaction.modes[mode];\n        if (typeof method === 'function') {\n            return method(this, e, options, useFinalPosition);\n        }\n        return [];\n    }\n    getDatasetMeta(datasetIndex) {\n        const dataset = this.data.datasets[datasetIndex];\n        const metasets = this._metasets;\n        let meta = metasets.filter((x)=>x && x._dataset === dataset).pop();\n        if (!meta) {\n            meta = {\n                type: null,\n                data: [],\n                dataset: null,\n                controller: null,\n                hidden: null,\n                xAxisID: null,\n                yAxisID: null,\n                order: dataset && dataset.order || 0,\n                index: datasetIndex,\n                _dataset: dataset,\n                _parsed: [],\n                _sorted: false\n            };\n            metasets.push(meta);\n        }\n        return meta;\n    }\n    getContext() {\n        return this.$context || (this.$context = createContext(null, {\n            chart: this,\n            type: 'chart'\n        }));\n    }\n    getVisibleDatasetCount() {\n        return this.getSortedVisibleDatasetMetas().length;\n    }\n    isDatasetVisible(datasetIndex) {\n        const dataset = this.data.datasets[datasetIndex];\n        if (!dataset) {\n            return false;\n        }\n        const meta = this.getDatasetMeta(datasetIndex);\n        return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n    }\n    setDatasetVisibility(datasetIndex, visible) {\n        const meta = this.getDatasetMeta(datasetIndex);\n        meta.hidden = !visible;\n    }\n    toggleDataVisibility(index) {\n        this._hiddenIndices[index] = !this._hiddenIndices[index];\n    }\n    getDataVisibility(index) {\n        return !this._hiddenIndices[index];\n    }\n _updateVisibility(datasetIndex, dataIndex, visible) {\n        const mode = visible ? 'show' : 'hide';\n        const meta = this.getDatasetMeta(datasetIndex);\n        const anims = meta.controller._resolveAnimations(undefined, mode);\n        if (defined(dataIndex)) {\n            meta.data[dataIndex].hidden = !visible;\n            this.update();\n        } else {\n            this.setDatasetVisibility(datasetIndex, visible);\n            anims.update(meta, {\n                visible\n            });\n            this.update((ctx)=>ctx.datasetIndex === datasetIndex ? mode : undefined);\n        }\n    }\n    hide(datasetIndex, dataIndex) {\n        this._updateVisibility(datasetIndex, dataIndex, false);\n    }\n    show(datasetIndex, dataIndex) {\n        this._updateVisibility(datasetIndex, dataIndex, true);\n    }\n _destroyDatasetMeta(datasetIndex) {\n        const meta = this._metasets[datasetIndex];\n        if (meta && meta.controller) {\n            meta.controller._destroy();\n        }\n        delete this._metasets[datasetIndex];\n    }\n    _stop() {\n        let i, ilen;\n        this.stop();\n        animator.remove(this);\n        for(i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this._destroyDatasetMeta(i);\n        }\n    }\n    destroy() {\n        this.notifyPlugins('beforeDestroy');\n        const { canvas , ctx  } = this;\n        this._stop();\n        this.config.clearCache();\n        if (canvas) {\n            this.unbindEvents();\n            clearCanvas(canvas, ctx);\n            this.platform.releaseContext(ctx);\n            this.canvas = null;\n            this.ctx = null;\n        }\n        delete instances[this.id];\n        this.notifyPlugins('afterDestroy');\n    }\n    toBase64Image(...args) {\n        return this.canvas.toDataURL(...args);\n    }\n bindEvents() {\n        this.bindUserEvents();\n        if (this.options.responsive) {\n            this.bindResponsiveEvents();\n        } else {\n            this.attached = true;\n        }\n    }\n bindUserEvents() {\n        const listeners = this._listeners;\n        const platform = this.platform;\n        const _add = (type, listener)=>{\n            platform.addEventListener(this, type, listener);\n            listeners[type] = listener;\n        };\n        const listener = (e, x, y)=>{\n            e.offsetX = x;\n            e.offsetY = y;\n            this._eventHandler(e);\n        };\n        each(this.options.events, (type)=>_add(type, listener));\n    }\n bindResponsiveEvents() {\n        if (!this._responsiveListeners) {\n            this._responsiveListeners = {};\n        }\n        const listeners = this._responsiveListeners;\n        const platform = this.platform;\n        const _add = (type, listener)=>{\n            platform.addEventListener(this, type, listener);\n            listeners[type] = listener;\n        };\n        const _remove = (type, listener)=>{\n            if (listeners[type]) {\n                platform.removeEventListener(this, type, listener);\n                delete listeners[type];\n            }\n        };\n        const listener = (width, height)=>{\n            if (this.canvas) {\n                this.resize(width, height);\n            }\n        };\n        let detached;\n        const attached = ()=>{\n            _remove('attach', attached);\n            this.attached = true;\n            this.resize();\n            _add('resize', listener);\n            _add('detach', detached);\n        };\n        detached = ()=>{\n            this.attached = false;\n            _remove('resize', listener);\n            this._stop();\n            this._resize(0, 0);\n            _add('attach', attached);\n        };\n        if (platform.isAttached(this.canvas)) {\n            attached();\n        } else {\n            detached();\n        }\n    }\n unbindEvents() {\n        each(this._listeners, (listener, type)=>{\n            this.platform.removeEventListener(this, type, listener);\n        });\n        this._listeners = {};\n        each(this._responsiveListeners, (listener, type)=>{\n            this.platform.removeEventListener(this, type, listener);\n        });\n        this._responsiveListeners = undefined;\n    }\n    updateHoverStyle(items, mode, enabled) {\n        const prefix = enabled ? 'set' : 'remove';\n        let meta, item, i, ilen;\n        if (mode === 'dataset') {\n            meta = this.getDatasetMeta(items[0].datasetIndex);\n            meta.controller['_' + prefix + 'DatasetHoverStyle']();\n        }\n        for(i = 0, ilen = items.length; i < ilen; ++i){\n            item = items[i];\n            const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n            if (controller) {\n                controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n            }\n        }\n    }\n getActiveElements() {\n        return this._active || [];\n    }\n setActiveElements(activeElements) {\n        const lastActive = this._active || [];\n        const active = activeElements.map(({ datasetIndex , index  })=>{\n            const meta = this.getDatasetMeta(datasetIndex);\n            if (!meta) {\n                throw new Error('No dataset found at index ' + datasetIndex);\n            }\n            return {\n                datasetIndex,\n                element: meta.data[index],\n                index\n            };\n        });\n        const changed = !_elementsEqual(active, lastActive);\n        if (changed) {\n            this._active = active;\n            this._lastEvent = null;\n            this._updateHoverStyles(active, lastActive);\n        }\n    }\n notifyPlugins(hook, args, filter) {\n        return this._plugins.notify(this, hook, args, filter);\n    }\n isPluginEnabled(pluginId) {\n        return this._plugins._cache.filter((p)=>p.plugin.id === pluginId).length === 1;\n    }\n _updateHoverStyles(active, lastActive, replay) {\n        const hoverOptions = this.options.hover;\n        const diff = (a, b)=>a.filter((x)=>!b.some((y)=>x.datasetIndex === y.datasetIndex && x.index === y.index));\n        const deactivated = diff(lastActive, active);\n        const activated = replay ? active : diff(active, lastActive);\n        if (deactivated.length) {\n            this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n        }\n        if (activated.length && hoverOptions.mode) {\n            this.updateHoverStyle(activated, hoverOptions.mode, true);\n        }\n    }\n _eventHandler(e, replay) {\n        const args = {\n            event: e,\n            replay,\n            cancelable: true,\n            inChartArea: this.isPointInArea(e)\n        };\n        const eventFilter = (plugin)=>(plugin.options.events || this.options.events).includes(e.native.type);\n        if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n            return;\n        }\n        const changed = this._handleEvent(e, replay, args.inChartArea);\n        args.cancelable = false;\n        this.notifyPlugins('afterEvent', args, eventFilter);\n        if (changed || args.changed) {\n            this.render();\n        }\n        return this;\n    }\n _handleEvent(e, replay, inChartArea) {\n        const { _active: lastActive = [] , options  } = this;\n        const useFinalPosition = replay;\n        const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n        const isClick = _isClickEvent(e);\n        const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n        if (inChartArea) {\n            this._lastEvent = null;\n            callback(options.onHover, [\n                e,\n                active,\n                this\n            ], this);\n            if (isClick) {\n                callback(options.onClick, [\n                    e,\n                    active,\n                    this\n                ], this);\n            }\n        }\n        const changed = !_elementsEqual(active, lastActive);\n        if (changed || replay) {\n            this._active = active;\n            this._updateHoverStyles(active, lastActive, replay);\n        }\n        this._lastEvent = lastEvent;\n        return changed;\n    }\n _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n        if (e.type === 'mouseout') {\n            return [];\n        }\n        if (!inChartArea) {\n            return lastActive;\n        }\n        const hoverOptions = this.options.hover;\n        return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n    }\n}\nfunction invalidatePlugins() {\n    return each(Chart.instances, (chart)=>chart._plugins.invalidate());\n}\n\nfunction clipArc(ctx, element, endAngle) {\n    const { startAngle , pixelMargin , x , y , outerRadius , innerRadius  } = element;\n    let angleMargin = pixelMargin / outerRadius;\n    // Draw an inner border by clipping the arc and drawing a double-width border\n    // Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\n    ctx.beginPath();\n    ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n    if (innerRadius > pixelMargin) {\n        angleMargin = pixelMargin / innerRadius;\n        ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n    } else {\n        ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n    }\n    ctx.closePath();\n    ctx.clip();\n}\nfunction toRadiusCorners(value) {\n    return _readValueToProps(value, [\n        'outerStart',\n        'outerEnd',\n        'innerStart',\n        'innerEnd'\n    ]);\n}\n/**\n * Parse border radius from the provided options\n */ function parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n    const o = toRadiusCorners(arc.options.borderRadius);\n    const halfThickness = (outerRadius - innerRadius) / 2;\n    const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n    // Outer limits are complicated. We want to compute the available angular distance at\n    // a radius of outerRadius - borderRadius because for small angular distances, this term limits.\n    // We compute at r = outerRadius - borderRadius because this circle defines the center of the border corners.\n    //\n    // If the borderRadius is large, that value can become negative.\n    // This causes the outer borders to lose their radius entirely, which is rather unexpected. To solve that, if borderRadius > outerRadius\n    // we know that the thickness term will dominate and compute the limits at that point\n    const computeOuterLimit = (val)=>{\n        const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n        return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n    };\n    return {\n        outerStart: computeOuterLimit(o.outerStart),\n        outerEnd: computeOuterLimit(o.outerEnd),\n        innerStart: _limitValue(o.innerStart, 0, innerLimit),\n        innerEnd: _limitValue(o.innerEnd, 0, innerLimit)\n    };\n}\n/**\n * Convert (r, 𝜃) to (x, y)\n */ function rThetaToXY(r, theta, x, y) {\n    return {\n        x: x + r * Math.cos(theta),\n        y: y + r * Math.sin(theta)\n    };\n}\n/**\n * Path the arc, respecting border radius by separating into left and right halves.\n *\n *   Start      End\n *\n *    1--->a--->2    Outer\n *   /           \\\n *   8           3\n *   |           |\n *   |           |\n *   7           4\n *   \\           /\n *    6<---b<---5    Inner\n */ function pathArc(ctx, element, offset, spacing, end, circular) {\n    const { x , y , startAngle: start , pixelMargin , innerRadius: innerR  } = element;\n    const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n    const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n    let spacingOffset = 0;\n    const alpha = end - start;\n    if (spacing) {\n        // When spacing is present, it is the same for all items\n        // So we adjust the start and end angle of the arc such that\n        // the distance is the same as it would be without the spacing\n        const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n        const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n        const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n        const adjustedAngle = avNogSpacingRadius !== 0 ? alpha * avNogSpacingRadius / (avNogSpacingRadius + spacing) : alpha;\n        spacingOffset = (alpha - adjustedAngle) / 2;\n    }\n    const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n    const angleOffset = (alpha - beta) / 2;\n    const startAngle = start + angleOffset + spacingOffset;\n    const endAngle = end - angleOffset - spacingOffset;\n    const { outerStart , outerEnd , innerStart , innerEnd  } = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n    const outerStartAdjustedRadius = outerRadius - outerStart;\n    const outerEndAdjustedRadius = outerRadius - outerEnd;\n    const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n    const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n    const innerStartAdjustedRadius = innerRadius + innerStart;\n    const innerEndAdjustedRadius = innerRadius + innerEnd;\n    const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n    const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n    ctx.beginPath();\n    if (circular) {\n        // The first arc segments from point 1 to point a to point 2\n        const outerMidAdjustedAngle = (outerStartAdjustedAngle + outerEndAdjustedAngle) / 2;\n        ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerMidAdjustedAngle);\n        ctx.arc(x, y, outerRadius, outerMidAdjustedAngle, outerEndAdjustedAngle);\n        // The corner segment from point 2 to point 3\n        if (outerEnd > 0) {\n            const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n        }\n        // The line from point 3 to point 4\n        const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n        ctx.lineTo(p4.x, p4.y);\n        // The corner segment from point 4 to point 5\n        if (innerEnd > 0) {\n            const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n        }\n        // The inner arc from point 5 to point b to point 6\n        const innerMidAdjustedAngle = (endAngle - innerEnd / innerRadius + (startAngle + innerStart / innerRadius)) / 2;\n        ctx.arc(x, y, innerRadius, endAngle - innerEnd / innerRadius, innerMidAdjustedAngle, true);\n        ctx.arc(x, y, innerRadius, innerMidAdjustedAngle, startAngle + innerStart / innerRadius, true);\n        // The corner segment from point 6 to point 7\n        if (innerStart > 0) {\n            const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n        }\n        // The line from point 7 to point 8\n        const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n        ctx.lineTo(p8.x, p8.y);\n        // The corner segment from point 8 to point 1\n        if (outerStart > 0) {\n            const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n        }\n    } else {\n        ctx.moveTo(x, y);\n        const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;\n        const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;\n        ctx.lineTo(outerStartX, outerStartY);\n        const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;\n        const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;\n        ctx.lineTo(outerEndX, outerEndY);\n    }\n    ctx.closePath();\n}\nfunction drawArc(ctx, element, offset, spacing, circular) {\n    const { fullCircles , startAngle , circumference  } = element;\n    let endAngle = element.endAngle;\n    if (fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        for(let i = 0; i < fullCircles; ++i){\n            ctx.fill();\n        }\n        if (!isNaN(circumference)) {\n            endAngle = startAngle + (circumference % TAU || TAU);\n        }\n    }\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    ctx.fill();\n    return endAngle;\n}\nfunction drawBorder(ctx, element, offset, spacing, circular) {\n    const { fullCircles , startAngle , circumference , options  } = element;\n    const { borderWidth , borderJoinStyle , borderDash , borderDashOffset  } = options;\n    const inner = options.borderAlign === 'inner';\n    if (!borderWidth) {\n        return;\n    }\n    ctx.setLineDash(borderDash || []);\n    ctx.lineDashOffset = borderDashOffset;\n    if (inner) {\n        ctx.lineWidth = borderWidth * 2;\n        ctx.lineJoin = borderJoinStyle || 'round';\n    } else {\n        ctx.lineWidth = borderWidth;\n        ctx.lineJoin = borderJoinStyle || 'bevel';\n    }\n    let endAngle = element.endAngle;\n    if (fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        for(let i = 0; i < fullCircles; ++i){\n            ctx.stroke();\n        }\n        if (!isNaN(circumference)) {\n            endAngle = startAngle + (circumference % TAU || TAU);\n        }\n    }\n    if (inner) {\n        clipArc(ctx, element, endAngle);\n    }\n    if (!fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        ctx.stroke();\n    }\n}\nclass ArcElement extends Element {\n    static id = 'arc';\n    static defaults = {\n        borderAlign: 'center',\n        borderColor: '#fff',\n        borderDash: [],\n        borderDashOffset: 0,\n        borderJoinStyle: undefined,\n        borderRadius: 0,\n        borderWidth: 2,\n        offset: 0,\n        spacing: 0,\n        angle: undefined,\n        circular: true\n    };\n    static defaultRoutes = {\n        backgroundColor: 'backgroundColor'\n    };\n    static descriptors = {\n        _scriptable: true,\n        _indexable: (name)=>name !== 'borderDash'\n    };\n    circumference;\n    endAngle;\n    fullCircles;\n    innerRadius;\n    outerRadius;\n    pixelMargin;\n    startAngle;\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.circumference = undefined;\n        this.startAngle = undefined;\n        this.endAngle = undefined;\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n        this.pixelMargin = 0;\n        this.fullCircles = 0;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    inRange(chartX, chartY, useFinalPosition) {\n        const point = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        const { angle , distance  } = getAngleFromPoint(point, {\n            x: chartX,\n            y: chartY\n        });\n        const { startAngle , endAngle , innerRadius , outerRadius , circumference  } = this.getProps([\n            'startAngle',\n            'endAngle',\n            'innerRadius',\n            'outerRadius',\n            'circumference'\n        ], useFinalPosition);\n        const rAdjust = (this.options.spacing + this.options.borderWidth) / 2;\n        const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n        const betweenAngles = _circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n        const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n        return betweenAngles && withinRadius;\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y , startAngle , endAngle , innerRadius , outerRadius  } = this.getProps([\n            'x',\n            'y',\n            'startAngle',\n            'endAngle',\n            'innerRadius',\n            'outerRadius'\n        ], useFinalPosition);\n        const { offset , spacing  } = this.options;\n        const halfAngle = (startAngle + endAngle) / 2;\n        const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n        return {\n            x: x + Math.cos(halfAngle) * halfRadius,\n            y: y + Math.sin(halfAngle) * halfRadius\n        };\n    }\n    tooltipPosition(useFinalPosition) {\n        return this.getCenterPoint(useFinalPosition);\n    }\n    draw(ctx) {\n        const { options , circumference  } = this;\n        const offset = (options.offset || 0) / 4;\n        const spacing = (options.spacing || 0) / 2;\n        const circular = options.circular;\n        this.pixelMargin = options.borderAlign === 'inner' ? 0.33 : 0;\n        this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n        if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n            return;\n        }\n        ctx.save();\n        const halfAngle = (this.startAngle + this.endAngle) / 2;\n        ctx.translate(Math.cos(halfAngle) * offset, Math.sin(halfAngle) * offset);\n        const fix = 1 - Math.sin(Math.min(PI, circumference || 0));\n        const radiusOffset = offset * fix;\n        ctx.fillStyle = options.backgroundColor;\n        ctx.strokeStyle = options.borderColor;\n        drawArc(ctx, this, radiusOffset, spacing, circular);\n        drawBorder(ctx, this, radiusOffset, spacing, circular);\n        ctx.restore();\n    }\n}\n\nfunction setStyle(ctx, options, style = options) {\n    ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n    ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n    ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n    ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n    ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n    ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n    ctx.lineTo(target.x, target.y);\n}\n function getLineMethod(options) {\n    if (options.stepped) {\n        return _steppedLineTo;\n    }\n    if (options.tension || options.cubicInterpolationMode === 'monotone') {\n        return _bezierCurveTo;\n    }\n    return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n    const count = points.length;\n    const { start: paramsStart = 0 , end: paramsEnd = count - 1  } = params;\n    const { start: segmentStart , end: segmentEnd  } = segment;\n    const start = Math.max(paramsStart, segmentStart);\n    const end = Math.min(paramsEnd, segmentEnd);\n    const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n    return {\n        count,\n        start,\n        loop: segment.loop,\n        ilen: end < start && !outside ? count + end - start : end - start\n    };\n}\n function pathSegment(ctx, line, segment, params) {\n    const { points , options  } = line;\n    const { count , start , loop , ilen  } = pathVars(points, segment, params);\n    const lineMethod = getLineMethod(options);\n    let { move =true , reverse  } = params || {};\n    let i, point, prev;\n    for(i = 0; i <= ilen; ++i){\n        point = points[(start + (reverse ? ilen - i : i)) % count];\n        if (point.skip) {\n            continue;\n        } else if (move) {\n            ctx.moveTo(point.x, point.y);\n            move = false;\n        } else {\n            lineMethod(ctx, prev, point, reverse, options.stepped);\n        }\n        prev = point;\n    }\n    if (loop) {\n        point = points[(start + (reverse ? ilen : 0)) % count];\n        lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    return !!loop;\n}\n function fastPathSegment(ctx, line, segment, params) {\n    const points = line.points;\n    const { count , start , ilen  } = pathVars(points, segment, params);\n    const { move =true , reverse  } = params || {};\n    let avgX = 0;\n    let countX = 0;\n    let i, point, prevX, minY, maxY, lastY;\n    const pointIndex = (index)=>(start + (reverse ? ilen - index : index)) % count;\n    const drawX = ()=>{\n        if (minY !== maxY) {\n            ctx.lineTo(avgX, maxY);\n            ctx.lineTo(avgX, minY);\n            ctx.lineTo(avgX, lastY);\n        }\n    };\n    if (move) {\n        point = points[pointIndex(0)];\n        ctx.moveTo(point.x, point.y);\n    }\n    for(i = 0; i <= ilen; ++i){\n        point = points[pointIndex(i)];\n        if (point.skip) {\n            continue;\n        }\n        const x = point.x;\n        const y = point.y;\n        const truncX = x | 0;\n        if (truncX === prevX) {\n            if (y < minY) {\n                minY = y;\n            } else if (y > maxY) {\n                maxY = y;\n            }\n            avgX = (countX * avgX + x) / ++countX;\n        } else {\n            drawX();\n            ctx.lineTo(x, y);\n            prevX = truncX;\n            countX = 0;\n            minY = maxY = y;\n        }\n        lastY = y;\n    }\n    drawX();\n}\n function _getSegmentMethod(line) {\n    const opts = line.options;\n    const borderDash = opts.borderDash && opts.borderDash.length;\n    const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n    return useFastPath ? fastPathSegment : pathSegment;\n}\n function _getInterpolationMethod(options) {\n    if (options.stepped) {\n        return _steppedInterpolation;\n    }\n    if (options.tension || options.cubicInterpolationMode === 'monotone') {\n        return _bezierInterpolation;\n    }\n    return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n    let path = line._path;\n    if (!path) {\n        path = line._path = new Path2D();\n        if (line.path(path, start, count)) {\n            path.closePath();\n        }\n    }\n    setStyle(ctx, line.options);\n    ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n    const { segments , options  } = line;\n    const segmentMethod = _getSegmentMethod(line);\n    for (const segment of segments){\n        setStyle(ctx, options, segment.style);\n        ctx.beginPath();\n        if (segmentMethod(ctx, line, segment, {\n            start,\n            end: start + count - 1\n        })) {\n            ctx.closePath();\n        }\n        ctx.stroke();\n    }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n    if (usePath2D && !line.options.segment) {\n        strokePathWithCache(ctx, line, start, count);\n    } else {\n        strokePathDirect(ctx, line, start, count);\n    }\n}\nclass LineElement extends Element {\n    static id = 'line';\n static defaults = {\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0,\n        borderJoinStyle: 'miter',\n        borderWidth: 3,\n        capBezierPoints: true,\n        cubicInterpolationMode: 'default',\n        fill: false,\n        spanGaps: false,\n        stepped: false,\n        tension: 0\n    };\n static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    static descriptors = {\n        _scriptable: true,\n        _indexable: (name)=>name !== 'borderDash' && name !== 'fill'\n    };\n    constructor(cfg){\n        super();\n        this.animated = true;\n        this.options = undefined;\n        this._chart = undefined;\n        this._loop = undefined;\n        this._fullLoop = undefined;\n        this._path = undefined;\n        this._points = undefined;\n        this._segments = undefined;\n        this._decimated = false;\n        this._pointsUpdated = false;\n        this._datasetIndex = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    updateControlPoints(chartArea, indexAxis) {\n        const options = this.options;\n        if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n            const loop = options.spanGaps ? this._loop : this._fullLoop;\n            _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n            this._pointsUpdated = true;\n        }\n    }\n    set points(points) {\n        this._points = points;\n        delete this._segments;\n        delete this._path;\n        this._pointsUpdated = false;\n    }\n    get points() {\n        return this._points;\n    }\n    get segments() {\n        return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n    }\n first() {\n        const segments = this.segments;\n        const points = this.points;\n        return segments.length && points[segments[0].start];\n    }\n last() {\n        const segments = this.segments;\n        const points = this.points;\n        const count = segments.length;\n        return count && points[segments[count - 1].end];\n    }\n interpolate(point, property) {\n        const options = this.options;\n        const value = point[property];\n        const points = this.points;\n        const segments = _boundSegments(this, {\n            property,\n            start: value,\n            end: value\n        });\n        if (!segments.length) {\n            return;\n        }\n        const result = [];\n        const _interpolate = _getInterpolationMethod(options);\n        let i, ilen;\n        for(i = 0, ilen = segments.length; i < ilen; ++i){\n            const { start , end  } = segments[i];\n            const p1 = points[start];\n            const p2 = points[end];\n            if (p1 === p2) {\n                result.push(p1);\n                continue;\n            }\n            const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n            const interpolated = _interpolate(p1, p2, t, options.stepped);\n            interpolated[property] = point[property];\n            result.push(interpolated);\n        }\n        return result.length === 1 ? result[0] : result;\n    }\n pathSegment(ctx, segment, params) {\n        const segmentMethod = _getSegmentMethod(this);\n        return segmentMethod(ctx, this, segment, params);\n    }\n path(ctx, start, count) {\n        const segments = this.segments;\n        const segmentMethod = _getSegmentMethod(this);\n        let loop = this._loop;\n        start = start || 0;\n        count = count || this.points.length - start;\n        for (const segment of segments){\n            loop &= segmentMethod(ctx, this, segment, {\n                start,\n                end: start + count - 1\n            });\n        }\n        return !!loop;\n    }\n draw(ctx, chartArea, start, count) {\n        const options = this.options || {};\n        const points = this.points || [];\n        if (points.length && options.borderWidth) {\n            ctx.save();\n            draw(ctx, this, start, count);\n            ctx.restore();\n        }\n        if (this.animated) {\n            this._pointsUpdated = false;\n            this._path = undefined;\n        }\n    }\n}\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n    const options = el.options;\n    const { [axis]: value  } = el.getProps([\n        axis\n    ], useFinalPosition);\n    return Math.abs(pos - value) < options.radius + options.hitRadius;\n}\nclass PointElement extends Element {\n    static id = 'point';\n    parsed;\n    skip;\n    stop;\n    /**\n   * @type {any}\n   */ static defaults = {\n        borderWidth: 1,\n        hitRadius: 1,\n        hoverBorderWidth: 1,\n        hoverRadius: 4,\n        pointStyle: 'circle',\n        radius: 3,\n        rotation: 0\n    };\n    /**\n   * @type {any}\n   */ static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.parsed = undefined;\n        this.skip = undefined;\n        this.stop = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    inRange(mouseX, mouseY, useFinalPosition) {\n        const options = this.options;\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2) < Math.pow(options.hitRadius + options.radius, 2);\n    }\n    inXRange(mouseX, useFinalPosition) {\n        return inRange$1(this, mouseX, 'x', useFinalPosition);\n    }\n    inYRange(mouseY, useFinalPosition) {\n        return inRange$1(this, mouseY, 'y', useFinalPosition);\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return {\n            x,\n            y\n        };\n    }\n    size(options) {\n        options = options || this.options || {};\n        let radius = options.radius || 0;\n        radius = Math.max(radius, radius && options.hoverRadius || 0);\n        const borderWidth = radius && options.borderWidth || 0;\n        return (radius + borderWidth) * 2;\n    }\n    draw(ctx, area) {\n        const options = this.options;\n        if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n            return;\n        }\n        ctx.strokeStyle = options.borderColor;\n        ctx.lineWidth = options.borderWidth;\n        ctx.fillStyle = options.backgroundColor;\n        drawPoint(ctx, options, this.x, this.y);\n    }\n    getRange() {\n        const options = this.options || {};\n        // @ts-expect-error Fallbacks should never be hit in practice\n        return options.radius + options.hitRadius;\n    }\n}\n\nfunction getBarBounds(bar, useFinalPosition) {\n    const { x , y , base , width , height  } =  bar.getProps([\n        'x',\n        'y',\n        'base',\n        'width',\n        'height'\n    ], useFinalPosition);\n    let left, right, top, bottom, half;\n    if (bar.horizontal) {\n        half = height / 2;\n        left = Math.min(x, base);\n        right = Math.max(x, base);\n        top = y - half;\n        bottom = y + half;\n    } else {\n        half = width / 2;\n        left = x - half;\n        right = x + half;\n        top = Math.min(y, base);\n        bottom = Math.max(y, base);\n    }\n    return {\n        left,\n        top,\n        right,\n        bottom\n    };\n}\nfunction skipOrLimit(skip, value, min, max) {\n    return skip ? 0 : _limitValue(value, min, max);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n    const value = bar.options.borderWidth;\n    const skip = bar.borderSkipped;\n    const o = toTRBL(value);\n    return {\n        t: skipOrLimit(skip.top, o.top, 0, maxH),\n        r: skipOrLimit(skip.right, o.right, 0, maxW),\n        b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n        l: skipOrLimit(skip.left, o.left, 0, maxW)\n    };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n    const { enableBorderRadius  } = bar.getProps([\n        'enableBorderRadius'\n    ]);\n    const value = bar.options.borderRadius;\n    const o = toTRBLCorners(value);\n    const maxR = Math.min(maxW, maxH);\n    const skip = bar.borderSkipped;\n    const enableBorder = enableBorderRadius || isObject(value);\n    return {\n        topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n        topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n        bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n        bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n    };\n}\nfunction boundingRects(bar) {\n    const bounds = getBarBounds(bar);\n    const width = bounds.right - bounds.left;\n    const height = bounds.bottom - bounds.top;\n    const border = parseBorderWidth(bar, width / 2, height / 2);\n    const radius = parseBorderRadius(bar, width / 2, height / 2);\n    return {\n        outer: {\n            x: bounds.left,\n            y: bounds.top,\n            w: width,\n            h: height,\n            radius\n        },\n        inner: {\n            x: bounds.left + border.l,\n            y: bounds.top + border.t,\n            w: width - border.l - border.r,\n            h: height - border.t - border.b,\n            radius: {\n                topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n                topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n                bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n                bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r))\n            }\n        }\n    };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n    const skipX = x === null;\n    const skipY = y === null;\n    const skipBoth = skipX && skipY;\n    const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n    return bounds && (skipX || _isBetween(x, bounds.left, bounds.right)) && (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\nfunction hasRadius(radius) {\n    return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n function addNormalRectPath(ctx, rect) {\n    ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nfunction inflateRect(rect, amount, refRect = {}) {\n    const x = rect.x !== refRect.x ? -amount : 0;\n    const y = rect.y !== refRect.y ? -amount : 0;\n    const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n    const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n    return {\n        x: rect.x + x,\n        y: rect.y + y,\n        w: rect.w + w,\n        h: rect.h + h,\n        radius: rect.radius\n    };\n}\nclass BarElement extends Element {\n    static id = 'bar';\n static defaults = {\n        borderSkipped: 'start',\n        borderWidth: 0,\n        borderRadius: 0,\n        inflateAmount: 'auto',\n        pointStyle: undefined\n    };\n static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.horizontal = undefined;\n        this.base = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.inflateAmount = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    draw(ctx) {\n        const { inflateAmount , options: { borderColor , backgroundColor  }  } = this;\n        const { inner , outer  } = boundingRects(this);\n        const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n        ctx.save();\n        if (outer.w !== inner.w || outer.h !== inner.h) {\n            ctx.beginPath();\n            addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n            ctx.clip();\n            addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n            ctx.fillStyle = borderColor;\n            ctx.fill('evenodd');\n        }\n        ctx.beginPath();\n        addRectPath(ctx, inflateRect(inner, inflateAmount));\n        ctx.fillStyle = backgroundColor;\n        ctx.fill();\n        ctx.restore();\n    }\n    inRange(mouseX, mouseY, useFinalPosition) {\n        return inRange(this, mouseX, mouseY, useFinalPosition);\n    }\n    inXRange(mouseX, useFinalPosition) {\n        return inRange(this, mouseX, null, useFinalPosition);\n    }\n    inYRange(mouseY, useFinalPosition) {\n        return inRange(this, null, mouseY, useFinalPosition);\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y , base , horizontal  } =  this.getProps([\n            'x',\n            'y',\n            'base',\n            'horizontal'\n        ], useFinalPosition);\n        return {\n            x: horizontal ? (x + base) / 2 : x,\n            y: horizontal ? y : (y + base) / 2\n        };\n    }\n    getRange(axis) {\n        return axis === 'x' ? this.width / 2 : this.height / 2;\n    }\n}\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nBarElement: BarElement,\nLineElement: LineElement,\nPointElement: PointElement\n});\n\nconst BORDER_COLORS = [\n    'rgb(54, 162, 235)',\n    'rgb(255, 99, 132)',\n    'rgb(255, 159, 64)',\n    'rgb(255, 205, 86)',\n    'rgb(75, 192, 192)',\n    'rgb(153, 102, 255)',\n    'rgb(201, 203, 207)' // grey\n];\n// Border colors with 50% transparency\nconst BACKGROUND_COLORS = /* #__PURE__ */ BORDER_COLORS.map((color)=>color.replace('rgb(', 'rgba(').replace(')', ', 0.5)'));\nfunction getBorderColor(i) {\n    return BORDER_COLORS[i % BORDER_COLORS.length];\n}\nfunction getBackgroundColor(i) {\n    return BACKGROUND_COLORS[i % BACKGROUND_COLORS.length];\n}\nfunction colorizeDefaultDataset(dataset, i) {\n    dataset.borderColor = getBorderColor(i);\n    dataset.backgroundColor = getBackgroundColor(i);\n    return ++i;\n}\nfunction colorizeDoughnutDataset(dataset, i) {\n    dataset.backgroundColor = dataset.data.map(()=>getBorderColor(i++));\n    return i;\n}\nfunction colorizePolarAreaDataset(dataset, i) {\n    dataset.backgroundColor = dataset.data.map(()=>getBackgroundColor(i++));\n    return i;\n}\nfunction getColorizer(chart) {\n    let i = 0;\n    return (dataset, datasetIndex)=>{\n        const controller = chart.getDatasetMeta(datasetIndex).controller;\n        if (controller instanceof DoughnutController) {\n            i = colorizeDoughnutDataset(dataset, i);\n        } else if (controller instanceof PolarAreaController) {\n            i = colorizePolarAreaDataset(dataset, i);\n        } else if (controller) {\n            i = colorizeDefaultDataset(dataset, i);\n        }\n    };\n}\nfunction containsColorsDefinitions(descriptors) {\n    let k;\n    for(k in descriptors){\n        if (descriptors[k].borderColor || descriptors[k].backgroundColor) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction containsColorsDefinition(descriptor) {\n    return descriptor && (descriptor.borderColor || descriptor.backgroundColor);\n}\nvar plugin_colors = {\n    id: 'colors',\n    defaults: {\n        enabled: true,\n        forceOverride: false\n    },\n    beforeLayout (chart, _args, options) {\n        if (!options.enabled) {\n            return;\n        }\n        const { data: { datasets  } , options: chartOptions  } = chart.config;\n        const { elements  } = chartOptions;\n        if (!options.forceOverride && (containsColorsDefinitions(datasets) || containsColorsDefinition(chartOptions) || elements && containsColorsDefinitions(elements))) {\n            return;\n        }\n        const colorizer = getColorizer(chart);\n        datasets.forEach(colorizer);\n    }\n};\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n const samples = options.samples || availableWidth;\n    if (samples >= count) {\n        return data.slice(start, start + count);\n    }\n    const decimated = [];\n    const bucketWidth = (count - 2) / (samples - 2);\n    let sampledIndex = 0;\n    const endIndex = start + count - 1;\n    let a = start;\n    let i, maxAreaPoint, maxArea, area, nextA;\n    decimated[sampledIndex++] = data[a];\n    for(i = 0; i < samples - 2; i++){\n        let avgX = 0;\n        let avgY = 0;\n        let j;\n        const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n        const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n        const avgRangeLength = avgRangeEnd - avgRangeStart;\n        for(j = avgRangeStart; j < avgRangeEnd; j++){\n            avgX += data[j].x;\n            avgY += data[j].y;\n        }\n        avgX /= avgRangeLength;\n        avgY /= avgRangeLength;\n        const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n        const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n        const { x: pointAx , y: pointAy  } = data[a];\n        maxArea = area = -1;\n        for(j = rangeOffs; j < rangeTo; j++){\n            area = 0.5 * Math.abs((pointAx - avgX) * (data[j].y - pointAy) - (pointAx - data[j].x) * (avgY - pointAy));\n            if (area > maxArea) {\n                maxArea = area;\n                maxAreaPoint = data[j];\n                nextA = j;\n            }\n        }\n        decimated[sampledIndex++] = maxAreaPoint;\n        a = nextA;\n    }\n    decimated[sampledIndex++] = data[endIndex];\n    return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n    let avgX = 0;\n    let countX = 0;\n    let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n    const decimated = [];\n    const endIndex = start + count - 1;\n    const xMin = data[start].x;\n    const xMax = data[endIndex].x;\n    const dx = xMax - xMin;\n    for(i = start; i < start + count; ++i){\n        point = data[i];\n        x = (point.x - xMin) / dx * availableWidth;\n        y = point.y;\n        const truncX = x | 0;\n        if (truncX === prevX) {\n            if (y < minY) {\n                minY = y;\n                minIndex = i;\n            } else if (y > maxY) {\n                maxY = y;\n                maxIndex = i;\n            }\n            avgX = (countX * avgX + point.x) / ++countX;\n        } else {\n            const lastIndex = i - 1;\n            if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n                const intermediateIndex1 = Math.min(minIndex, maxIndex);\n                const intermediateIndex2 = Math.max(minIndex, maxIndex);\n                if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n                    decimated.push({\n                        ...data[intermediateIndex1],\n                        x: avgX\n                    });\n                }\n                if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n                    decimated.push({\n                        ...data[intermediateIndex2],\n                        x: avgX\n                    });\n                }\n            }\n            if (i > 0 && lastIndex !== startIndex) {\n                decimated.push(data[lastIndex]);\n            }\n            decimated.push(point);\n            prevX = truncX;\n            countX = 0;\n            minY = maxY = y;\n            minIndex = maxIndex = startIndex = i;\n        }\n    }\n    return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n    if (dataset._decimated) {\n        const data = dataset._data;\n        delete dataset._decimated;\n        delete dataset._data;\n        Object.defineProperty(dataset, 'data', {\n            configurable: true,\n            enumerable: true,\n            writable: true,\n            value: data\n        });\n    }\n}\nfunction cleanDecimatedData(chart) {\n    chart.data.datasets.forEach((dataset)=>{\n        cleanDecimatedDataset(dataset);\n    });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n    const pointCount = points.length;\n    let start = 0;\n    let count;\n    const { iScale  } = meta;\n    const { min , max , minDefined , maxDefined  } = iScale.getUserBounds();\n    if (minDefined) {\n        start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n    }\n    if (maxDefined) {\n        count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n    } else {\n        count = pointCount - start;\n    }\n    return {\n        start,\n        count\n    };\n}\nvar plugin_decimation = {\n    id: 'decimation',\n    defaults: {\n        algorithm: 'min-max',\n        enabled: false\n    },\n    beforeElementsUpdate: (chart, args, options)=>{\n        if (!options.enabled) {\n            cleanDecimatedData(chart);\n            return;\n        }\n        const availableWidth = chart.width;\n        chart.data.datasets.forEach((dataset, datasetIndex)=>{\n            const { _data , indexAxis  } = dataset;\n            const meta = chart.getDatasetMeta(datasetIndex);\n            const data = _data || dataset.data;\n            if (resolve([\n                indexAxis,\n                chart.options.indexAxis\n            ]) === 'y') {\n                return;\n            }\n            if (!meta.controller.supportsDecimation) {\n                return;\n            }\n            const xAxis = chart.scales[meta.xAxisID];\n            if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n                return;\n            }\n            if (chart.options.parsing) {\n                return;\n            }\n            let { start , count  } = getStartAndCountOfVisiblePointsSimplified(meta, data);\n            const threshold = options.threshold || 4 * availableWidth;\n            if (count <= threshold) {\n                cleanDecimatedDataset(dataset);\n                return;\n            }\n            if (isNullOrUndef(_data)) {\n                dataset._data = data;\n                delete dataset.data;\n                Object.defineProperty(dataset, 'data', {\n                    configurable: true,\n                    enumerable: true,\n                    get: function() {\n                        return this._decimated;\n                    },\n                    set: function(d) {\n                        this._data = d;\n                    }\n                });\n            }\n            let decimated;\n            switch(options.algorithm){\n                case 'lttb':\n                    decimated = lttbDecimation(data, start, count, availableWidth, options);\n                    break;\n                case 'min-max':\n                    decimated = minMaxDecimation(data, start, count, availableWidth);\n                    break;\n                default:\n                    throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n            }\n            dataset._decimated = decimated;\n        });\n    },\n    destroy (chart) {\n        cleanDecimatedData(chart);\n    }\n};\n\nfunction _segments(line, target, property) {\n    const segments = line.segments;\n    const points = line.points;\n    const tpoints = target.points;\n    const parts = [];\n    for (const segment of segments){\n        let { start , end  } = segment;\n        end = _findSegmentEnd(start, end, points);\n        const bounds = _getBounds(property, points[start], points[end], segment.loop);\n        if (!target.segments) {\n            parts.push({\n                source: segment,\n                target: bounds,\n                start: points[start],\n                end: points[end]\n            });\n            continue;\n        }\n        const targetSegments = _boundSegments(target, bounds);\n        for (const tgt of targetSegments){\n            const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n            const fillSources = _boundSegment(segment, points, subBounds);\n            for (const fillSource of fillSources){\n                parts.push({\n                    source: fillSource,\n                    target: tgt,\n                    start: {\n                        [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n                    },\n                    end: {\n                        [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n                    }\n                });\n            }\n        }\n    }\n    return parts;\n}\nfunction _getBounds(property, first, last, loop) {\n    if (loop) {\n        return;\n    }\n    let start = first[property];\n    let end = last[property];\n    if (property === 'angle') {\n        start = _normalizeAngle(start);\n        end = _normalizeAngle(end);\n    }\n    return {\n        property,\n        start,\n        end\n    };\n}\nfunction _pointsFromSegments(boundary, line) {\n    const { x =null , y =null  } = boundary || {};\n    const linePoints = line.points;\n    const points = [];\n    line.segments.forEach(({ start , end  })=>{\n        end = _findSegmentEnd(start, end, linePoints);\n        const first = linePoints[start];\n        const last = linePoints[end];\n        if (y !== null) {\n            points.push({\n                x: first.x,\n                y\n            });\n            points.push({\n                x: last.x,\n                y\n            });\n        } else if (x !== null) {\n            points.push({\n                x,\n                y: first.y\n            });\n            points.push({\n                x,\n                y: last.y\n            });\n        }\n    });\n    return points;\n}\nfunction _findSegmentEnd(start, end, points) {\n    for(; end > start; end--){\n        const point = points[end];\n        if (!isNaN(point.x) && !isNaN(point.y)) {\n            break;\n        }\n    }\n    return end;\n}\nfunction _getEdge(a, b, prop, fn) {\n    if (a && b) {\n        return fn(a[prop], b[prop]);\n    }\n    return a ? a[prop] : b ? b[prop] : 0;\n}\n\nfunction _createBoundaryLine(boundary, line) {\n    let points = [];\n    let _loop = false;\n    if (isArray(boundary)) {\n        _loop = true;\n        points = boundary;\n    } else {\n        points = _pointsFromSegments(boundary, line);\n    }\n    return points.length ? new LineElement({\n        points,\n        options: {\n            tension: 0\n        },\n        _loop,\n        _fullLoop: _loop\n    }) : null;\n}\nfunction _shouldApplyFill(source) {\n    return source && source.fill !== false;\n}\n\nfunction _resolveTarget(sources, index, propagate) {\n    const source = sources[index];\n    let fill = source.fill;\n    const visited = [\n        index\n    ];\n    let target;\n    if (!propagate) {\n        return fill;\n    }\n    while(fill !== false && visited.indexOf(fill) === -1){\n        if (!isNumberFinite(fill)) {\n            return fill;\n        }\n        target = sources[fill];\n        if (!target) {\n            return false;\n        }\n        if (target.visible) {\n            return fill;\n        }\n        visited.push(fill);\n        fill = target.fill;\n    }\n    return false;\n}\n function _decodeFill(line, index, count) {\n     const fill = parseFillOption(line);\n    if (isObject(fill)) {\n        return isNaN(fill.value) ? false : fill;\n    }\n    let target = parseFloat(fill);\n    if (isNumberFinite(target) && Math.floor(target) === target) {\n        return decodeTargetIndex(fill[0], index, target, count);\n    }\n    return [\n        'origin',\n        'start',\n        'end',\n        'stack',\n        'shape'\n    ].indexOf(fill) >= 0 && fill;\n}\nfunction decodeTargetIndex(firstCh, index, target, count) {\n    if (firstCh === '-' || firstCh === '+') {\n        target = index + target;\n    }\n    if (target === index || target < 0 || target >= count) {\n        return false;\n    }\n    return target;\n}\n function _getTargetPixel(fill, scale) {\n    let pixel = null;\n    if (fill === 'start') {\n        pixel = scale.bottom;\n    } else if (fill === 'end') {\n        pixel = scale.top;\n    } else if (isObject(fill)) {\n        pixel = scale.getPixelForValue(fill.value);\n    } else if (scale.getBasePixel) {\n        pixel = scale.getBasePixel();\n    }\n    return pixel;\n}\n function _getTargetValue(fill, scale, startValue) {\n    let value;\n    if (fill === 'start') {\n        value = startValue;\n    } else if (fill === 'end') {\n        value = scale.options.reverse ? scale.min : scale.max;\n    } else if (isObject(fill)) {\n        value = fill.value;\n    } else {\n        value = scale.getBaseValue();\n    }\n    return value;\n}\n function parseFillOption(line) {\n    const options = line.options;\n    const fillOption = options.fill;\n    let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n    if (fill === undefined) {\n        fill = !!options.backgroundColor;\n    }\n    if (fill === false || fill === null) {\n        return false;\n    }\n    if (fill === true) {\n        return 'origin';\n    }\n    return fill;\n}\n\nfunction _buildStackLine(source) {\n    const { scale , index , line  } = source;\n    const points = [];\n    const segments = line.segments;\n    const sourcePoints = line.points;\n    const linesBelow = getLinesBelow(scale, index);\n    linesBelow.push(_createBoundaryLine({\n        x: null,\n        y: scale.bottom\n    }, line));\n    for(let i = 0; i < segments.length; i++){\n        const segment = segments[i];\n        for(let j = segment.start; j <= segment.end; j++){\n            addPointsBelow(points, sourcePoints[j], linesBelow);\n        }\n    }\n    return new LineElement({\n        points,\n        options: {}\n    });\n}\n function getLinesBelow(scale, index) {\n    const below = [];\n    const metas = scale.getMatchingVisibleMetas('line');\n    for(let i = 0; i < metas.length; i++){\n        const meta = metas[i];\n        if (meta.index === index) {\n            break;\n        }\n        if (!meta.hidden) {\n            below.unshift(meta.dataset);\n        }\n    }\n    return below;\n}\n function addPointsBelow(points, sourcePoint, linesBelow) {\n    const postponed = [];\n    for(let j = 0; j < linesBelow.length; j++){\n        const line = linesBelow[j];\n        const { first , last , point  } = findPoint(line, sourcePoint, 'x');\n        if (!point || first && last) {\n            continue;\n        }\n        if (first) {\n            postponed.unshift(point);\n        } else {\n            points.push(point);\n            if (!last) {\n                break;\n            }\n        }\n    }\n    points.push(...postponed);\n}\n function findPoint(line, sourcePoint, property) {\n    const point = line.interpolate(sourcePoint, property);\n    if (!point) {\n        return {};\n    }\n    const pointValue = point[property];\n    const segments = line.segments;\n    const linePoints = line.points;\n    let first = false;\n    let last = false;\n    for(let i = 0; i < segments.length; i++){\n        const segment = segments[i];\n        const firstValue = linePoints[segment.start][property];\n        const lastValue = linePoints[segment.end][property];\n        if (_isBetween(pointValue, firstValue, lastValue)) {\n            first = pointValue === firstValue;\n            last = pointValue === lastValue;\n            break;\n        }\n    }\n    return {\n        first,\n        last,\n        point\n    };\n}\n\nclass simpleArc {\n    constructor(opts){\n        this.x = opts.x;\n        this.y = opts.y;\n        this.radius = opts.radius;\n    }\n    pathSegment(ctx, bounds, opts) {\n        const { x , y , radius  } = this;\n        bounds = bounds || {\n            start: 0,\n            end: TAU\n        };\n        ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n        return !opts.bounds;\n    }\n    interpolate(point) {\n        const { x , y , radius  } = this;\n        const angle = point.angle;\n        return {\n            x: x + Math.cos(angle) * radius,\n            y: y + Math.sin(angle) * radius,\n            angle\n        };\n    }\n}\n\nfunction _getTarget(source) {\n    const { chart , fill , line  } = source;\n    if (isNumberFinite(fill)) {\n        return getLineByIndex(chart, fill);\n    }\n    if (fill === 'stack') {\n        return _buildStackLine(source);\n    }\n    if (fill === 'shape') {\n        return true;\n    }\n    const boundary = computeBoundary(source);\n    if (boundary instanceof simpleArc) {\n        return boundary;\n    }\n    return _createBoundaryLine(boundary, line);\n}\n function getLineByIndex(chart, index) {\n    const meta = chart.getDatasetMeta(index);\n    const visible = meta && chart.isDatasetVisible(index);\n    return visible ? meta.dataset : null;\n}\nfunction computeBoundary(source) {\n    const scale = source.scale || {};\n    if (scale.getPointPositionForValue) {\n        return computeCircularBoundary(source);\n    }\n    return computeLinearBoundary(source);\n}\nfunction computeLinearBoundary(source) {\n    const { scale ={} , fill  } = source;\n    const pixel = _getTargetPixel(fill, scale);\n    if (isNumberFinite(pixel)) {\n        const horizontal = scale.isHorizontal();\n        return {\n            x: horizontal ? pixel : null,\n            y: horizontal ? null : pixel\n        };\n    }\n    return null;\n}\nfunction computeCircularBoundary(source) {\n    const { scale , fill  } = source;\n    const options = scale.options;\n    const length = scale.getLabels().length;\n    const start = options.reverse ? scale.max : scale.min;\n    const value = _getTargetValue(fill, scale, start);\n    const target = [];\n    if (options.grid.circular) {\n        const center = scale.getPointPositionForValue(0, start);\n        return new simpleArc({\n            x: center.x,\n            y: center.y,\n            radius: scale.getDistanceFromCenterForValue(value)\n        });\n    }\n    for(let i = 0; i < length; ++i){\n        target.push(scale.getPointPositionForValue(i, value));\n    }\n    return target;\n}\n\nfunction _drawfill(ctx, source, area) {\n    const target = _getTarget(source);\n    const { line , scale , axis  } = source;\n    const lineOpts = line.options;\n    const fillOption = lineOpts.fill;\n    const color = lineOpts.backgroundColor;\n    const { above =color , below =color  } = fillOption || {};\n    if (target && line.points.length) {\n        clipArea(ctx, area);\n        doFill(ctx, {\n            line,\n            target,\n            above,\n            below,\n            area,\n            scale,\n            axis\n        });\n        unclipArea(ctx);\n    }\n}\nfunction doFill(ctx, cfg) {\n    const { line , target , above , below , area , scale  } = cfg;\n    const property = line._loop ? 'angle' : cfg.axis;\n    ctx.save();\n    if (property === 'x' && below !== above) {\n        clipVertical(ctx, target, area.top);\n        fill(ctx, {\n            line,\n            target,\n            color: above,\n            scale,\n            property\n        });\n        ctx.restore();\n        ctx.save();\n        clipVertical(ctx, target, area.bottom);\n    }\n    fill(ctx, {\n        line,\n        target,\n        color: below,\n        scale,\n        property\n    });\n    ctx.restore();\n}\nfunction clipVertical(ctx, target, clipY) {\n    const { segments , points  } = target;\n    let first = true;\n    let lineLoop = false;\n    ctx.beginPath();\n    for (const segment of segments){\n        const { start , end  } = segment;\n        const firstPoint = points[start];\n        const lastPoint = points[_findSegmentEnd(start, end, points)];\n        if (first) {\n            ctx.moveTo(firstPoint.x, firstPoint.y);\n            first = false;\n        } else {\n            ctx.lineTo(firstPoint.x, clipY);\n            ctx.lineTo(firstPoint.x, firstPoint.y);\n        }\n        lineLoop = !!target.pathSegment(ctx, segment, {\n            move: lineLoop\n        });\n        if (lineLoop) {\n            ctx.closePath();\n        } else {\n            ctx.lineTo(lastPoint.x, clipY);\n        }\n    }\n    ctx.lineTo(target.first().x, clipY);\n    ctx.closePath();\n    ctx.clip();\n}\nfunction fill(ctx, cfg) {\n    const { line , target , property , color , scale  } = cfg;\n    const segments = _segments(line, target, property);\n    for (const { source: src , target: tgt , start , end  } of segments){\n        const { style: { backgroundColor =color  } = {}  } = src;\n        const notShape = target !== true;\n        ctx.save();\n        ctx.fillStyle = backgroundColor;\n        clipBounds(ctx, scale, notShape && _getBounds(property, start, end));\n        ctx.beginPath();\n        const lineLoop = !!line.pathSegment(ctx, src);\n        let loop;\n        if (notShape) {\n            if (lineLoop) {\n                ctx.closePath();\n            } else {\n                interpolatedLineTo(ctx, target, end, property);\n            }\n            const targetLoop = !!target.pathSegment(ctx, tgt, {\n                move: lineLoop,\n                reverse: true\n            });\n            loop = lineLoop && targetLoop;\n            if (!loop) {\n                interpolatedLineTo(ctx, target, start, property);\n            }\n        }\n        ctx.closePath();\n        ctx.fill(loop ? 'evenodd' : 'nonzero');\n        ctx.restore();\n    }\n}\nfunction clipBounds(ctx, scale, bounds) {\n    const { top , bottom  } = scale.chart.chartArea;\n    const { property , start , end  } = bounds || {};\n    if (property === 'x') {\n        ctx.beginPath();\n        ctx.rect(start, top, end - start, bottom - top);\n        ctx.clip();\n    }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n    const interpolatedPoint = target.interpolate(point, property);\n    if (interpolatedPoint) {\n        ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n    }\n}\n\nvar index = {\n    id: 'filler',\n    afterDatasetsUpdate (chart, _args, options) {\n        const count = (chart.data.datasets || []).length;\n        const sources = [];\n        let meta, i, line, source;\n        for(i = 0; i < count; ++i){\n            meta = chart.getDatasetMeta(i);\n            line = meta.dataset;\n            source = null;\n            if (line && line.options && line instanceof LineElement) {\n                source = {\n                    visible: chart.isDatasetVisible(i),\n                    index: i,\n                    fill: _decodeFill(line, i, count),\n                    chart,\n                    axis: meta.controller.options.indexAxis,\n                    scale: meta.vScale,\n                    line\n                };\n            }\n            meta.$filler = source;\n            sources.push(source);\n        }\n        for(i = 0; i < count; ++i){\n            source = sources[i];\n            if (!source || source.fill === false) {\n                continue;\n            }\n            source.fill = _resolveTarget(sources, i, options.propagate);\n        }\n    },\n    beforeDraw (chart, _args, options) {\n        const draw = options.drawTime === 'beforeDraw';\n        const metasets = chart.getSortedVisibleDatasetMetas();\n        const area = chart.chartArea;\n        for(let i = metasets.length - 1; i >= 0; --i){\n            const source = metasets[i].$filler;\n            if (!source) {\n                continue;\n            }\n            source.line.updateControlPoints(area, source.axis);\n            if (draw && source.fill) {\n                _drawfill(chart.ctx, source, area);\n            }\n        }\n    },\n    beforeDatasetsDraw (chart, _args, options) {\n        if (options.drawTime !== 'beforeDatasetsDraw') {\n            return;\n        }\n        const metasets = chart.getSortedVisibleDatasetMetas();\n        for(let i = metasets.length - 1; i >= 0; --i){\n            const source = metasets[i].$filler;\n            if (_shouldApplyFill(source)) {\n                _drawfill(chart.ctx, source, chart.chartArea);\n            }\n        }\n    },\n    beforeDatasetDraw (chart, args, options) {\n        const source = args.meta.$filler;\n        if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') {\n            return;\n        }\n        _drawfill(chart.ctx, source, chart.chartArea);\n    },\n    defaults: {\n        propagate: true,\n        drawTime: 'beforeDatasetDraw'\n    }\n};\n\nconst getBoxSize = (labelOpts, fontSize)=>{\n    let { boxHeight =fontSize , boxWidth =fontSize  } = labelOpts;\n    if (labelOpts.usePointStyle) {\n        boxHeight = Math.min(boxHeight, fontSize);\n        boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n    }\n    return {\n        boxWidth,\n        boxHeight,\n        itemHeight: Math.max(fontSize, boxHeight)\n    };\n};\nconst itemsEqual = (a, b)=>a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n constructor(config){\n        super();\n        this._added = false;\n        this.legendHitBoxes = [];\n this._hoveredItem = null;\n        this.doughnutMode = false;\n        this.chart = config.chart;\n        this.options = config.options;\n        this.ctx = config.ctx;\n        this.legendItems = undefined;\n        this.columnSizes = undefined;\n        this.lineWidths = undefined;\n        this.maxHeight = undefined;\n        this.maxWidth = undefined;\n        this.top = undefined;\n        this.bottom = undefined;\n        this.left = undefined;\n        this.right = undefined;\n        this.height = undefined;\n        this.width = undefined;\n        this._margins = undefined;\n        this.position = undefined;\n        this.weight = undefined;\n        this.fullSize = undefined;\n    }\n    update(maxWidth, maxHeight, margins) {\n        this.maxWidth = maxWidth;\n        this.maxHeight = maxHeight;\n        this._margins = margins;\n        this.setDimensions();\n        this.buildLabels();\n        this.fit();\n    }\n    setDimensions() {\n        if (this.isHorizontal()) {\n            this.width = this.maxWidth;\n            this.left = this._margins.left;\n            this.right = this.width;\n        } else {\n            this.height = this.maxHeight;\n            this.top = this._margins.top;\n            this.bottom = this.height;\n        }\n    }\n    buildLabels() {\n        const labelOpts = this.options.labels || {};\n        let legendItems = callback(labelOpts.generateLabels, [\n            this.chart\n        ], this) || [];\n        if (labelOpts.filter) {\n            legendItems = legendItems.filter((item)=>labelOpts.filter(item, this.chart.data));\n        }\n        if (labelOpts.sort) {\n            legendItems = legendItems.sort((a, b)=>labelOpts.sort(a, b, this.chart.data));\n        }\n        if (this.options.reverse) {\n            legendItems.reverse();\n        }\n        this.legendItems = legendItems;\n    }\n    fit() {\n        const { options , ctx  } = this;\n        if (!options.display) {\n            this.width = this.height = 0;\n            return;\n        }\n        const labelOpts = options.labels;\n        const labelFont = toFont(labelOpts.font);\n        const fontSize = labelFont.size;\n        const titleHeight = this._computeTitleHeight();\n        const { boxWidth , itemHeight  } = getBoxSize(labelOpts, fontSize);\n        let width, height;\n        ctx.font = labelFont.string;\n        if (this.isHorizontal()) {\n            width = this.maxWidth;\n            height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n        } else {\n            height = this.maxHeight;\n            width = this._fitCols(titleHeight, labelFont, boxWidth, itemHeight) + 10;\n        }\n        this.width = Math.min(width, options.maxWidth || this.maxWidth);\n        this.height = Math.min(height, options.maxHeight || this.maxHeight);\n    }\n _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n        const { ctx , maxWidth , options: { labels: { padding  }  }  } = this;\n        const hitboxes = this.legendHitBoxes = [];\n        const lineWidths = this.lineWidths = [\n            0\n        ];\n        const lineHeight = itemHeight + padding;\n        let totalHeight = titleHeight;\n        ctx.textAlign = 'left';\n        ctx.textBaseline = 'middle';\n        let row = -1;\n        let top = -lineHeight;\n        this.legendItems.forEach((legendItem, i)=>{\n            const itemWidth = boxWidth + fontSize / 2 + ctx.measureText(legendItem.text).width;\n            if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n                totalHeight += lineHeight;\n                lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n                top += lineHeight;\n                row++;\n            }\n            hitboxes[i] = {\n                left: 0,\n                top,\n                row,\n                width: itemWidth,\n                height: itemHeight\n            };\n            lineWidths[lineWidths.length - 1] += itemWidth + padding;\n        });\n        return totalHeight;\n    }\n    _fitCols(titleHeight, labelFont, boxWidth, _itemHeight) {\n        const { ctx , maxHeight , options: { labels: { padding  }  }  } = this;\n        const hitboxes = this.legendHitBoxes = [];\n        const columnSizes = this.columnSizes = [];\n        const heightLimit = maxHeight - titleHeight;\n        let totalWidth = padding;\n        let currentColWidth = 0;\n        let currentColHeight = 0;\n        let left = 0;\n        let col = 0;\n        this.legendItems.forEach((legendItem, i)=>{\n            const { itemWidth , itemHeight  } = calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight);\n            if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n                totalWidth += currentColWidth + padding;\n                columnSizes.push({\n                    width: currentColWidth,\n                    height: currentColHeight\n                });\n                left += currentColWidth + padding;\n                col++;\n                currentColWidth = currentColHeight = 0;\n            }\n            hitboxes[i] = {\n                left,\n                top: currentColHeight,\n                col,\n                width: itemWidth,\n                height: itemHeight\n            };\n            currentColWidth = Math.max(currentColWidth, itemWidth);\n            currentColHeight += itemHeight + padding;\n        });\n        totalWidth += currentColWidth;\n        columnSizes.push({\n            width: currentColWidth,\n            height: currentColHeight\n        });\n        return totalWidth;\n    }\n    adjustHitBoxes() {\n        if (!this.options.display) {\n            return;\n        }\n        const titleHeight = this._computeTitleHeight();\n        const { legendHitBoxes: hitboxes , options: { align , labels: { padding  } , rtl  }  } = this;\n        const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n        if (this.isHorizontal()) {\n            let row = 0;\n            let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n            for (const hitbox of hitboxes){\n                if (row !== hitbox.row) {\n                    row = hitbox.row;\n                    left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n                }\n                hitbox.top += this.top + titleHeight + padding;\n                hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n                left += hitbox.width + padding;\n            }\n        } else {\n            let col = 0;\n            let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n            for (const hitbox of hitboxes){\n                if (hitbox.col !== col) {\n                    col = hitbox.col;\n                    top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n                }\n                hitbox.top = top;\n                hitbox.left += this.left + padding;\n                hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n                top += hitbox.height + padding;\n            }\n        }\n    }\n    isHorizontal() {\n        return this.options.position === 'top' || this.options.position === 'bottom';\n    }\n    draw() {\n        if (this.options.display) {\n            const ctx = this.ctx;\n            clipArea(ctx, this);\n            this._draw();\n            unclipArea(ctx);\n        }\n    }\n _draw() {\n        const { options: opts , columnSizes , lineWidths , ctx  } = this;\n        const { align , labels: labelOpts  } = opts;\n        const defaultColor = defaults.color;\n        const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n        const labelFont = toFont(labelOpts.font);\n        const { padding  } = labelOpts;\n        const fontSize = labelFont.size;\n        const halfFontSize = fontSize / 2;\n        let cursor;\n        this.drawTitle();\n        ctx.textAlign = rtlHelper.textAlign('left');\n        ctx.textBaseline = 'middle';\n        ctx.lineWidth = 0.5;\n        ctx.font = labelFont.string;\n        const { boxWidth , boxHeight , itemHeight  } = getBoxSize(labelOpts, fontSize);\n        const drawLegendBox = function(x, y, legendItem) {\n            if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n                return;\n            }\n            ctx.save();\n            const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n            ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n            ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n            ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n            ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n            ctx.lineWidth = lineWidth;\n            ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n            ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n            if (labelOpts.usePointStyle) {\n                const drawOptions = {\n                    radius: boxHeight * Math.SQRT2 / 2,\n                    pointStyle: legendItem.pointStyle,\n                    rotation: legendItem.rotation,\n                    borderWidth: lineWidth\n                };\n                const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n                const centerY = y + halfFontSize;\n                drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n            } else {\n                const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n                const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n                const borderRadius = toTRBLCorners(legendItem.borderRadius);\n                ctx.beginPath();\n                if (Object.values(borderRadius).some((v)=>v !== 0)) {\n                    addRoundedRectPath(ctx, {\n                        x: xBoxLeft,\n                        y: yBoxTop,\n                        w: boxWidth,\n                        h: boxHeight,\n                        radius: borderRadius\n                    });\n                } else {\n                    ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n                }\n                ctx.fill();\n                if (lineWidth !== 0) {\n                    ctx.stroke();\n                }\n            }\n            ctx.restore();\n        };\n        const fillText = function(x, y, legendItem) {\n            renderText(ctx, legendItem.text, x, y + itemHeight / 2, labelFont, {\n                strikethrough: legendItem.hidden,\n                textAlign: rtlHelper.textAlign(legendItem.textAlign)\n            });\n        };\n        const isHorizontal = this.isHorizontal();\n        const titleHeight = this._computeTitleHeight();\n        if (isHorizontal) {\n            cursor = {\n                x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n                y: this.top + padding + titleHeight,\n                line: 0\n            };\n        } else {\n            cursor = {\n                x: this.left + padding,\n                y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n                line: 0\n            };\n        }\n        overrideTextDirection(this.ctx, opts.textDirection);\n        const lineHeight = itemHeight + padding;\n        this.legendItems.forEach((legendItem, i)=>{\n            ctx.strokeStyle = legendItem.fontColor;\n            ctx.fillStyle = legendItem.fontColor;\n            const textWidth = ctx.measureText(legendItem.text).width;\n            const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n            const width = boxWidth + halfFontSize + textWidth;\n            let x = cursor.x;\n            let y = cursor.y;\n            rtlHelper.setWidth(this.width);\n            if (isHorizontal) {\n                if (i > 0 && x + width + padding > this.right) {\n                    y = cursor.y += lineHeight;\n                    cursor.line++;\n                    x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n                }\n            } else if (i > 0 && y + lineHeight > this.bottom) {\n                x = cursor.x = x + columnSizes[cursor.line].width + padding;\n                cursor.line++;\n                y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n            }\n            const realX = rtlHelper.x(x);\n            drawLegendBox(realX, y, legendItem);\n            x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n            fillText(rtlHelper.x(x), y, legendItem);\n            if (isHorizontal) {\n                cursor.x += width + padding;\n            } else if (typeof legendItem.text !== 'string') {\n                const fontLineHeight = labelFont.lineHeight;\n                cursor.y += calculateLegendItemHeight(legendItem, fontLineHeight) + padding;\n            } else {\n                cursor.y += lineHeight;\n            }\n        });\n        restoreTextDirection(this.ctx, opts.textDirection);\n    }\n drawTitle() {\n        const opts = this.options;\n        const titleOpts = opts.title;\n        const titleFont = toFont(titleOpts.font);\n        const titlePadding = toPadding(titleOpts.padding);\n        if (!titleOpts.display) {\n            return;\n        }\n        const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n        const ctx = this.ctx;\n        const position = titleOpts.position;\n        const halfFontSize = titleFont.size / 2;\n        const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n        let y;\n        let left = this.left;\n        let maxWidth = this.width;\n        if (this.isHorizontal()) {\n            maxWidth = Math.max(...this.lineWidths);\n            y = this.top + topPaddingPlusHalfFontSize;\n            left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n        } else {\n            const maxHeight = this.columnSizes.reduce((acc, size)=>Math.max(acc, size.height), 0);\n            y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n        }\n        const x = _alignStartEnd(position, left, left + maxWidth);\n        ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n        ctx.textBaseline = 'middle';\n        ctx.strokeStyle = titleOpts.color;\n        ctx.fillStyle = titleOpts.color;\n        ctx.font = titleFont.string;\n        renderText(ctx, titleOpts.text, x, y, titleFont);\n    }\n _computeTitleHeight() {\n        const titleOpts = this.options.title;\n        const titleFont = toFont(titleOpts.font);\n        const titlePadding = toPadding(titleOpts.padding);\n        return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n    }\n _getLegendItemAt(x, y) {\n        let i, hitBox, lh;\n        if (_isBetween(x, this.left, this.right) && _isBetween(y, this.top, this.bottom)) {\n            lh = this.legendHitBoxes;\n            for(i = 0; i < lh.length; ++i){\n                hitBox = lh[i];\n                if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width) && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n                    return this.legendItems[i];\n                }\n            }\n        }\n        return null;\n    }\n handleEvent(e) {\n        const opts = this.options;\n        if (!isListened(e.type, opts)) {\n            return;\n        }\n        const hoveredItem = this._getLegendItemAt(e.x, e.y);\n        if (e.type === 'mousemove' || e.type === 'mouseout') {\n            const previous = this._hoveredItem;\n            const sameItem = itemsEqual(previous, hoveredItem);\n            if (previous && !sameItem) {\n                callback(opts.onLeave, [\n                    e,\n                    previous,\n                    this\n                ], this);\n            }\n            this._hoveredItem = hoveredItem;\n            if (hoveredItem && !sameItem) {\n                callback(opts.onHover, [\n                    e,\n                    hoveredItem,\n                    this\n                ], this);\n            }\n        } else if (hoveredItem) {\n            callback(opts.onClick, [\n                e,\n                hoveredItem,\n                this\n            ], this);\n        }\n    }\n}\nfunction calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight) {\n    const itemWidth = calculateItemWidth(legendItem, boxWidth, labelFont, ctx);\n    const itemHeight = calculateItemHeight(_itemHeight, legendItem, labelFont.lineHeight);\n    return {\n        itemWidth,\n        itemHeight\n    };\n}\nfunction calculateItemWidth(legendItem, boxWidth, labelFont, ctx) {\n    let legendItemText = legendItem.text;\n    if (legendItemText && typeof legendItemText !== 'string') {\n        legendItemText = legendItemText.reduce((a, b)=>a.length > b.length ? a : b);\n    }\n    return boxWidth + labelFont.size / 2 + ctx.measureText(legendItemText).width;\n}\nfunction calculateItemHeight(_itemHeight, legendItem, fontLineHeight) {\n    let itemHeight = _itemHeight;\n    if (typeof legendItem.text !== 'string') {\n        itemHeight = calculateLegendItemHeight(legendItem, fontLineHeight);\n    }\n    return itemHeight;\n}\nfunction calculateLegendItemHeight(legendItem, fontLineHeight) {\n    const labelHeight = legendItem.text ? legendItem.text.length : 0;\n    return fontLineHeight * labelHeight;\n}\nfunction isListened(type, opts) {\n    if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n        return true;\n    }\n    if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n        return true;\n    }\n    return false;\n}\nvar plugin_legend = {\n    id: 'legend',\n _element: Legend,\n    start (chart, _args, options) {\n        const legend = chart.legend = new Legend({\n            ctx: chart.ctx,\n            options,\n            chart\n        });\n        layouts.configure(chart, legend, options);\n        layouts.addBox(chart, legend);\n    },\n    stop (chart) {\n        layouts.removeBox(chart, chart.legend);\n        delete chart.legend;\n    },\n    beforeUpdate (chart, _args, options) {\n        const legend = chart.legend;\n        layouts.configure(chart, legend, options);\n        legend.options = options;\n    },\n    afterUpdate (chart) {\n        const legend = chart.legend;\n        legend.buildLabels();\n        legend.adjustHitBoxes();\n    },\n    afterEvent (chart, args) {\n        if (!args.replay) {\n            chart.legend.handleEvent(args.event);\n        }\n    },\n    defaults: {\n        display: true,\n        position: 'top',\n        align: 'center',\n        fullSize: true,\n        reverse: false,\n        weight: 1000,\n        onClick (e, legendItem, legend) {\n            const index = legendItem.datasetIndex;\n            const ci = legend.chart;\n            if (ci.isDatasetVisible(index)) {\n                ci.hide(index);\n                legendItem.hidden = true;\n            } else {\n                ci.show(index);\n                legendItem.hidden = false;\n            }\n        },\n        onHover: null,\n        onLeave: null,\n        labels: {\n            color: (ctx)=>ctx.chart.options.color,\n            boxWidth: 40,\n            padding: 10,\n            generateLabels (chart) {\n                const datasets = chart.data.datasets;\n                const { labels: { usePointStyle , pointStyle , textAlign , color , useBorderRadius , borderRadius  }  } = chart.legend.options;\n                return chart._getSortedDatasetMetas().map((meta)=>{\n                    const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n                    const borderWidth = toPadding(style.borderWidth);\n                    return {\n                        text: datasets[meta.index].label,\n                        fillStyle: style.backgroundColor,\n                        fontColor: color,\n                        hidden: !meta.visible,\n                        lineCap: style.borderCapStyle,\n                        lineDash: style.borderDash,\n                        lineDashOffset: style.borderDashOffset,\n                        lineJoin: style.borderJoinStyle,\n                        lineWidth: (borderWidth.width + borderWidth.height) / 4,\n                        strokeStyle: style.borderColor,\n                        pointStyle: pointStyle || style.pointStyle,\n                        rotation: style.rotation,\n                        textAlign: textAlign || style.textAlign,\n                        borderRadius: useBorderRadius && (borderRadius || style.borderRadius),\n                        datasetIndex: meta.index\n                    };\n                }, this);\n            }\n        },\n        title: {\n            color: (ctx)=>ctx.chart.options.color,\n            display: false,\n            position: 'center',\n            text: ''\n        }\n    },\n    descriptors: {\n        _scriptable: (name)=>!name.startsWith('on'),\n        labels: {\n            _scriptable: (name)=>![\n                    'generateLabels',\n                    'filter',\n                    'sort'\n                ].includes(name)\n        }\n    }\n};\n\nclass Title extends Element {\n constructor(config){\n        super();\n        this.chart = config.chart;\n        this.options = config.options;\n        this.ctx = config.ctx;\n        this._padding = undefined;\n        this.top = undefined;\n        this.bottom = undefined;\n        this.left = undefined;\n        this.right = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.position = undefined;\n        this.weight = undefined;\n        this.fullSize = undefined;\n    }\n    update(maxWidth, maxHeight) {\n        const opts = this.options;\n        this.left = 0;\n        this.top = 0;\n        if (!opts.display) {\n            this.width = this.height = this.right = this.bottom = 0;\n            return;\n        }\n        this.width = this.right = maxWidth;\n        this.height = this.bottom = maxHeight;\n        const lineCount = isArray(opts.text) ? opts.text.length : 1;\n        this._padding = toPadding(opts.padding);\n        const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n        if (this.isHorizontal()) {\n            this.height = textSize;\n        } else {\n            this.width = textSize;\n        }\n    }\n    isHorizontal() {\n        const pos = this.options.position;\n        return pos === 'top' || pos === 'bottom';\n    }\n    _drawArgs(offset) {\n        const { top , left , bottom , right , options  } = this;\n        const align = options.align;\n        let rotation = 0;\n        let maxWidth, titleX, titleY;\n        if (this.isHorizontal()) {\n            titleX = _alignStartEnd(align, left, right);\n            titleY = top + offset;\n            maxWidth = right - left;\n        } else {\n            if (options.position === 'left') {\n                titleX = left + offset;\n                titleY = _alignStartEnd(align, bottom, top);\n                rotation = PI * -0.5;\n            } else {\n                titleX = right - offset;\n                titleY = _alignStartEnd(align, top, bottom);\n                rotation = PI * 0.5;\n            }\n            maxWidth = bottom - top;\n        }\n        return {\n            titleX,\n            titleY,\n            maxWidth,\n            rotation\n        };\n    }\n    draw() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        if (!opts.display) {\n            return;\n        }\n        const fontOpts = toFont(opts.font);\n        const lineHeight = fontOpts.lineHeight;\n        const offset = lineHeight / 2 + this._padding.top;\n        const { titleX , titleY , maxWidth , rotation  } = this._drawArgs(offset);\n        renderText(ctx, opts.text, 0, 0, fontOpts, {\n            color: opts.color,\n            maxWidth,\n            rotation,\n            textAlign: _toLeftRightCenter(opts.align),\n            textBaseline: 'middle',\n            translation: [\n                titleX,\n                titleY\n            ]\n        });\n    }\n}\nfunction createTitle(chart, titleOpts) {\n    const title = new Title({\n        ctx: chart.ctx,\n        options: titleOpts,\n        chart\n    });\n    layouts.configure(chart, title, titleOpts);\n    layouts.addBox(chart, title);\n    chart.titleBlock = title;\n}\nvar plugin_title = {\n    id: 'title',\n _element: Title,\n    start (chart, _args, options) {\n        createTitle(chart, options);\n    },\n    stop (chart) {\n        const titleBlock = chart.titleBlock;\n        layouts.removeBox(chart, titleBlock);\n        delete chart.titleBlock;\n    },\n    beforeUpdate (chart, _args, options) {\n        const title = chart.titleBlock;\n        layouts.configure(chart, title, options);\n        title.options = options;\n    },\n    defaults: {\n        align: 'center',\n        display: false,\n        font: {\n            weight: 'bold'\n        },\n        fullSize: true,\n        padding: 10,\n        position: 'top',\n        text: '',\n        weight: 2000\n    },\n    defaultRoutes: {\n        color: 'color'\n    },\n    descriptors: {\n        _scriptable: true,\n        _indexable: false\n    }\n};\n\nconst map = new WeakMap();\nvar plugin_subtitle = {\n    id: 'subtitle',\n    start (chart, _args, options) {\n        const title = new Title({\n            ctx: chart.ctx,\n            options,\n            chart\n        });\n        layouts.configure(chart, title, options);\n        layouts.addBox(chart, title);\n        map.set(chart, title);\n    },\n    stop (chart) {\n        layouts.removeBox(chart, map.get(chart));\n        map.delete(chart);\n    },\n    beforeUpdate (chart, _args, options) {\n        const title = map.get(chart);\n        layouts.configure(chart, title, options);\n        title.options = options;\n    },\n    defaults: {\n        align: 'center',\n        display: false,\n        font: {\n            weight: 'normal'\n        },\n        fullSize: true,\n        padding: 0,\n        position: 'top',\n        text: '',\n        weight: 1500\n    },\n    defaultRoutes: {\n        color: 'color'\n    },\n    descriptors: {\n        _scriptable: true,\n        _indexable: false\n    }\n};\n\nconst positioners = {\n average (items) {\n        if (!items.length) {\n            return false;\n        }\n        let i, len;\n        let x = 0;\n        let y = 0;\n        let count = 0;\n        for(i = 0, len = items.length; i < len; ++i){\n            const el = items[i].element;\n            if (el && el.hasValue()) {\n                const pos = el.tooltipPosition();\n                x += pos.x;\n                y += pos.y;\n                ++count;\n            }\n        }\n        return {\n            x: x / count,\n            y: y / count\n        };\n    },\n nearest (items, eventPosition) {\n        if (!items.length) {\n            return false;\n        }\n        let x = eventPosition.x;\n        let y = eventPosition.y;\n        let minDistance = Number.POSITIVE_INFINITY;\n        let i, len, nearestElement;\n        for(i = 0, len = items.length; i < len; ++i){\n            const el = items[i].element;\n            if (el && el.hasValue()) {\n                const center = el.getCenterPoint();\n                const d = distanceBetweenPoints(eventPosition, center);\n                if (d < minDistance) {\n                    minDistance = d;\n                    nearestElement = el;\n                }\n            }\n        }\n        if (nearestElement) {\n            const tp = nearestElement.tooltipPosition();\n            x = tp.x;\n            y = tp.y;\n        }\n        return {\n            x,\n            y\n        };\n    }\n};\nfunction pushOrConcat(base, toPush) {\n    if (toPush) {\n        if (isArray(toPush)) {\n            Array.prototype.push.apply(base, toPush);\n        } else {\n            base.push(toPush);\n        }\n    }\n    return base;\n}\n function splitNewlines(str) {\n    if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n        return str.split('\\n');\n    }\n    return str;\n}\n function createTooltipItem(chart, item) {\n    const { element , datasetIndex , index  } = item;\n    const controller = chart.getDatasetMeta(datasetIndex).controller;\n    const { label , value  } = controller.getLabelAndValue(index);\n    return {\n        chart,\n        label,\n        parsed: controller.getParsed(index),\n        raw: chart.data.datasets[datasetIndex].data[index],\n        formattedValue: value,\n        dataset: controller.getDataset(),\n        dataIndex: index,\n        datasetIndex,\n        element\n    };\n}\n function getTooltipSize(tooltip, options) {\n    const ctx = tooltip.chart.ctx;\n    const { body , footer , title  } = tooltip;\n    const { boxWidth , boxHeight  } = options;\n    const bodyFont = toFont(options.bodyFont);\n    const titleFont = toFont(options.titleFont);\n    const footerFont = toFont(options.footerFont);\n    const titleLineCount = title.length;\n    const footerLineCount = footer.length;\n    const bodyLineItemCount = body.length;\n    const padding = toPadding(options.padding);\n    let height = padding.height;\n    let width = 0;\n    let combinedBodyLength = body.reduce((count, bodyItem)=>count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n    combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n    if (titleLineCount) {\n        height += titleLineCount * titleFont.lineHeight + (titleLineCount - 1) * options.titleSpacing + options.titleMarginBottom;\n    }\n    if (combinedBodyLength) {\n        const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n        height += bodyLineItemCount * bodyLineHeight + (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight + (combinedBodyLength - 1) * options.bodySpacing;\n    }\n    if (footerLineCount) {\n        height += options.footerMarginTop + footerLineCount * footerFont.lineHeight + (footerLineCount - 1) * options.footerSpacing;\n    }\n    let widthPadding = 0;\n    const maxLineWidth = function(line) {\n        width = Math.max(width, ctx.measureText(line).width + widthPadding);\n    };\n    ctx.save();\n    ctx.font = titleFont.string;\n    each(tooltip.title, maxLineWidth);\n    ctx.font = bodyFont.string;\n    each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n    widthPadding = options.displayColors ? boxWidth + 2 + options.boxPadding : 0;\n    each(body, (bodyItem)=>{\n        each(bodyItem.before, maxLineWidth);\n        each(bodyItem.lines, maxLineWidth);\n        each(bodyItem.after, maxLineWidth);\n    });\n    widthPadding = 0;\n    ctx.font = footerFont.string;\n    each(tooltip.footer, maxLineWidth);\n    ctx.restore();\n    width += padding.width;\n    return {\n        width,\n        height\n    };\n}\nfunction determineYAlign(chart, size) {\n    const { y , height  } = size;\n    if (y < height / 2) {\n        return 'top';\n    } else if (y > chart.height - height / 2) {\n        return 'bottom';\n    }\n    return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n    const { x , width  } = size;\n    const caret = options.caretSize + options.caretPadding;\n    if (xAlign === 'left' && x + width + caret > chart.width) {\n        return true;\n    }\n    if (xAlign === 'right' && x - width - caret < 0) {\n        return true;\n    }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n    const { x , width  } = size;\n    const { width: chartWidth , chartArea: { left , right  }  } = chart;\n    let xAlign = 'center';\n    if (yAlign === 'center') {\n        xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n    } else if (x <= width / 2) {\n        xAlign = 'left';\n    } else if (x >= chartWidth - width / 2) {\n        xAlign = 'right';\n    }\n    if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n        xAlign = 'center';\n    }\n    return xAlign;\n}\n function determineAlignment(chart, options, size) {\n    const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n    return {\n        xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n        yAlign\n    };\n}\nfunction alignX(size, xAlign) {\n    let { x , width  } = size;\n    if (xAlign === 'right') {\n        x -= width;\n    } else if (xAlign === 'center') {\n        x -= width / 2;\n    }\n    return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n    let { y , height  } = size;\n    if (yAlign === 'top') {\n        y += paddingAndSize;\n    } else if (yAlign === 'bottom') {\n        y -= height + paddingAndSize;\n    } else {\n        y -= height / 2;\n    }\n    return y;\n}\n function getBackgroundPoint(options, size, alignment, chart) {\n    const { caretSize , caretPadding , cornerRadius  } = options;\n    const { xAlign , yAlign  } = alignment;\n    const paddingAndSize = caretSize + caretPadding;\n    const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(cornerRadius);\n    let x = alignX(size, xAlign);\n    const y = alignY(size, yAlign, paddingAndSize);\n    if (yAlign === 'center') {\n        if (xAlign === 'left') {\n            x += paddingAndSize;\n        } else if (xAlign === 'right') {\n            x -= paddingAndSize;\n        }\n    } else if (xAlign === 'left') {\n        x -= Math.max(topLeft, bottomLeft) + caretSize;\n    } else if (xAlign === 'right') {\n        x += Math.max(topRight, bottomRight) + caretSize;\n    }\n    return {\n        x: _limitValue(x, 0, chart.width - size.width),\n        y: _limitValue(y, 0, chart.height - size.height)\n    };\n}\nfunction getAlignedX(tooltip, align, options) {\n    const padding = toPadding(options.padding);\n    return align === 'center' ? tooltip.x + tooltip.width / 2 : align === 'right' ? tooltip.x + tooltip.width - padding.right : tooltip.x + padding.left;\n}\n function getBeforeAfterBodyLines(callback) {\n    return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n    return createContext(parent, {\n        tooltip,\n        tooltipItems,\n        type: 'tooltip'\n    });\n}\nfunction overrideCallbacks(callbacks, context) {\n    const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n    return override ? callbacks.override(override) : callbacks;\n}\nconst defaultCallbacks = {\n    beforeTitle: noop,\n    title (tooltipItems) {\n        if (tooltipItems.length > 0) {\n            const item = tooltipItems[0];\n            const labels = item.chart.data.labels;\n            const labelCount = labels ? labels.length : 0;\n            if (this && this.options && this.options.mode === 'dataset') {\n                return item.dataset.label || '';\n            } else if (item.label) {\n                return item.label;\n            } else if (labelCount > 0 && item.dataIndex < labelCount) {\n                return labels[item.dataIndex];\n            }\n        }\n        return '';\n    },\n    afterTitle: noop,\n    beforeBody: noop,\n    beforeLabel: noop,\n    label (tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n            return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n            label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n            label += value;\n        }\n        return label;\n    },\n    labelColor (tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n            borderColor: options.borderColor,\n            backgroundColor: options.backgroundColor,\n            borderWidth: options.borderWidth,\n            borderDash: options.borderDash,\n            borderDashOffset: options.borderDashOffset,\n            borderRadius: 0\n        };\n    },\n    labelTextColor () {\n        return this.options.bodyColor;\n    },\n    labelPointStyle (tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n            pointStyle: options.pointStyle,\n            rotation: options.rotation\n        };\n    },\n    afterLabel: noop,\n    afterBody: noop,\n    beforeFooter: noop,\n    footer: noop,\n    afterFooter: noop\n};\n function invokeCallbackWithFallback(callbacks, name, ctx, arg) {\n    const result = callbacks[name].call(ctx, arg);\n    if (typeof result === 'undefined') {\n        return defaultCallbacks[name].call(ctx, arg);\n    }\n    return result;\n}\nclass Tooltip extends Element {\n static positioners = positioners;\n    constructor(config){\n        super();\n        this.opacity = 0;\n        this._active = [];\n        this._eventPosition = undefined;\n        this._size = undefined;\n        this._cachedAnimations = undefined;\n        this._tooltipItems = [];\n        this.$animations = undefined;\n        this.$context = undefined;\n        this.chart = config.chart;\n        this.options = config.options;\n        this.dataPoints = undefined;\n        this.title = undefined;\n        this.beforeBody = undefined;\n        this.body = undefined;\n        this.afterBody = undefined;\n        this.footer = undefined;\n        this.xAlign = undefined;\n        this.yAlign = undefined;\n        this.x = undefined;\n        this.y = undefined;\n        this.height = undefined;\n        this.width = undefined;\n        this.caretX = undefined;\n        this.caretY = undefined;\n        this.labelColors = undefined;\n        this.labelPointStyles = undefined;\n        this.labelTextColors = undefined;\n    }\n    initialize(options) {\n        this.options = options;\n        this._cachedAnimations = undefined;\n        this.$context = undefined;\n    }\n _resolveAnimations() {\n        const cached = this._cachedAnimations;\n        if (cached) {\n            return cached;\n        }\n        const chart = this.chart;\n        const options = this.options.setContext(this.getContext());\n        const opts = options.enabled && chart.options.animation && options.animations;\n        const animations = new Animations(this.chart, opts);\n        if (opts._cacheable) {\n            this._cachedAnimations = Object.freeze(animations);\n        }\n        return animations;\n    }\n getContext() {\n        return this.$context || (this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n    }\n    getTitle(context, options) {\n        const { callbacks  } = options;\n        const beforeTitle = invokeCallbackWithFallback(callbacks, 'beforeTitle', this, context);\n        const title = invokeCallbackWithFallback(callbacks, 'title', this, context);\n        const afterTitle = invokeCallbackWithFallback(callbacks, 'afterTitle', this, context);\n        let lines = [];\n        lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n        lines = pushOrConcat(lines, splitNewlines(title));\n        lines = pushOrConcat(lines, splitNewlines(afterTitle));\n        return lines;\n    }\n    getBeforeBody(tooltipItems, options) {\n        return getBeforeAfterBodyLines(invokeCallbackWithFallback(options.callbacks, 'beforeBody', this, tooltipItems));\n    }\n    getBody(tooltipItems, options) {\n        const { callbacks  } = options;\n        const bodyItems = [];\n        each(tooltipItems, (context)=>{\n            const bodyItem = {\n                before: [],\n                lines: [],\n                after: []\n            };\n            const scoped = overrideCallbacks(callbacks, context);\n            pushOrConcat(bodyItem.before, splitNewlines(invokeCallbackWithFallback(scoped, 'beforeLabel', this, context)));\n            pushOrConcat(bodyItem.lines, invokeCallbackWithFallback(scoped, 'label', this, context));\n            pushOrConcat(bodyItem.after, splitNewlines(invokeCallbackWithFallback(scoped, 'afterLabel', this, context)));\n            bodyItems.push(bodyItem);\n        });\n        return bodyItems;\n    }\n    getAfterBody(tooltipItems, options) {\n        return getBeforeAfterBodyLines(invokeCallbackWithFallback(options.callbacks, 'afterBody', this, tooltipItems));\n    }\n    getFooter(tooltipItems, options) {\n        const { callbacks  } = options;\n        const beforeFooter = invokeCallbackWithFallback(callbacks, 'beforeFooter', this, tooltipItems);\n        const footer = invokeCallbackWithFallback(callbacks, 'footer', this, tooltipItems);\n        const afterFooter = invokeCallbackWithFallback(callbacks, 'afterFooter', this, tooltipItems);\n        let lines = [];\n        lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n        lines = pushOrConcat(lines, splitNewlines(footer));\n        lines = pushOrConcat(lines, splitNewlines(afterFooter));\n        return lines;\n    }\n _createItems(options) {\n        const active = this._active;\n        const data = this.chart.data;\n        const labelColors = [];\n        const labelPointStyles = [];\n        const labelTextColors = [];\n        let tooltipItems = [];\n        let i, len;\n        for(i = 0, len = active.length; i < len; ++i){\n            tooltipItems.push(createTooltipItem(this.chart, active[i]));\n        }\n        if (options.filter) {\n            tooltipItems = tooltipItems.filter((element, index, array)=>options.filter(element, index, array, data));\n        }\n        if (options.itemSort) {\n            tooltipItems = tooltipItems.sort((a, b)=>options.itemSort(a, b, data));\n        }\n        each(tooltipItems, (context)=>{\n            const scoped = overrideCallbacks(options.callbacks, context);\n            labelColors.push(invokeCallbackWithFallback(scoped, 'labelColor', this, context));\n            labelPointStyles.push(invokeCallbackWithFallback(scoped, 'labelPointStyle', this, context));\n            labelTextColors.push(invokeCallbackWithFallback(scoped, 'labelTextColor', this, context));\n        });\n        this.labelColors = labelColors;\n        this.labelPointStyles = labelPointStyles;\n        this.labelTextColors = labelTextColors;\n        this.dataPoints = tooltipItems;\n        return tooltipItems;\n    }\n    update(changed, replay) {\n        const options = this.options.setContext(this.getContext());\n        const active = this._active;\n        let properties;\n        let tooltipItems = [];\n        if (!active.length) {\n            if (this.opacity !== 0) {\n                properties = {\n                    opacity: 0\n                };\n            }\n        } else {\n            const position = positioners[options.position].call(this, active, this._eventPosition);\n            tooltipItems = this._createItems(options);\n            this.title = this.getTitle(tooltipItems, options);\n            this.beforeBody = this.getBeforeBody(tooltipItems, options);\n            this.body = this.getBody(tooltipItems, options);\n            this.afterBody = this.getAfterBody(tooltipItems, options);\n            this.footer = this.getFooter(tooltipItems, options);\n            const size = this._size = getTooltipSize(this, options);\n            const positionAndSize = Object.assign({}, position, size);\n            const alignment = determineAlignment(this.chart, options, positionAndSize);\n            const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n            this.xAlign = alignment.xAlign;\n            this.yAlign = alignment.yAlign;\n            properties = {\n                opacity: 1,\n                x: backgroundPoint.x,\n                y: backgroundPoint.y,\n                width: size.width,\n                height: size.height,\n                caretX: position.x,\n                caretY: position.y\n            };\n        }\n        this._tooltipItems = tooltipItems;\n        this.$context = undefined;\n        if (properties) {\n            this._resolveAnimations().update(this, properties);\n        }\n        if (changed && options.external) {\n            options.external.call(this, {\n                chart: this.chart,\n                tooltip: this,\n                replay\n            });\n        }\n    }\n    drawCaret(tooltipPoint, ctx, size, options) {\n        const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n        ctx.lineTo(caretPosition.x1, caretPosition.y1);\n        ctx.lineTo(caretPosition.x2, caretPosition.y2);\n        ctx.lineTo(caretPosition.x3, caretPosition.y3);\n    }\n    getCaretPosition(tooltipPoint, size, options) {\n        const { xAlign , yAlign  } = this;\n        const { caretSize , cornerRadius  } = options;\n        const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(cornerRadius);\n        const { x: ptX , y: ptY  } = tooltipPoint;\n        const { width , height  } = size;\n        let x1, x2, x3, y1, y2, y3;\n        if (yAlign === 'center') {\n            y2 = ptY + height / 2;\n            if (xAlign === 'left') {\n                x1 = ptX;\n                x2 = x1 - caretSize;\n                y1 = y2 + caretSize;\n                y3 = y2 - caretSize;\n            } else {\n                x1 = ptX + width;\n                x2 = x1 + caretSize;\n                y1 = y2 - caretSize;\n                y3 = y2 + caretSize;\n            }\n            x3 = x1;\n        } else {\n            if (xAlign === 'left') {\n                x2 = ptX + Math.max(topLeft, bottomLeft) + caretSize;\n            } else if (xAlign === 'right') {\n                x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n            } else {\n                x2 = this.caretX;\n            }\n            if (yAlign === 'top') {\n                y1 = ptY;\n                y2 = y1 - caretSize;\n                x1 = x2 - caretSize;\n                x3 = x2 + caretSize;\n            } else {\n                y1 = ptY + height;\n                y2 = y1 + caretSize;\n                x1 = x2 + caretSize;\n                x3 = x2 - caretSize;\n            }\n            y3 = y1;\n        }\n        return {\n            x1,\n            x2,\n            x3,\n            y1,\n            y2,\n            y3\n        };\n    }\n    drawTitle(pt, ctx, options) {\n        const title = this.title;\n        const length = title.length;\n        let titleFont, titleSpacing, i;\n        if (length) {\n            const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n            pt.x = getAlignedX(this, options.titleAlign, options);\n            ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n            ctx.textBaseline = 'middle';\n            titleFont = toFont(options.titleFont);\n            titleSpacing = options.titleSpacing;\n            ctx.fillStyle = options.titleColor;\n            ctx.font = titleFont.string;\n            for(i = 0; i < length; ++i){\n                ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n                pt.y += titleFont.lineHeight + titleSpacing;\n                if (i + 1 === length) {\n                    pt.y += options.titleMarginBottom - titleSpacing;\n                }\n            }\n        }\n    }\n _drawColorBox(ctx, pt, i, rtlHelper, options) {\n        const labelColor = this.labelColors[i];\n        const labelPointStyle = this.labelPointStyles[i];\n        const { boxHeight , boxWidth  } = options;\n        const bodyFont = toFont(options.bodyFont);\n        const colorX = getAlignedX(this, 'left', options);\n        const rtlColorX = rtlHelper.x(colorX);\n        const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n        const colorY = pt.y + yOffSet;\n        if (options.usePointStyle) {\n            const drawOptions = {\n                radius: Math.min(boxWidth, boxHeight) / 2,\n                pointStyle: labelPointStyle.pointStyle,\n                rotation: labelPointStyle.rotation,\n                borderWidth: 1\n            };\n            const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n            const centerY = colorY + boxHeight / 2;\n            ctx.strokeStyle = options.multiKeyBackground;\n            ctx.fillStyle = options.multiKeyBackground;\n            drawPoint(ctx, drawOptions, centerX, centerY);\n            ctx.strokeStyle = labelColor.borderColor;\n            ctx.fillStyle = labelColor.backgroundColor;\n            drawPoint(ctx, drawOptions, centerX, centerY);\n        } else {\n            ctx.lineWidth = isObject(labelColor.borderWidth) ? Math.max(...Object.values(labelColor.borderWidth)) : labelColor.borderWidth || 1;\n            ctx.strokeStyle = labelColor.borderColor;\n            ctx.setLineDash(labelColor.borderDash || []);\n            ctx.lineDashOffset = labelColor.borderDashOffset || 0;\n            const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n            const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n            const borderRadius = toTRBLCorners(labelColor.borderRadius);\n            if (Object.values(borderRadius).some((v)=>v !== 0)) {\n                ctx.beginPath();\n                ctx.fillStyle = options.multiKeyBackground;\n                addRoundedRectPath(ctx, {\n                    x: outerX,\n                    y: colorY,\n                    w: boxWidth,\n                    h: boxHeight,\n                    radius: borderRadius\n                });\n                ctx.fill();\n                ctx.stroke();\n                ctx.fillStyle = labelColor.backgroundColor;\n                ctx.beginPath();\n                addRoundedRectPath(ctx, {\n                    x: innerX,\n                    y: colorY + 1,\n                    w: boxWidth - 2,\n                    h: boxHeight - 2,\n                    radius: borderRadius\n                });\n                ctx.fill();\n            } else {\n                ctx.fillStyle = options.multiKeyBackground;\n                ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n                ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n                ctx.fillStyle = labelColor.backgroundColor;\n                ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n            }\n        }\n        ctx.fillStyle = this.labelTextColors[i];\n    }\n    drawBody(pt, ctx, options) {\n        const { body  } = this;\n        const { bodySpacing , bodyAlign , displayColors , boxHeight , boxWidth , boxPadding  } = options;\n        const bodyFont = toFont(options.bodyFont);\n        let bodyLineHeight = bodyFont.lineHeight;\n        let xLinePadding = 0;\n        const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n        const fillLineOfText = function(line) {\n            ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n            pt.y += bodyLineHeight + bodySpacing;\n        };\n        const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n        let bodyItem, textColor, lines, i, j, ilen, jlen;\n        ctx.textAlign = bodyAlign;\n        ctx.textBaseline = 'middle';\n        ctx.font = bodyFont.string;\n        pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n        ctx.fillStyle = options.bodyColor;\n        each(this.beforeBody, fillLineOfText);\n        xLinePadding = displayColors && bodyAlignForCalculation !== 'right' ? bodyAlign === 'center' ? boxWidth / 2 + boxPadding : boxWidth + 2 + boxPadding : 0;\n        for(i = 0, ilen = body.length; i < ilen; ++i){\n            bodyItem = body[i];\n            textColor = this.labelTextColors[i];\n            ctx.fillStyle = textColor;\n            each(bodyItem.before, fillLineOfText);\n            lines = bodyItem.lines;\n            if (displayColors && lines.length) {\n                this._drawColorBox(ctx, pt, i, rtlHelper, options);\n                bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n            }\n            for(j = 0, jlen = lines.length; j < jlen; ++j){\n                fillLineOfText(lines[j]);\n                bodyLineHeight = bodyFont.lineHeight;\n            }\n            each(bodyItem.after, fillLineOfText);\n        }\n        xLinePadding = 0;\n        bodyLineHeight = bodyFont.lineHeight;\n        each(this.afterBody, fillLineOfText);\n        pt.y -= bodySpacing;\n    }\n    drawFooter(pt, ctx, options) {\n        const footer = this.footer;\n        const length = footer.length;\n        let footerFont, i;\n        if (length) {\n            const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n            pt.x = getAlignedX(this, options.footerAlign, options);\n            pt.y += options.footerMarginTop;\n            ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n            ctx.textBaseline = 'middle';\n            footerFont = toFont(options.footerFont);\n            ctx.fillStyle = options.footerColor;\n            ctx.font = footerFont.string;\n            for(i = 0; i < length; ++i){\n                ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n                pt.y += footerFont.lineHeight + options.footerSpacing;\n            }\n        }\n    }\n    drawBackground(pt, ctx, tooltipSize, options) {\n        const { xAlign , yAlign  } = this;\n        const { x , y  } = pt;\n        const { width , height  } = tooltipSize;\n        const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(options.cornerRadius);\n        ctx.fillStyle = options.backgroundColor;\n        ctx.strokeStyle = options.borderColor;\n        ctx.lineWidth = options.borderWidth;\n        ctx.beginPath();\n        ctx.moveTo(x + topLeft, y);\n        if (yAlign === 'top') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + width - topRight, y);\n        ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n        if (yAlign === 'center' && xAlign === 'right') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + width, y + height - bottomRight);\n        ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n        if (yAlign === 'bottom') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + bottomLeft, y + height);\n        ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n        if (yAlign === 'center' && xAlign === 'left') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x, y + topLeft);\n        ctx.quadraticCurveTo(x, y, x + topLeft, y);\n        ctx.closePath();\n        ctx.fill();\n        if (options.borderWidth > 0) {\n            ctx.stroke();\n        }\n    }\n _updateAnimationTarget(options) {\n        const chart = this.chart;\n        const anims = this.$animations;\n        const animX = anims && anims.x;\n        const animY = anims && anims.y;\n        if (animX || animY) {\n            const position = positioners[options.position].call(this, this._active, this._eventPosition);\n            if (!position) {\n                return;\n            }\n            const size = this._size = getTooltipSize(this, options);\n            const positionAndSize = Object.assign({}, position, this._size);\n            const alignment = determineAlignment(chart, options, positionAndSize);\n            const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n            if (animX._to !== point.x || animY._to !== point.y) {\n                this.xAlign = alignment.xAlign;\n                this.yAlign = alignment.yAlign;\n                this.width = size.width;\n                this.height = size.height;\n                this.caretX = position.x;\n                this.caretY = position.y;\n                this._resolveAnimations().update(this, point);\n            }\n        }\n    }\n _willRender() {\n        return !!this.opacity;\n    }\n    draw(ctx) {\n        const options = this.options.setContext(this.getContext());\n        let opacity = this.opacity;\n        if (!opacity) {\n            return;\n        }\n        this._updateAnimationTarget(options);\n        const tooltipSize = {\n            width: this.width,\n            height: this.height\n        };\n        const pt = {\n            x: this.x,\n            y: this.y\n        };\n        opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n        const padding = toPadding(options.padding);\n        const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n        if (options.enabled && hasTooltipContent) {\n            ctx.save();\n            ctx.globalAlpha = opacity;\n            this.drawBackground(pt, ctx, tooltipSize, options);\n            overrideTextDirection(ctx, options.textDirection);\n            pt.y += padding.top;\n            this.drawTitle(pt, ctx, options);\n            this.drawBody(pt, ctx, options);\n            this.drawFooter(pt, ctx, options);\n            restoreTextDirection(ctx, options.textDirection);\n            ctx.restore();\n        }\n    }\n getActiveElements() {\n        return this._active || [];\n    }\n setActiveElements(activeElements, eventPosition) {\n        const lastActive = this._active;\n        const active = activeElements.map(({ datasetIndex , index  })=>{\n            const meta = this.chart.getDatasetMeta(datasetIndex);\n            if (!meta) {\n                throw new Error('Cannot find a dataset at index ' + datasetIndex);\n            }\n            return {\n                datasetIndex,\n                element: meta.data[index],\n                index\n            };\n        });\n        const changed = !_elementsEqual(lastActive, active);\n        const positionChanged = this._positionChanged(active, eventPosition);\n        if (changed || positionChanged) {\n            this._active = active;\n            this._eventPosition = eventPosition;\n            this._ignoreReplayEvents = true;\n            this.update(true);\n        }\n    }\n handleEvent(e, replay, inChartArea = true) {\n        if (replay && this._ignoreReplayEvents) {\n            return false;\n        }\n        this._ignoreReplayEvents = false;\n        const options = this.options;\n        const lastActive = this._active || [];\n        const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n        const positionChanged = this._positionChanged(active, e);\n        const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n        if (changed) {\n            this._active = active;\n            if (options.enabled || options.external) {\n                this._eventPosition = {\n                    x: e.x,\n                    y: e.y\n                };\n                this.update(true, replay);\n            }\n        }\n        return changed;\n    }\n _getActiveElements(e, lastActive, replay, inChartArea) {\n        const options = this.options;\n        if (e.type === 'mouseout') {\n            return [];\n        }\n        if (!inChartArea) {\n            return lastActive;\n        }\n        const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n        if (options.reverse) {\n            active.reverse();\n        }\n        return active;\n    }\n _positionChanged(active, e) {\n        const { caretX , caretY , options  } = this;\n        const position = positioners[options.position].call(this, active, e);\n        return position !== false && (caretX !== position.x || caretY !== position.y);\n    }\n}\nvar plugin_tooltip = {\n    id: 'tooltip',\n    _element: Tooltip,\n    positioners,\n    afterInit (chart, _args, options) {\n        if (options) {\n            chart.tooltip = new Tooltip({\n                chart,\n                options\n            });\n        }\n    },\n    beforeUpdate (chart, _args, options) {\n        if (chart.tooltip) {\n            chart.tooltip.initialize(options);\n        }\n    },\n    reset (chart, _args, options) {\n        if (chart.tooltip) {\n            chart.tooltip.initialize(options);\n        }\n    },\n    afterDraw (chart) {\n        const tooltip = chart.tooltip;\n        if (tooltip && tooltip._willRender()) {\n            const args = {\n                tooltip\n            };\n            if (chart.notifyPlugins('beforeTooltipDraw', {\n                ...args,\n                cancelable: true\n            }) === false) {\n                return;\n            }\n            tooltip.draw(chart.ctx);\n            chart.notifyPlugins('afterTooltipDraw', args);\n        }\n    },\n    afterEvent (chart, args) {\n        if (chart.tooltip) {\n            const useFinalPosition = args.replay;\n            if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n                args.changed = true;\n            }\n        }\n    },\n    defaults: {\n        enabled: true,\n        external: null,\n        position: 'average',\n        backgroundColor: 'rgba(0,0,0,0.8)',\n        titleColor: '#fff',\n        titleFont: {\n            weight: 'bold'\n        },\n        titleSpacing: 2,\n        titleMarginBottom: 6,\n        titleAlign: 'left',\n        bodyColor: '#fff',\n        bodySpacing: 2,\n        bodyFont: {},\n        bodyAlign: 'left',\n        footerColor: '#fff',\n        footerSpacing: 2,\n        footerMarginTop: 6,\n        footerFont: {\n            weight: 'bold'\n        },\n        footerAlign: 'left',\n        padding: 6,\n        caretPadding: 2,\n        caretSize: 5,\n        cornerRadius: 6,\n        boxHeight: (ctx, opts)=>opts.bodyFont.size,\n        boxWidth: (ctx, opts)=>opts.bodyFont.size,\n        multiKeyBackground: '#fff',\n        displayColors: true,\n        boxPadding: 0,\n        borderColor: 'rgba(0,0,0,0)',\n        borderWidth: 0,\n        animation: {\n            duration: 400,\n            easing: 'easeOutQuart'\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'width',\n                    'height',\n                    'caretX',\n                    'caretY'\n                ]\n            },\n            opacity: {\n                easing: 'linear',\n                duration: 200\n            }\n        },\n        callbacks: defaultCallbacks\n    },\n    defaultRoutes: {\n        bodyFont: 'font',\n        footerFont: 'font',\n        titleFont: 'font'\n    },\n    descriptors: {\n        _scriptable: (name)=>name !== 'filter' && name !== 'itemSort' && name !== 'external',\n        _indexable: false,\n        callbacks: {\n            _scriptable: false,\n            _indexable: false\n        },\n        animation: {\n            _fallback: false\n        },\n        animations: {\n            _fallback: 'animation'\n        }\n    },\n    additionalOptionScopes: [\n        'interaction'\n    ]\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nColors: plugin_colors,\nDecimation: plugin_decimation,\nFiller: index,\nLegend: plugin_legend,\nSubTitle: plugin_subtitle,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index, addedLabels)=>{\n    if (typeof raw === 'string') {\n        index = labels.push(raw) - 1;\n        addedLabels.unshift({\n            index,\n            label: raw\n        });\n    } else if (isNaN(raw)) {\n        index = null;\n    }\n    return index;\n};\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n    const first = labels.indexOf(raw);\n    if (first === -1) {\n        return addIfString(labels, raw, index, addedLabels);\n    }\n    const last = labels.lastIndexOf(raw);\n    return first !== last ? index : first;\n}\nconst validIndex = (index, max)=>index === null ? null : _limitValue(Math.round(index), 0, max);\nfunction _getLabelForValue(value) {\n    const labels = this.getLabels();\n    if (value >= 0 && value < labels.length) {\n        return labels[value];\n    }\n    return value;\n}\nclass CategoryScale extends Scale {\n    static id = 'category';\n static defaults = {\n        ticks: {\n            callback: _getLabelForValue\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this._startValue = undefined;\n        this._valueRange = 0;\n        this._addedLabels = [];\n    }\n    init(scaleOptions) {\n        const added = this._addedLabels;\n        if (added.length) {\n            const labels = this.getLabels();\n            for (const { index , label  } of added){\n                if (labels[index] === label) {\n                    labels.splice(index, 1);\n                }\n            }\n            this._addedLabels = [];\n        }\n        super.init(scaleOptions);\n    }\n    parse(raw, index) {\n        if (isNullOrUndef(raw)) {\n            return null;\n        }\n        const labels = this.getLabels();\n        index = isFinite(index) && labels[index] === raw ? index : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n        return validIndex(index, labels.length - 1);\n    }\n    determineDataLimits() {\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let { min , max  } = this.getMinMax(true);\n        if (this.options.bounds === 'ticks') {\n            if (!minDefined) {\n                min = 0;\n            }\n            if (!maxDefined) {\n                max = this.getLabels().length - 1;\n            }\n        }\n        this.min = min;\n        this.max = max;\n    }\n    buildTicks() {\n        const min = this.min;\n        const max = this.max;\n        const offset = this.options.offset;\n        const ticks = [];\n        let labels = this.getLabels();\n        labels = min === 0 && max === labels.length - 1 ? labels : labels.slice(min, max + 1);\n        this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n        this._startValue = this.min - (offset ? 0.5 : 0);\n        for(let value = min; value <= max; value++){\n            ticks.push({\n                value\n            });\n        }\n        return ticks;\n    }\n    getLabelForValue(value) {\n        return _getLabelForValue.call(this, value);\n    }\n configure() {\n        super.configure();\n        if (!this.isHorizontal()) {\n            this._reversePixels = !this._reversePixels;\n        }\n    }\n    getPixelForValue(value) {\n        if (typeof value !== 'number') {\n            value = this.parse(value);\n        }\n        return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n    getPixelForTick(index) {\n        const ticks = this.ticks;\n        if (index < 0 || index > ticks.length - 1) {\n            return null;\n        }\n        return this.getPixelForValue(ticks[index].value);\n    }\n    getValueForPixel(pixel) {\n        return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n    }\n    getBasePixel() {\n        return this.bottom;\n    }\n}\n\nfunction generateTicks$1(generationOptions, dataRange) {\n    const ticks = [];\n    const MIN_SPACING = 1e-14;\n    const { bounds , step , min , max , precision , count , maxTicks , maxDigits , includeBounds  } = generationOptions;\n    const unit = step || 1;\n    const maxSpaces = maxTicks - 1;\n    const { min: rmin , max: rmax  } = dataRange;\n    const minDefined = !isNullOrUndef(min);\n    const maxDefined = !isNullOrUndef(max);\n    const countDefined = !isNullOrUndef(count);\n    const minSpacing = (rmax - rmin) / (maxDigits + 1);\n    let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n    let factor, niceMin, niceMax, numSpaces;\n    if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n        return [\n            {\n                value: rmin\n            },\n            {\n                value: rmax\n            }\n        ];\n    }\n    numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n    if (numSpaces > maxSpaces) {\n        spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n    }\n    if (!isNullOrUndef(precision)) {\n        factor = Math.pow(10, precision);\n        spacing = Math.ceil(spacing * factor) / factor;\n    }\n    if (bounds === 'ticks') {\n        niceMin = Math.floor(rmin / spacing) * spacing;\n        niceMax = Math.ceil(rmax / spacing) * spacing;\n    } else {\n        niceMin = rmin;\n        niceMax = rmax;\n    }\n    if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n        numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n        spacing = (max - min) / numSpaces;\n        niceMin = min;\n        niceMax = max;\n    } else if (countDefined) {\n        niceMin = minDefined ? min : niceMin;\n        niceMax = maxDefined ? max : niceMax;\n        numSpaces = count - 1;\n        spacing = (niceMax - niceMin) / numSpaces;\n    } else {\n        numSpaces = (niceMax - niceMin) / spacing;\n        if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n            numSpaces = Math.round(numSpaces);\n        } else {\n            numSpaces = Math.ceil(numSpaces);\n        }\n    }\n    const decimalPlaces = Math.max(_decimalPlaces(spacing), _decimalPlaces(niceMin));\n    factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n    niceMin = Math.round(niceMin * factor) / factor;\n    niceMax = Math.round(niceMax * factor) / factor;\n    let j = 0;\n    if (minDefined) {\n        if (includeBounds && niceMin !== min) {\n            ticks.push({\n                value: min\n            });\n            if (niceMin < min) {\n                j++;\n            }\n            if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n                j++;\n            }\n        } else if (niceMin < min) {\n            j++;\n        }\n    }\n    for(; j < numSpaces; ++j){\n        const tickValue = Math.round((niceMin + j * spacing) * factor) / factor;\n        if (maxDefined && tickValue > max) {\n            break;\n        }\n        ticks.push({\n            value: tickValue\n        });\n    }\n    if (maxDefined && includeBounds && niceMax !== max) {\n        if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n            ticks[ticks.length - 1].value = max;\n        } else {\n            ticks.push({\n                value: max\n            });\n        }\n    } else if (!maxDefined || niceMax === max) {\n        ticks.push({\n            value: niceMax\n        });\n    }\n    return ticks;\n}\nfunction relativeLabelSize(value, minSpacing, { horizontal , minRotation  }) {\n    const rad = toRadians(minRotation);\n    const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n    const length = 0.75 * minSpacing * ('' + value).length;\n    return Math.min(minSpacing / ratio, length);\n}\nclass LinearScaleBase extends Scale {\n    constructor(cfg){\n        super(cfg);\n         this.start = undefined;\n         this.end = undefined;\n         this._startValue = undefined;\n         this._endValue = undefined;\n        this._valueRange = 0;\n    }\n    parse(raw, index) {\n        if (isNullOrUndef(raw)) {\n            return null;\n        }\n        if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n            return null;\n        }\n        return +raw;\n    }\n    handleTickRangeOptions() {\n        const { beginAtZero  } = this.options;\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let { min , max  } = this;\n        const setMin = (v)=>min = minDefined ? min : v;\n        const setMax = (v)=>max = maxDefined ? max : v;\n        if (beginAtZero) {\n            const minSign = sign(min);\n            const maxSign = sign(max);\n            if (minSign < 0 && maxSign < 0) {\n                setMax(0);\n            } else if (minSign > 0 && maxSign > 0) {\n                setMin(0);\n            }\n        }\n        if (min === max) {\n            let offset = max === 0 ? 1 : Math.abs(max * 0.05);\n            setMax(max + offset);\n            if (!beginAtZero) {\n                setMin(min - offset);\n            }\n        }\n        this.min = min;\n        this.max = max;\n    }\n    getTickLimit() {\n        const tickOpts = this.options.ticks;\n        let { maxTicksLimit , stepSize  } = tickOpts;\n        let maxTicks;\n        if (stepSize) {\n            maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n            if (maxTicks > 1000) {\n                console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n                maxTicks = 1000;\n            }\n        } else {\n            maxTicks = this.computeTickLimit();\n            maxTicksLimit = maxTicksLimit || 11;\n        }\n        if (maxTicksLimit) {\n            maxTicks = Math.min(maxTicksLimit, maxTicks);\n        }\n        return maxTicks;\n    }\n computeTickLimit() {\n        return Number.POSITIVE_INFINITY;\n    }\n    buildTicks() {\n        const opts = this.options;\n        const tickOpts = opts.ticks;\n        let maxTicks = this.getTickLimit();\n        maxTicks = Math.max(2, maxTicks);\n        const numericGeneratorOptions = {\n            maxTicks,\n            bounds: opts.bounds,\n            min: opts.min,\n            max: opts.max,\n            precision: tickOpts.precision,\n            step: tickOpts.stepSize,\n            count: tickOpts.count,\n            maxDigits: this._maxDigits(),\n            horizontal: this.isHorizontal(),\n            minRotation: tickOpts.minRotation || 0,\n            includeBounds: tickOpts.includeBounds !== false\n        };\n        const dataRange = this._range || this;\n        const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n        if (opts.bounds === 'ticks') {\n            _setMinAndMaxByKey(ticks, this, 'value');\n        }\n        if (opts.reverse) {\n            ticks.reverse();\n            this.start = this.max;\n            this.end = this.min;\n        } else {\n            this.start = this.min;\n            this.end = this.max;\n        }\n        return ticks;\n    }\n configure() {\n        const ticks = this.ticks;\n        let start = this.min;\n        let end = this.max;\n        super.configure();\n        if (this.options.offset && ticks.length) {\n            const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n            start -= offset;\n            end += offset;\n        }\n        this._startValue = start;\n        this._endValue = end;\n        this._valueRange = end - start;\n    }\n    getLabelForValue(value) {\n        return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n    }\n}\n\nclass LinearScale extends LinearScaleBase {\n    static id = 'linear';\n static defaults = {\n        ticks: {\n            callback: Ticks.formatters.numeric\n        }\n    };\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(true);\n        this.min = isNumberFinite(min) ? min : 0;\n        this.max = isNumberFinite(max) ? max : 1;\n        this.handleTickRangeOptions();\n    }\n computeTickLimit() {\n        const horizontal = this.isHorizontal();\n        const length = horizontal ? this.width : this.height;\n        const minRotation = toRadians(this.options.ticks.minRotation);\n        const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n        const tickFont = this._resolveTickFontOptions(0);\n        return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n    }\n    getPixelForValue(value) {\n        return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n    getValueForPixel(pixel) {\n        return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n    }\n}\n\nconst log10Floor = (v)=>Math.floor(log10(v));\nconst changeExponent = (v, m)=>Math.pow(10, log10Floor(v) + m);\nfunction isMajor(tickVal) {\n    const remain = tickVal / Math.pow(10, log10Floor(tickVal));\n    return remain === 1;\n}\nfunction steps(min, max, rangeExp) {\n    const rangeStep = Math.pow(10, rangeExp);\n    const start = Math.floor(min / rangeStep);\n    const end = Math.ceil(max / rangeStep);\n    return end - start;\n}\nfunction startExp(min, max) {\n    const range = max - min;\n    let rangeExp = log10Floor(range);\n    while(steps(min, max, rangeExp) > 10){\n        rangeExp++;\n    }\n    while(steps(min, max, rangeExp) < 10){\n        rangeExp--;\n    }\n    return Math.min(rangeExp, log10Floor(min));\n}\n function generateTicks(generationOptions, { min , max  }) {\n    min = finiteOrDefault(generationOptions.min, min);\n    const ticks = [];\n    const minExp = log10Floor(min);\n    let exp = startExp(min, max);\n    let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n    const stepSize = Math.pow(10, exp);\n    const base = minExp > exp ? Math.pow(10, minExp) : 0;\n    const start = Math.round((min - base) * precision) / precision;\n    const offset = Math.floor((min - base) / stepSize / 10) * stepSize * 10;\n    let significand = Math.floor((start - offset) / Math.pow(10, exp));\n    let value = finiteOrDefault(generationOptions.min, Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision);\n    while(value < max){\n        ticks.push({\n            value,\n            major: isMajor(value),\n            significand\n        });\n        if (significand >= 10) {\n            significand = significand < 15 ? 15 : 20;\n        } else {\n            significand++;\n        }\n        if (significand >= 20) {\n            exp++;\n            significand = 2;\n            precision = exp >= 0 ? 1 : precision;\n        }\n        value = Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision;\n    }\n    const lastTick = finiteOrDefault(generationOptions.max, value);\n    ticks.push({\n        value: lastTick,\n        major: isMajor(lastTick),\n        significand\n    });\n    return ticks;\n}\nclass LogarithmicScale extends Scale {\n    static id = 'logarithmic';\n static defaults = {\n        ticks: {\n            callback: Ticks.formatters.logarithmic,\n            major: {\n                enabled: true\n            }\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this.start = undefined;\n         this.end = undefined;\n         this._startValue = undefined;\n        this._valueRange = 0;\n    }\n    parse(raw, index) {\n        const value = LinearScaleBase.prototype.parse.apply(this, [\n            raw,\n            index\n        ]);\n        if (value === 0) {\n            this._zero = true;\n            return undefined;\n        }\n        return isNumberFinite(value) && value > 0 ? value : null;\n    }\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(true);\n        this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n        this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n        if (this.options.beginAtZero) {\n            this._zero = true;\n        }\n        if (this._zero && this.min !== this._suggestedMin && !isNumberFinite(this._userMin)) {\n            this.min = min === changeExponent(this.min, 0) ? changeExponent(this.min, -1) : changeExponent(this.min, 0);\n        }\n        this.handleTickRangeOptions();\n    }\n    handleTickRangeOptions() {\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let min = this.min;\n        let max = this.max;\n        const setMin = (v)=>min = minDefined ? min : v;\n        const setMax = (v)=>max = maxDefined ? max : v;\n        if (min === max) {\n            if (min <= 0) {\n                setMin(1);\n                setMax(10);\n            } else {\n                setMin(changeExponent(min, -1));\n                setMax(changeExponent(max, +1));\n            }\n        }\n        if (min <= 0) {\n            setMin(changeExponent(max, -1));\n        }\n        if (max <= 0) {\n            setMax(changeExponent(min, +1));\n        }\n        this.min = min;\n        this.max = max;\n    }\n    buildTicks() {\n        const opts = this.options;\n        const generationOptions = {\n            min: this._userMin,\n            max: this._userMax\n        };\n        const ticks = generateTicks(generationOptions, this);\n        if (opts.bounds === 'ticks') {\n            _setMinAndMaxByKey(ticks, this, 'value');\n        }\n        if (opts.reverse) {\n            ticks.reverse();\n            this.start = this.max;\n            this.end = this.min;\n        } else {\n            this.start = this.min;\n            this.end = this.max;\n        }\n        return ticks;\n    }\n getLabelForValue(value) {\n        return value === undefined ? '0' : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n    }\n configure() {\n        const start = this.min;\n        super.configure();\n        this._startValue = log10(start);\n        this._valueRange = log10(this.max) - log10(start);\n    }\n    getPixelForValue(value) {\n        if (value === undefined || value === 0) {\n            value = this.min;\n        }\n        if (value === null || isNaN(value)) {\n            return NaN;\n        }\n        return this.getPixelForDecimal(value === this.min ? 0 : (log10(value) - this._startValue) / this._valueRange);\n    }\n    getValueForPixel(pixel) {\n        const decimal = this.getDecimalForPixel(pixel);\n        return Math.pow(10, this._startValue + decimal * this._valueRange);\n    }\n}\n\nfunction getTickBackdropHeight(opts) {\n    const tickOpts = opts.ticks;\n    if (tickOpts.display && opts.display) {\n        const padding = toPadding(tickOpts.backdropPadding);\n        return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n    }\n    return 0;\n}\nfunction measureLabelSize(ctx, font, label) {\n    label = isArray(label) ? label : [\n        label\n    ];\n    return {\n        w: _longestText(ctx, font.string, label),\n        h: label.length * font.lineHeight\n    };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n    if (angle === min || angle === max) {\n        return {\n            start: pos - size / 2,\n            end: pos + size / 2\n        };\n    } else if (angle < min || angle > max) {\n        return {\n            start: pos - size,\n            end: pos\n        };\n    }\n    return {\n        start: pos,\n        end: pos + size\n    };\n}\n function fitWithPointLabels(scale) {\n    const orig = {\n        l: scale.left + scale._padding.left,\n        r: scale.right - scale._padding.right,\n        t: scale.top + scale._padding.top,\n        b: scale.bottom - scale._padding.bottom\n    };\n    const limits = Object.assign({}, orig);\n    const labelSizes = [];\n    const padding = [];\n    const valueCount = scale._pointLabels.length;\n    const pointLabelOpts = scale.options.pointLabels;\n    const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n    for(let i = 0; i < valueCount; i++){\n        const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n        padding[i] = opts.padding;\n        const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n        const plFont = toFont(opts.font);\n        const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n        labelSizes[i] = textSize;\n        const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n        const angle = Math.round(toDegrees(angleRadians));\n        const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n        const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n        updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n    }\n    scale.setCenterPoint(orig.l - limits.l, limits.r - orig.r, orig.t - limits.t, limits.b - orig.b);\n    scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n    const sin = Math.abs(Math.sin(angle));\n    const cos = Math.abs(Math.cos(angle));\n    let x = 0;\n    let y = 0;\n    if (hLimits.start < orig.l) {\n        x = (orig.l - hLimits.start) / sin;\n        limits.l = Math.min(limits.l, orig.l - x);\n    } else if (hLimits.end > orig.r) {\n        x = (hLimits.end - orig.r) / sin;\n        limits.r = Math.max(limits.r, orig.r + x);\n    }\n    if (vLimits.start < orig.t) {\n        y = (orig.t - vLimits.start) / cos;\n        limits.t = Math.min(limits.t, orig.t - y);\n    } else if (vLimits.end > orig.b) {\n        y = (vLimits.end - orig.b) / cos;\n        limits.b = Math.max(limits.b, orig.b + y);\n    }\n}\nfunction createPointLabelItem(scale, index, itemOpts) {\n    const outerDistance = scale.drawingArea;\n    const { extra , additionalAngle , padding , size  } = itemOpts;\n    const pointLabelPosition = scale.getPointPosition(index, outerDistance + extra + padding, additionalAngle);\n    const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n    const y = yForAngle(pointLabelPosition.y, size.h, angle);\n    const textAlign = getTextAlignForAngle(angle);\n    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    return {\n        visible: true,\n        x: pointLabelPosition.x,\n        y,\n        textAlign,\n        left,\n        top: y,\n        right: left + size.w,\n        bottom: y + size.h\n    };\n}\nfunction isNotOverlapped(item, area) {\n    if (!area) {\n        return true;\n    }\n    const { left , top , right , bottom  } = item;\n    const apexesInArea = _isPointInArea({\n        x: left,\n        y: top\n    }, area) || _isPointInArea({\n        x: left,\n        y: bottom\n    }, area) || _isPointInArea({\n        x: right,\n        y: top\n    }, area) || _isPointInArea({\n        x: right,\n        y: bottom\n    }, area);\n    return !apexesInArea;\n}\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n    const items = [];\n    const valueCount = scale._pointLabels.length;\n    const opts = scale.options;\n    const { centerPointLabels , display  } = opts.pointLabels;\n    const itemOpts = {\n        extra: getTickBackdropHeight(opts) / 2,\n        additionalAngle: centerPointLabels ? PI / valueCount : 0\n    };\n    let area;\n    for(let i = 0; i < valueCount; i++){\n        itemOpts.padding = padding[i];\n        itemOpts.size = labelSizes[i];\n        const item = createPointLabelItem(scale, i, itemOpts);\n        items.push(item);\n        if (display === 'auto') {\n            item.visible = isNotOverlapped(item, area);\n            if (item.visible) {\n                area = item;\n            }\n        }\n    }\n    return items;\n}\nfunction getTextAlignForAngle(angle) {\n    if (angle === 0 || angle === 180) {\n        return 'center';\n    } else if (angle < 180) {\n        return 'left';\n    }\n    return 'right';\n}\nfunction leftForTextAlign(x, w, align) {\n    if (align === 'right') {\n        x -= w;\n    } else if (align === 'center') {\n        x -= w / 2;\n    }\n    return x;\n}\nfunction yForAngle(y, h, angle) {\n    if (angle === 90 || angle === 270) {\n        y -= h / 2;\n    } else if (angle > 270 || angle < 90) {\n        y -= h;\n    }\n    return y;\n}\nfunction drawPointLabelBox(ctx, opts, item) {\n    const { left , top , right , bottom  } = item;\n    const { backdropColor  } = opts;\n    if (!isNullOrUndef(backdropColor)) {\n        const borderRadius = toTRBLCorners(opts.borderRadius);\n        const padding = toPadding(opts.backdropPadding);\n        ctx.fillStyle = backdropColor;\n        const backdropLeft = left - padding.left;\n        const backdropTop = top - padding.top;\n        const backdropWidth = right - left + padding.width;\n        const backdropHeight = bottom - top + padding.height;\n        if (Object.values(borderRadius).some((v)=>v !== 0)) {\n            ctx.beginPath();\n            addRoundedRectPath(ctx, {\n                x: backdropLeft,\n                y: backdropTop,\n                w: backdropWidth,\n                h: backdropHeight,\n                radius: borderRadius\n            });\n            ctx.fill();\n        } else {\n            ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n        }\n    }\n}\nfunction drawPointLabels(scale, labelCount) {\n    const { ctx , options: { pointLabels  }  } = scale;\n    for(let i = labelCount - 1; i >= 0; i--){\n        const item = scale._pointLabelItems[i];\n        if (!item.visible) {\n            continue;\n        }\n        const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n        drawPointLabelBox(ctx, optsAtIndex, item);\n        const plFont = toFont(optsAtIndex.font);\n        const { x , y , textAlign  } = item;\n        renderText(ctx, scale._pointLabels[i], x, y + plFont.lineHeight / 2, plFont, {\n            color: optsAtIndex.color,\n            textAlign: textAlign,\n            textBaseline: 'middle'\n        });\n    }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n    const { ctx  } = scale;\n    if (circular) {\n        ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n    } else {\n        let pointPosition = scale.getPointPosition(0, radius);\n        ctx.moveTo(pointPosition.x, pointPosition.y);\n        for(let i = 1; i < labelCount; i++){\n            pointPosition = scale.getPointPosition(i, radius);\n            ctx.lineTo(pointPosition.x, pointPosition.y);\n        }\n    }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount, borderOpts) {\n    const ctx = scale.ctx;\n    const circular = gridLineOpts.circular;\n    const { color , lineWidth  } = gridLineOpts;\n    if (!circular && !labelCount || !color || !lineWidth || radius < 0) {\n        return;\n    }\n    ctx.save();\n    ctx.strokeStyle = color;\n    ctx.lineWidth = lineWidth;\n    ctx.setLineDash(borderOpts.dash);\n    ctx.lineDashOffset = borderOpts.dashOffset;\n    ctx.beginPath();\n    pathRadiusLine(scale, radius, circular, labelCount);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.restore();\n}\nfunction createPointLabelContext(parent, index, label) {\n    return createContext(parent, {\n        label,\n        index,\n        type: 'pointLabel'\n    });\n}\nclass RadialLinearScale extends LinearScaleBase {\n    static id = 'radialLinear';\n static defaults = {\n        display: true,\n        animate: true,\n        position: 'chartArea',\n        angleLines: {\n            display: true,\n            lineWidth: 1,\n            borderDash: [],\n            borderDashOffset: 0.0\n        },\n        grid: {\n            circular: false\n        },\n        startAngle: 0,\n        ticks: {\n            showLabelBackdrop: true,\n            callback: Ticks.formatters.numeric\n        },\n        pointLabels: {\n            backdropColor: undefined,\n            backdropPadding: 2,\n            display: true,\n            font: {\n                size: 10\n            },\n            callback (label) {\n                return label;\n            },\n            padding: 5,\n            centerPointLabels: false\n        }\n    };\n    static defaultRoutes = {\n        'angleLines.color': 'borderColor',\n        'pointLabels.color': 'color',\n        'ticks.color': 'color'\n    };\n    static descriptors = {\n        angleLines: {\n            _fallback: 'grid'\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this.xCenter = undefined;\n         this.yCenter = undefined;\n         this.drawingArea = undefined;\n         this._pointLabels = [];\n        this._pointLabelItems = [];\n    }\n    setDimensions() {\n        const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n        const w = this.width = this.maxWidth - padding.width;\n        const h = this.height = this.maxHeight - padding.height;\n        this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n        this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n        this.drawingArea = Math.floor(Math.min(w, h) / 2);\n    }\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(false);\n        this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n        this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n        this.handleTickRangeOptions();\n    }\n computeTickLimit() {\n        return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n    }\n    generateTickLabels(ticks) {\n        LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n        this._pointLabels = this.getLabels().map((value, index)=>{\n            const label = callback(this.options.pointLabels.callback, [\n                value,\n                index\n            ], this);\n            return label || label === 0 ? label : '';\n        }).filter((v, i)=>this.chart.getDataVisibility(i));\n    }\n    fit() {\n        const opts = this.options;\n        if (opts.display && opts.pointLabels.display) {\n            fitWithPointLabels(this);\n        } else {\n            this.setCenterPoint(0, 0, 0, 0);\n        }\n    }\n    setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n        this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n        this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n        this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n    }\n    getIndexAngle(index) {\n        const angleMultiplier = TAU / (this._pointLabels.length || 1);\n        const startAngle = this.options.startAngle || 0;\n        return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n    }\n    getDistanceFromCenterForValue(value) {\n        if (isNullOrUndef(value)) {\n            return NaN;\n        }\n        const scalingFactor = this.drawingArea / (this.max - this.min);\n        if (this.options.reverse) {\n            return (this.max - value) * scalingFactor;\n        }\n        return (value - this.min) * scalingFactor;\n    }\n    getValueForDistanceFromCenter(distance) {\n        if (isNullOrUndef(distance)) {\n            return NaN;\n        }\n        const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n        return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n    }\n    getPointLabelContext(index) {\n        const pointLabels = this._pointLabels || [];\n        if (index >= 0 && index < pointLabels.length) {\n            const pointLabel = pointLabels[index];\n            return createPointLabelContext(this.getContext(), index, pointLabel);\n        }\n    }\n    getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n        const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n        return {\n            x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n            y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n            angle\n        };\n    }\n    getPointPositionForValue(index, value) {\n        return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n    }\n    getBasePosition(index) {\n        return this.getPointPositionForValue(index || 0, this.getBaseValue());\n    }\n    getPointLabelPosition(index) {\n        const { left , top , right , bottom  } = this._pointLabelItems[index];\n        return {\n            left,\n            top,\n            right,\n            bottom\n        };\n    }\n drawBackground() {\n        const { backgroundColor , grid: { circular  }  } = this.options;\n        if (backgroundColor) {\n            const ctx = this.ctx;\n            ctx.save();\n            ctx.beginPath();\n            pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n            ctx.closePath();\n            ctx.fillStyle = backgroundColor;\n            ctx.fill();\n            ctx.restore();\n        }\n    }\n drawGrid() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        const { angleLines , grid , border  } = opts;\n        const labelCount = this._pointLabels.length;\n        let i, offset, position;\n        if (opts.pointLabels.display) {\n            drawPointLabels(this, labelCount);\n        }\n        if (grid.display) {\n            this.ticks.forEach((tick, index)=>{\n                if (index !== 0) {\n                    offset = this.getDistanceFromCenterForValue(tick.value);\n                    const context = this.getContext(index);\n                    const optsAtIndex = grid.setContext(context);\n                    const optsAtIndexBorder = border.setContext(context);\n                    drawRadiusLine(this, optsAtIndex, offset, labelCount, optsAtIndexBorder);\n                }\n            });\n        }\n        if (angleLines.display) {\n            ctx.save();\n            for(i = labelCount - 1; i >= 0; i--){\n                const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n                const { color , lineWidth  } = optsAtIndex;\n                if (!lineWidth || !color) {\n                    continue;\n                }\n                ctx.lineWidth = lineWidth;\n                ctx.strokeStyle = color;\n                ctx.setLineDash(optsAtIndex.borderDash);\n                ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n                offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\n                position = this.getPointPosition(i, offset);\n                ctx.beginPath();\n                ctx.moveTo(this.xCenter, this.yCenter);\n                ctx.lineTo(position.x, position.y);\n                ctx.stroke();\n            }\n            ctx.restore();\n        }\n    }\n drawBorder() {}\n drawLabels() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        const tickOpts = opts.ticks;\n        if (!tickOpts.display) {\n            return;\n        }\n        const startAngle = this.getIndexAngle(0);\n        let offset, width;\n        ctx.save();\n        ctx.translate(this.xCenter, this.yCenter);\n        ctx.rotate(startAngle);\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        this.ticks.forEach((tick, index)=>{\n            if (index === 0 && !opts.reverse) {\n                return;\n            }\n            const optsAtIndex = tickOpts.setContext(this.getContext(index));\n            const tickFont = toFont(optsAtIndex.font);\n            offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n            if (optsAtIndex.showLabelBackdrop) {\n                ctx.font = tickFont.string;\n                width = ctx.measureText(tick.label).width;\n                ctx.fillStyle = optsAtIndex.backdropColor;\n                const padding = toPadding(optsAtIndex.backdropPadding);\n                ctx.fillRect(-width / 2 - padding.left, -offset - tickFont.size / 2 - padding.top, width + padding.width, tickFont.size + padding.height);\n            }\n            renderText(ctx, tick.label, 0, -offset, tickFont, {\n                color: optsAtIndex.color,\n                strokeColor: optsAtIndex.textStrokeColor,\n                strokeWidth: optsAtIndex.textStrokeWidth\n            });\n        });\n        ctx.restore();\n    }\n drawTitle() {}\n}\n\nconst INTERVALS = {\n    millisecond: {\n        common: true,\n        size: 1,\n        steps: 1000\n    },\n    second: {\n        common: true,\n        size: 1000,\n        steps: 60\n    },\n    minute: {\n        common: true,\n        size: 60000,\n        steps: 60\n    },\n    hour: {\n        common: true,\n        size: 3600000,\n        steps: 24\n    },\n    day: {\n        common: true,\n        size: 86400000,\n        steps: 30\n    },\n    week: {\n        common: false,\n        size: 604800000,\n        steps: 4\n    },\n    month: {\n        common: true,\n        size: 2.628e9,\n        steps: 12\n    },\n    quarter: {\n        common: false,\n        size: 7.884e9,\n        steps: 4\n    },\n    year: {\n        common: true,\n        size: 3.154e10\n    }\n};\n const UNITS =  /* #__PURE__ */ Object.keys(INTERVALS);\n function sorter(a, b) {\n    return a - b;\n}\n function parse(scale, input) {\n    if (isNullOrUndef(input)) {\n        return null;\n    }\n    const adapter = scale._adapter;\n    const { parser , round , isoWeekday  } = scale._parseOpts;\n    let value = input;\n    if (typeof parser === 'function') {\n        value = parser(value);\n    }\n    if (!isNumberFinite(value)) {\n        value = typeof parser === 'string' ? adapter.parse(value,  parser) : adapter.parse(value);\n    }\n    if (value === null) {\n        return null;\n    }\n    if (round) {\n        value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true) ? adapter.startOf(value, 'isoWeek', isoWeekday) : adapter.startOf(value, round);\n    }\n    return +value;\n}\n function determineUnitForAutoTicks(minUnit, min, max, capacity) {\n    const ilen = UNITS.length;\n    for(let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i){\n        const interval = INTERVALS[UNITS[i]];\n        const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n        if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n            return UNITS[i];\n        }\n    }\n    return UNITS[ilen - 1];\n}\n function determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n    for(let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--){\n        const unit = UNITS[i];\n        if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n            return unit;\n        }\n    }\n    return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n function determineMajorUnit(unit) {\n    for(let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i){\n        if (INTERVALS[UNITS[i]].common) {\n            return UNITS[i];\n        }\n    }\n}\n function addTick(ticks, time, timestamps) {\n    if (!timestamps) {\n        ticks[time] = true;\n    } else if (timestamps.length) {\n        const { lo , hi  } = _lookup(timestamps, time);\n        const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n        ticks[timestamp] = true;\n    }\n}\n function setMajorTicks(scale, ticks, map, majorUnit) {\n    const adapter = scale._adapter;\n    const first = +adapter.startOf(ticks[0].value, majorUnit);\n    const last = ticks[ticks.length - 1].value;\n    let major, index;\n    for(major = first; major <= last; major = +adapter.add(major, 1, majorUnit)){\n        index = map[major];\n        if (index >= 0) {\n            ticks[index].major = true;\n        }\n    }\n    return ticks;\n}\n function ticksFromTimestamps(scale, values, majorUnit) {\n    const ticks = [];\n     const map = {};\n    const ilen = values.length;\n    let i, value;\n    for(i = 0; i < ilen; ++i){\n        value = values[i];\n        map[value] = i;\n        ticks.push({\n            value,\n            major: false\n        });\n    }\n    return ilen === 0 || !majorUnit ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n    static id = 'time';\n static defaults = {\n bounds: 'data',\n        adapters: {},\n        time: {\n            parser: false,\n            unit: false,\n            round: false,\n            isoWeekday: false,\n            minUnit: 'millisecond',\n            displayFormats: {}\n        },\n        ticks: {\n source: 'auto',\n            callback: false,\n            major: {\n                enabled: false\n            }\n        }\n    };\n constructor(props){\n        super(props);\n         this._cache = {\n            data: [],\n            labels: [],\n            all: []\n        };\n         this._unit = 'day';\n         this._majorUnit = undefined;\n        this._offsets = {};\n        this._normalized = false;\n        this._parseOpts = undefined;\n    }\n    init(scaleOpts, opts = {}) {\n        const time = scaleOpts.time || (scaleOpts.time = {});\n         const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n        adapter.init(opts);\n        mergeIf(time.displayFormats, adapter.formats());\n        this._parseOpts = {\n            parser: time.parser,\n            round: time.round,\n            isoWeekday: time.isoWeekday\n        };\n        super.init(scaleOpts);\n        this._normalized = opts.normalized;\n    }\n parse(raw, index) {\n        if (raw === undefined) {\n            return null;\n        }\n        return parse(this, raw);\n    }\n    beforeLayout() {\n        super.beforeLayout();\n        this._cache = {\n            data: [],\n            labels: [],\n            all: []\n        };\n    }\n    determineDataLimits() {\n        const options = this.options;\n        const adapter = this._adapter;\n        const unit = options.time.unit || 'day';\n        let { min , max , minDefined , maxDefined  } = this.getUserBounds();\n function _applyBounds(bounds) {\n            if (!minDefined && !isNaN(bounds.min)) {\n                min = Math.min(min, bounds.min);\n            }\n            if (!maxDefined && !isNaN(bounds.max)) {\n                max = Math.max(max, bounds.max);\n            }\n        }\n        if (!minDefined || !maxDefined) {\n            _applyBounds(this._getLabelBounds());\n            if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n                _applyBounds(this.getMinMax(false));\n            }\n        }\n        min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n        max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n        this.min = Math.min(min, max - 1);\n        this.max = Math.max(min + 1, max);\n    }\n _getLabelBounds() {\n        const arr = this.getLabelTimestamps();\n        let min = Number.POSITIVE_INFINITY;\n        let max = Number.NEGATIVE_INFINITY;\n        if (arr.length) {\n            min = arr[0];\n            max = arr[arr.length - 1];\n        }\n        return {\n            min,\n            max\n        };\n    }\n buildTicks() {\n        const options = this.options;\n        const timeOpts = options.time;\n        const tickOpts = options.ticks;\n        const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n        if (options.bounds === 'ticks' && timestamps.length) {\n            this.min = this._userMin || timestamps[0];\n            this.max = this._userMax || timestamps[timestamps.length - 1];\n        }\n        const min = this.min;\n        const max = this.max;\n        const ticks = _filterBetween(timestamps, min, max);\n        this._unit = timeOpts.unit || (tickOpts.autoSkip ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min)) : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n        this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined : determineMajorUnit(this._unit);\n        this.initOffsets(timestamps);\n        if (options.reverse) {\n            ticks.reverse();\n        }\n        return ticksFromTimestamps(this, ticks, this._majorUnit);\n    }\n    afterAutoSkip() {\n        if (this.options.offsetAfterAutoskip) {\n            this.initOffsets(this.ticks.map((tick)=>+tick.value));\n        }\n    }\n initOffsets(timestamps = []) {\n        let start = 0;\n        let end = 0;\n        let first, last;\n        if (this.options.offset && timestamps.length) {\n            first = this.getDecimalForValue(timestamps[0]);\n            if (timestamps.length === 1) {\n                start = 1 - first;\n            } else {\n                start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n            }\n            last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n            if (timestamps.length === 1) {\n                end = last;\n            } else {\n                end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n            }\n        }\n        const limit = timestamps.length < 3 ? 0.5 : 0.25;\n        start = _limitValue(start, 0, limit);\n        end = _limitValue(end, 0, limit);\n        this._offsets = {\n            start,\n            end,\n            factor: 1 / (start + 1 + end)\n        };\n    }\n _generate() {\n        const adapter = this._adapter;\n        const min = this.min;\n        const max = this.max;\n        const options = this.options;\n        const timeOpts = options.time;\n        const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n        const stepSize = valueOrDefault(options.ticks.stepSize, 1);\n        const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n        const hasWeekday = isNumber(weekday) || weekday === true;\n        const ticks = {};\n        let first = min;\n        let time, count;\n        if (hasWeekday) {\n            first = +adapter.startOf(first, 'isoWeek', weekday);\n        }\n        first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n        if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n            throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n        }\n        const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n        for(time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++){\n            addTick(ticks, time, timestamps);\n        }\n        if (time === max || options.bounds === 'ticks' || count === 1) {\n            addTick(ticks, time, timestamps);\n        }\n        return Object.keys(ticks).sort(sorter).map((x)=>+x);\n    }\n getLabelForValue(value) {\n        const adapter = this._adapter;\n        const timeOpts = this.options.time;\n        if (timeOpts.tooltipFormat) {\n            return adapter.format(value, timeOpts.tooltipFormat);\n        }\n        return adapter.format(value, timeOpts.displayFormats.datetime);\n    }\n format(value, format) {\n        const options = this.options;\n        const formats = options.time.displayFormats;\n        const unit = this._unit;\n        const fmt = format || formats[unit];\n        return this._adapter.format(value, fmt);\n    }\n _tickFormatFunction(time, index, ticks, format) {\n        const options = this.options;\n        const formatter = options.ticks.callback;\n        if (formatter) {\n            return callback(formatter, [\n                time,\n                index,\n                ticks\n            ], this);\n        }\n        const formats = options.time.displayFormats;\n        const unit = this._unit;\n        const majorUnit = this._majorUnit;\n        const minorFormat = unit && formats[unit];\n        const majorFormat = majorUnit && formats[majorUnit];\n        const tick = ticks[index];\n        const major = majorUnit && majorFormat && tick && tick.major;\n        return this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    }\n generateTickLabels(ticks) {\n        let i, ilen, tick;\n        for(i = 0, ilen = ticks.length; i < ilen; ++i){\n            tick = ticks[i];\n            tick.label = this._tickFormatFunction(tick.value, i, ticks);\n        }\n    }\n getDecimalForValue(value) {\n        return value === null ? NaN : (value - this.min) / (this.max - this.min);\n    }\n getPixelForValue(value) {\n        const offsets = this._offsets;\n        const pos = this.getDecimalForValue(value);\n        return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n    }\n getValueForPixel(pixel) {\n        const offsets = this._offsets;\n        const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n        return this.min + pos * (this.max - this.min);\n    }\n _getLabelSize(label) {\n        const ticksOpts = this.options.ticks;\n        const tickLabelWidth = this.ctx.measureText(label).width;\n        const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n        const cosRotation = Math.cos(angle);\n        const sinRotation = Math.sin(angle);\n        const tickFontSize = this._resolveTickFontOptions(0).size;\n        return {\n            w: tickLabelWidth * cosRotation + tickFontSize * sinRotation,\n            h: tickLabelWidth * sinRotation + tickFontSize * cosRotation\n        };\n    }\n _getLabelCapacity(exampleTime) {\n        const timeOpts = this.options.time;\n        const displayFormats = timeOpts.displayFormats;\n        const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n        const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [\n            exampleTime\n        ], this._majorUnit), format);\n        const size = this._getLabelSize(exampleLabel);\n        const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n        return capacity > 0 ? capacity : 1;\n    }\n getDataTimestamps() {\n        let timestamps = this._cache.data || [];\n        let i, ilen;\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const metas = this.getMatchingVisibleMetas();\n        if (this._normalized && metas.length) {\n            return this._cache.data = metas[0].controller.getAllParsedValues(this);\n        }\n        for(i = 0, ilen = metas.length; i < ilen; ++i){\n            timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n        }\n        return this._cache.data = this.normalize(timestamps);\n    }\n getLabelTimestamps() {\n        const timestamps = this._cache.labels || [];\n        let i, ilen;\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const labels = this.getLabels();\n        for(i = 0, ilen = labels.length; i < ilen; ++i){\n            timestamps.push(parse(this, labels[i]));\n        }\n        return this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps);\n    }\n normalize(values) {\n        return _arrayUnique(values.sort(sorter));\n    }\n}\n\nfunction interpolate(table, val, reverse) {\n    let lo = 0;\n    let hi = table.length - 1;\n    let prevSource, nextSource, prevTarget, nextTarget;\n    if (reverse) {\n        if (val >= table[lo].pos && val <= table[hi].pos) {\n            ({ lo , hi  } = _lookupByKey(table, 'pos', val));\n        }\n        ({ pos: prevSource , time: prevTarget  } = table[lo]);\n        ({ pos: nextSource , time: nextTarget  } = table[hi]);\n    } else {\n        if (val >= table[lo].time && val <= table[hi].time) {\n            ({ lo , hi  } = _lookupByKey(table, 'time', val));\n        }\n        ({ time: prevSource , pos: prevTarget  } = table[lo]);\n        ({ time: nextSource , pos: nextTarget  } = table[hi]);\n    }\n    const span = nextSource - prevSource;\n    return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n    static id = 'timeseries';\n static defaults = TimeScale.defaults;\n constructor(props){\n        super(props);\n         this._table = [];\n         this._minPos = undefined;\n         this._tableRange = undefined;\n    }\n initOffsets() {\n        const timestamps = this._getTimestampsForTable();\n        const table = this._table = this.buildLookupTable(timestamps);\n        this._minPos = interpolate(table, this.min);\n        this._tableRange = interpolate(table, this.max) - this._minPos;\n        super.initOffsets(timestamps);\n    }\n buildLookupTable(timestamps) {\n        const { min , max  } = this;\n        const items = [];\n        const table = [];\n        let i, ilen, prev, curr, next;\n        for(i = 0, ilen = timestamps.length; i < ilen; ++i){\n            curr = timestamps[i];\n            if (curr >= min && curr <= max) {\n                items.push(curr);\n            }\n        }\n        if (items.length < 2) {\n            return [\n                {\n                    time: min,\n                    pos: 0\n                },\n                {\n                    time: max,\n                    pos: 1\n                }\n            ];\n        }\n        for(i = 0, ilen = items.length; i < ilen; ++i){\n            next = items[i + 1];\n            prev = items[i - 1];\n            curr = items[i];\n            if (Math.round((next + prev) / 2) !== curr) {\n                table.push({\n                    time: curr,\n                    pos: i / (ilen - 1)\n                });\n            }\n        }\n        return table;\n    }\n _generate() {\n        const min = this.min;\n        const max = this.max;\n        let timestamps = super.getDataTimestamps();\n        if (!timestamps.includes(min) || !timestamps.length) {\n            timestamps.splice(0, 0, min);\n        }\n        if (!timestamps.includes(max) || timestamps.length === 1) {\n            timestamps.push(max);\n        }\n        return timestamps.sort((a, b)=>a - b);\n    }\n _getTimestampsForTable() {\n        let timestamps = this._cache.all || [];\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const data = this.getDataTimestamps();\n        const label = this.getLabelTimestamps();\n        if (data.length && label.length) {\n            timestamps = this.normalize(data.concat(label));\n        } else {\n            timestamps = data.length ? data : label;\n        }\n        timestamps = this._cache.all = timestamps;\n        return timestamps;\n    }\n getDecimalForValue(value) {\n        return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n    }\n getValueForPixel(pixel) {\n        const offsets = this._offsets;\n        const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n        return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n    }\n}\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n    controllers,\n    elements,\n    plugins,\n    scales\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, plugin_colors as Colors, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, index as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, defaults, elements, layouts, plugins, registerables, registry, scales };\n//# sourceMappingURL=chart.js.map\n","import { version, isProxy, toRaw, defineComponent, ref, shallowRef, onMounted, onBeforeUnmount, watch, h } from 'vue';\nimport { Chart as Chart$1, BarController, DoughnutController, LineController, PieController, PolarAreaController, RadarController, BubbleController, ScatterController } from 'chart.js';\n\nconst CommonProps = {\n    data: {\n        type: Object,\n        required: true\n    },\n    options: {\n        type: Object,\n        default: ()=>({})\n    },\n    plugins: {\n        type: Array,\n        default: ()=>[]\n    },\n    datasetIdKey: {\n        type: String,\n        default: \"label\"\n    },\n    updateMode: {\n        type: String,\n        default: undefined\n    }\n};\nconst Props = {\n    type: {\n        type: String,\n        required: true\n    },\n    ...CommonProps\n};\n\nconst compatProps = version[0] === \"2\" ? (internals, props)=>Object.assign(internals, {\n        attrs: props\n    }) : (internals, props)=>Object.assign(internals, props);\nfunction toRawIfProxy(obj) {\n    return isProxy(obj) ? toRaw(obj) : obj;\n}\nfunction cloneProxy(obj) {\n    let src = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : obj;\n    return isProxy(src) ? new Proxy(obj, {}) : obj;\n}\nfunction setOptions(chart, nextOptions) {\n    const options = chart.options;\n    if (options && nextOptions) {\n        Object.assign(options, nextOptions);\n    }\n}\nfunction setLabels(currentData, nextLabels) {\n    currentData.labels = nextLabels;\n}\nfunction setDatasets(currentData, nextDatasets, datasetIdKey) {\n    const addedDatasets = [];\n    currentData.datasets = nextDatasets.map((nextDataset)=>{\n        // given the new set, find it's current match\n        const currentDataset = currentData.datasets.find((dataset)=>dataset[datasetIdKey] === nextDataset[datasetIdKey]);\n        // There is no original to update, so simply add new one\n        if (!currentDataset || !nextDataset.data || addedDatasets.includes(currentDataset)) {\n            return {\n                ...nextDataset\n            };\n        }\n        addedDatasets.push(currentDataset);\n        Object.assign(currentDataset, nextDataset);\n        return currentDataset;\n    });\n}\nfunction cloneData(data, datasetIdKey) {\n    const nextData = {\n        labels: [],\n        datasets: []\n    };\n    setLabels(nextData, data.labels);\n    setDatasets(nextData, data.datasets, datasetIdKey);\n    return nextData;\n}\n/**\n * Get dataset from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */ function getDatasetAtEvent(chart, event) {\n    return chart.getElementsAtEventForMode(event, \"dataset\", {\n        intersect: true\n    }, false);\n}\n/**\n * Get single dataset element from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */ function getElementAtEvent(chart, event) {\n    return chart.getElementsAtEventForMode(event, \"nearest\", {\n        intersect: true\n    }, false);\n}\n/**\n * Get all dataset elements from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */ function getElementsAtEvent(chart, event) {\n    return chart.getElementsAtEventForMode(event, \"index\", {\n        intersect: true\n    }, false);\n}\n\nconst Chart = defineComponent({\n    props: Props,\n    setup (props, param) {\n        let { expose  } = param;\n        const canvasRef = ref(null);\n        const chartRef = shallowRef(null);\n        expose({\n            chart: chartRef\n        });\n        const renderChart = ()=>{\n            if (!canvasRef.value) return;\n            const { type , data , options , plugins , datasetIdKey  } = props;\n            const clonedData = cloneData(data, datasetIdKey);\n            const proxiedData = cloneProxy(clonedData, data);\n            chartRef.value = new Chart$1(canvasRef.value, {\n                type,\n                data: proxiedData,\n                options: {\n                    ...options\n                },\n                plugins\n            });\n        };\n        const destroyChart = ()=>{\n            const chart = toRaw(chartRef.value);\n            if (chart) {\n                chart.destroy();\n                chartRef.value = null;\n            }\n        };\n        const update = (chart)=>{\n            chart.update(props.updateMode);\n        };\n        onMounted(renderChart);\n        onBeforeUnmount(destroyChart);\n        watch([\n            ()=>props.options,\n            ()=>props.data\n        ], (param, param1)=>{\n            let [nextOptionsProxy, nextDataProxy] = param, [prevOptionsProxy, prevDataProxy] = param1;\n            const chart = toRaw(chartRef.value);\n            if (!chart) {\n                return;\n            }\n            let shouldUpdate = false;\n            if (nextOptionsProxy) {\n                const nextOptions = toRawIfProxy(nextOptionsProxy);\n                const prevOptions = toRawIfProxy(prevOptionsProxy);\n                if (nextOptions && nextOptions !== prevOptions) {\n                    setOptions(chart, nextOptions);\n                    shouldUpdate = true;\n                }\n            }\n            if (nextDataProxy) {\n                const nextLabels = toRawIfProxy(nextDataProxy.labels);\n                const prevLabels = toRawIfProxy(prevDataProxy.labels);\n                const nextDatasets = toRawIfProxy(nextDataProxy.datasets);\n                const prevDatasets = toRawIfProxy(prevDataProxy.datasets);\n                if (nextLabels !== prevLabels) {\n                    setLabels(chart.config.data, nextLabels);\n                    shouldUpdate = true;\n                }\n                if (nextDatasets && nextDatasets !== prevDatasets) {\n                    setDatasets(chart.config.data, nextDatasets, props.datasetIdKey);\n                    shouldUpdate = true;\n                }\n            }\n            if (shouldUpdate) {\n                update(chart);\n            }\n        }, {\n            deep: true\n        });\n        return ()=>{\n            return h(\"canvas\", {\n                ref: canvasRef\n            });\n        };\n    }\n});\n\nfunction createTypedChart(type, registerables) {\n    Chart$1.register(registerables);\n    return defineComponent({\n        props: CommonProps,\n        setup (props, param) {\n            let { expose  } = param;\n            const ref = shallowRef(null);\n            const reforwardRef = (chartRef)=>{\n                ref.value = chartRef?.chart;\n            };\n            expose({\n                chart: ref\n            });\n            return ()=>{\n                return h(Chart, compatProps({\n                    ref: reforwardRef\n                }, {\n                    type,\n                    ...props\n                }));\n            };\n        }\n    });\n}\nconst Bar = /* #__PURE__ */ createTypedChart(\"bar\", BarController);\nconst Doughnut = /* #__PURE__ */ createTypedChart(\"doughnut\", DoughnutController);\nconst Line = /* #__PURE__ */ createTypedChart(\"line\", LineController);\nconst Pie = /* #__PURE__ */ createTypedChart(\"pie\", PieController);\nconst PolarArea = /* #__PURE__ */ createTypedChart(\"polarArea\", PolarAreaController);\nconst Radar = /* #__PURE__ */ createTypedChart(\"radar\", RadarController);\nconst Bubble = /* #__PURE__ */ createTypedChart(\"bubble\", BubbleController);\nconst Scatter = /* #__PURE__ */ createTypedChart(\"scatter\", ScatterController);\n\nexport { Bar, Bubble, Chart, Doughnut, Line, Pie, PolarArea, Radar, Scatter, createTypedChart, getDatasetAtEvent, getElementAtEvent, getElementsAtEvent };\n//# sourceMappingURL=index.js.map\n","import { render } from \"./D3Model.vue?vue&type=template&id=4d66922a\"\nimport script from \"./D3Model.vue?vue&type=script&lang=js\"\nexport * from \"./D3Model.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"row row-cols-1 row-cols-sm-4 g-4 pt-4\">\n    <template v-for=\"(item, index) in inforList\" :key=\"index\">\n      <div class=\"col\">\n        <div\n          class=\"card h-100 border\"\n          :class=\"item.bg\"\n        >\n          <div class=\"card-header text-center h5\">{{ item.name }}</div>\n          <div class=\"card-body position-relative\">\n            <i class=\"opacity-50 position-absolute top-0 h1 start-0 p-3\" :class=\"item.icon\"></i>\n            <div class=\"card-text py-4 d-flex flex-column align-items-center\">\n                <div class=\"h1\">\n                    {{ this.$toCurrency(item.num) }}\n                </div>\n                <h6>{{item.description}}</h6>\n            </div>\n            <div class=\"opacity-50 position-absolute bottom-0 end-0 p-3\">\n                <h3>件</h3>\n            </div>\n          </div>\n        </div>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      inforList: [\n        {\n          name: '本年度未完成案子',\n          num: 66,\n          icon: 'bi bi-file-text',\n          content: '2023度案子數量',\n          bg: 'border-warning-subtle text-warning-emphasis bg-warning-subtle',\n        },\n        {\n          name: '已完成，等待尾款案子',\n          num: 80,\n          icon: 'bi bi-file-text',\n          content: '公司員工',\n          bg: 'border-info-subtle text-info-emphasis bg-info-subtle',\n        },\n        {\n          name: '本年度完成案子',\n          num: 180,\n          icon: 'bi bi-file-text',\n          content: '2023度案子總金額',\n          bg: 'border-success-subtle text-success-emphasis bg-success-subtle',\n        },\n        {\n          name: '取消案子',\n          num: 26,\n          icon: 'bi bi-x-lg',\n          content: '合作廠商',\n          bg: 'border-danger-subtle text-danger-emphasis bg-danger-subtle',\n        },\n      ],\n    };\n  },\n};\n</script>\n","import { render } from \"./CaseModel.vue?vue&type=template&id=70eac132\"\nimport script from \"./CaseModel.vue?vue&type=script&lang=js\"\nexport * from \"./CaseModel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <Bar id=\"my-chart-id\" :options=\"chartOptions\" :data=\"chartData\" />\n</template>\n\n<script>\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { Bar } from 'vue-chartjs';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport {\n  Chart as ChartJS,\n  Title,\n  Tooltip,\n  Legend,\n  BarElement,\n  CategoryScale,\n  LinearScale,\n} from 'chart.js';\n\nChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\n\nexport default {\n  name: 'BarChart',\n  components: { Bar },\n  data() {\n    return {\n      chartData: {\n        labels: [\n          'Q1',\n          'Q2',\n          'Q3',\n          'Q4',\n        ],\n        datasets: [{ label: '每季報表', backgroundColor: '#888888', data: [142, 179, 179, 123] }],\n      },\n      chartOptions: {\n        responsive: true,\n      },\n    };\n  },\n};\n</script>\n","import { render } from \"./BarModel.vue?vue&type=template&id=3e8b4af1\"\nimport script from \"./BarModel.vue?vue&type=script&lang=js\"\nexport * from \"./BarModel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <Line :data=\"chartData\" :options=\"chartOptions\" />\n</template>\n\n<script>\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { Line } from 'vue-chartjs';\n\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\n\nexport default {\n  name: 'App',\n  components: {\n    Line,\n  },\n  data() {\n    return {\n      chartData: {\n        labels: ['Q1', 'Q2', 'Q3', 'Q4'],\n        datasets: [\n          {\n            label: '2021',\n            backgroundColor: '#f87979',\n            data: [40, 39, 10, 40],\n          },\n          {\n            label: '2022',\n            backgroundColor: '#e7e7ee7',\n            data: [60, 79, 90, 70],\n          },\n          {\n            label: '2023',\n            backgroundColor: '#478058',\n            data: [50, 100, 75, 65],\n          },\n        ],\n      },\n      chartOptions: {\n        responsive: true,\n      },\n    };\n  },\n};\n</script>\n","import { render } from \"./LineModel.vue?vue&type=template&id=2350a8d2\"\nimport script from \"./LineModel.vue?vue&type=script&lang=js\"\nexport * from \"./LineModel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <h1>公司行事曆</h1>\n  <FullCalendar :options=\"calendarOptions\" />\n</template>\n\n<script>\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport FullCalendar from '@fullcalendar/vue3';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport dayGridPlugin from '@fullcalendar/daygrid';\n\nexport default {\n  components: {\n    FullCalendar, // make the <FullCalendar> tag available\n  },\n  data() {\n    return {\n      calendarOptions: {\n        plugins: [dayGridPlugin],\n        initialView: 'dayGridMonth',\n        weekends: false,\n        events: [{ title: 'Meeting', start: new Date() }],\n      },\n    };\n  },\n};\n</script>\n","var n,l,u,i,t,r,o,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,i){var t,r,o,f={};for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return p(l,f,t,r,null)}function p(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function d(){return{current:null}}function _(n){return n.children}function k(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||g(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||g(n,r,l[r],u[r],i)}function b(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function g(n,l,u,i,t){var r;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||b(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||b(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])r=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?w:m,r):n.removeEventListener(l,r?w:m,r);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&-1==l.indexOf(\"-\")?n.removeAttribute(l):n.setAttribute(l,u))}}function m(n){t=!0;try{return this.l[n.type+!1](l.event?l.event(n):n)}finally{t=!1}}function w(n){t=!0;try{return this.l[n.type+!0](l.event?l.event(n):n)}finally{t=!1}}function x(n,l){this.props=n,this.context=l}function A(n,l){if(null==l)return n.__?A(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?A(n):null}function P(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return P(n)}}function C(n){t?setTimeout(n):f(n)}function T(n){(!n.__d&&(n.__d=!0)&&r.push(n)&&!$.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||C)($)}function $(){var n,l,u,i,t,o,f,e;for(r.sort(function(n,l){return n.__v.__b-l.__v.__b});n=r.shift();)n.__d&&(l=r.length,i=void 0,t=void 0,f=(o=(u=n).__v).__e,(e=u.__P)&&(i=[],(t=h({},o)).__v=o.__v+1,M(e,o,t,u.__n,void 0!==e.ownerSVGElement,null!=o.__h?[f]:null,i,null==f?A(o):f,o.__h),N(i,o),o.__e!=f&&P(o)),r.length>l&&r.sort(function(n,l){return n.__v.__b-l.__v.__b}));$.__r=0}function H(n,l,u,i,t,r,o,f,e,a){var h,v,y,d,k,b,g,m=i&&i.__k||s,w=m.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(d=u.__k[h]=null==(d=l[h])||\"boolean\"==typeof d?null:\"string\"==typeof d||\"number\"==typeof d||\"bigint\"==typeof d?p(null,d,null,null,d):Array.isArray(d)?p(_,{children:d},null,null,null):d.__b>0?p(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)){if(d.__=u,d.__b=u.__b+1,null===(y=m[h])||y&&d.key==y.key&&d.type===y.type)m[h]=void 0;else for(v=0;v<w;v++){if((y=m[v])&&d.key==y.key&&d.type===y.type){m[v]=void 0;break}y=null}M(n,d,y=y||c,t,r,o,f,e,a),k=d.__e,(v=d.ref)&&y.ref!=v&&(g||(g=[]),y.ref&&g.push(y.ref,null,d),g.push(v,d.__c||k,d)),null!=k?(null==b&&(b=k),\"function\"==typeof d.type&&d.__k===y.__k?d.__d=e=I(d,e,n):e=z(n,d,y,m,k,e),\"function\"==typeof u.type&&(u.__d=e)):e&&y.__e==e&&e.parentNode!=n&&(e=A(y))}for(u.__e=b,h=w;h--;)null!=m[h]&&(\"function\"==typeof u.type&&null!=m[h].__e&&m[h].__e==u.__d&&(u.__d=L(i).nextSibling),q(m[h],m[h]));if(g)for(h=0;h<g.length;h++)S(g[h],g[++h],g[++h])}function I(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l=\"function\"==typeof i.type?I(i,l,u):z(u,i,i,t,i.__e,l));return l}function j(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){j(n,l)}):l.push(n)),l}function z(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function L(n){var l,u,i;if(null==n.type||\"string\"==typeof n.type)return n.__e;if(n.__k)for(l=n.__k.length-1;l>=0;l--)if((u=n.__k[l])&&(i=L(u)))return i;return null}function M(n,u,i,t,r,o,f,e,c){var s,a,v,y,p,d,k,b,g,m,w,A,P,C,T,$=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof $){if(b=u.props,g=(s=$.contextType)&&t[s.__c],m=s?g?g.props.value:s.__:t,i.__c?k=(a=u.__c=i.__c).__=a.__E:(\"prototype\"in $&&$.prototype.render?u.__c=a=new $(b,m):(u.__c=a=new x(b,m),a.constructor=$,a.render=B),g&&g.sub(a),a.props=b,a.state||(a.state={}),a.context=m,a.__n=t,v=a.__d=!0,a.__h=[],a._sb=[]),null==a.__s&&(a.__s=a.state),null!=$.getDerivedStateFromProps&&(a.__s==a.state&&(a.__s=h({},a.__s)),h(a.__s,$.getDerivedStateFromProps(b,a.__s))),y=a.props,p=a.state,a.__v=u,v)null==$.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.__h.push(a.componentDidMount);else{if(null==$.getDerivedStateFromProps&&b!==y&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(b,m),!a.__e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(b,a.__s,m)||u.__v===i.__v){for(u.__v!==i.__v&&(a.props=b,a.state=a.__s,a.__d=!1),u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),w=0;w<a._sb.length;w++)a.__h.push(a._sb[w]);a._sb=[],a.__h.length&&f.push(a);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(b,a.__s,m),null!=a.componentDidUpdate&&a.__h.push(function(){a.componentDidUpdate(y,p,d)})}if(a.context=m,a.props=b,a.__P=n,A=l.__r,P=0,\"prototype\"in $&&$.prototype.render){for(a.state=a.__s,a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),C=0;C<a._sb.length;C++)a.__h.push(a._sb[C]);a._sb=[]}else do{a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),a.state=a.__s}while(a.__d&&++P<25);a.state=a.__s,null!=a.getChildContext&&(t=h(h({},t),a.getChildContext())),v||null==a.getSnapshotBeforeUpdate||(d=a.getSnapshotBeforeUpdate(y,p)),T=null!=s&&s.type===_&&null==s.key?s.props.children:s,H(n,Array.isArray(T)?T:[T],u,i,t,r,o,f,e,c),a.base=u.__e,u.__h=null,a.__h.length&&f.push(a),k&&(a.__E=a.__=null),a.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=O(i.__e,u,i,t,r,o,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,i)}}function N(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function O(l,u,i,t,r,o,f,e){var s,a,h,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),o=null,e=!1}if(null===d)y===p||e&&l.data===p||(l.data=p);else{if(o=o&&n.call(l.childNodes),a=(y=i.props||c).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!e){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===l.innerHTML)||(l.innerHTML=h&&h.__html||\"\"))}if(k(l,p,y,r,e),h)u.__k=[];else if(_=u.props.children,H(l,Array.isArray(_)?_:[_],u,i,t,r&&\"foreignObject\"!==d,o,f,o?o[0]:i.__k&&A(i,0),e),null!=o)for(_=o.length;_--;)null!=o[_]&&v(o[_]);e||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_||\"option\"===d&&_!==y.value)&&g(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&g(l,\"checked\",_,y.checked,!1))}return l}function S(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function q(n,u,i){var t,r;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||S(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&q(t[r],u,i||\"function\"!=typeof n.type);i||null==n.__e||v(n.__e),n.__=n.__e=n.__d=void 0}function B(n,l,u){return this.constructor(n,u)}function D(u,i,t){var r,o,f;l.__&&l.__(u,i),o=(r=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],M(i,u=(!r&&t||i).__k=y(_,null,[u]),o||c,c,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),N(f,u)}function E(n,l){D(n,l,E)}function F(l,u,i){var t,r,o,f=h({},l.props);for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),p(l.type,f,t||l.key,r||l.ref,null)}function G(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,T(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,i){for(var t,r,o;l=l.__;)if((t=l.__c)&&!t.__)try{if((r=t.constructor)&&null!=r.getDerivedStateFromError&&(t.setState(r.getDerivedStateFromError(n)),o=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),o=t.__d),o)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},t=!1,x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),\"function\"==typeof n&&(n=n(h({},u),this.props)),n&&h(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),T(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),T(this))},x.prototype.render=_,r=[],f=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$.__r=0,e=0;export{x as Component,_ as Fragment,F as cloneElement,G as createContext,y as createElement,d as createRef,y as h,E as hydrate,i as isValidElement,l as options,D as render,j as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function p(n){return o=1,y(B,n)}function y(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){r.u=!0;var f=r.shouldComponentUpdate;r.shouldComponentUpdate=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!f||f.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!f||f.call(this,n,t,r))}}return o.__N||o.__}function h(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function s(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,s(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=p();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[])),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,h as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,s as useLayoutEffect,F as useMemo,y as useReducer,_ as useRef,p as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useId as s,useReducer as h,useEffect as v,useLayoutEffect as d,useRef as p,useImperativeHandle as m,useMemo as y,useCallback as _,useContext as b,useDebugValue as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n,t){return n===t&&(0!==n||1/n==1/t)||n!=n&&t!=t}function w(n){this.props=n}function R(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(w.prototype=new n).isPureReactComponent=!0,w.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var x=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),x&&x(n)};var N=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function k(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=N,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var A=function(n,t){return null==n?null:r(r(n).map(t))},O={map:A,forEach:A,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},T=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);T(n,t,e,r)};var I=e.unmount;function L(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return L(n,t,e)})),n}function U(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return U(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function D(){this.__u=0,this.t=null,this.__b=null}function F(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function M(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function V(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),I&&I(n)},(D.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=F(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=U(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},D.prototype.componentWillUnmount=function(){this.t=[]},D.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=L(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__h=null),[t(u,null,e.__a?null:n.children),i]};var W=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function P(n){return this.getChildContext=function(){return n.context},n.children}function $(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),n.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(P,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function j(n,e){var r=t($,{__v:n,i:e});return r.containerInfo=e,r}(V.prototype=new n).__a=function(n){var t=this,e=F(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),W(t,n,r)):u()};e?e(o):o()}},V.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},V.prototype.componentDidUpdate=V.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){W(n,e,t)})};var z=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,B=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,H=\"undefined\"!=typeof document,Z=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function Y(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function q(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var G=e.event;function J(){}function K(){return this.cancelBubble}function Q(){return this.defaultPrevented}e.event=function(n){return G&&(n=G(n)),n.persist=J,n.isPropagationStopped=K,n.isDefaultPrevented=Q,n.nativeEvent=n};var X,nn={configurable:!0,get:function(){return this.class}},tn=e.vnode;e.vnode=function(n){var t=n.type,e=n.props,u=e;if(\"string\"==typeof t){var o=-1===t.indexOf(\"-\");for(var i in u={},e){var l=e[i];H&&\"children\"===i&&\"noscript\"===t||\"value\"===i&&\"defaultValue\"in e&&null==l||(\"defaultValue\"===i&&\"value\"in e&&null==e.value?i=\"value\":\"download\"===i&&!0===l?l=\"\":/ondoubleclick/i.test(i)?i=\"ondblclick\":/^onchange(textarea|input)/i.test(i+t)&&!Z(e.type)?i=\"oninput\":/^onfocus$/i.test(i)?i=\"onfocusin\":/^onblur$/i.test(i)?i=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&B.test(i)?i=i.replace(/[A-Z0-9]/g,\"-$&\").toLowerCase():null===l&&(l=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),u[i]&&(i=\"oninputCapture\")),u[i]=l)}\"select\"==t&&u.multiple&&Array.isArray(u.value)&&(u.value=r(e.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==t&&null!=u.defaultValue&&(u.value=r(e.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),n.props=u,e.class!=e.className&&(nn.enumerable=\"className\"in e,null!=e.className&&(u.class=e.className),Object.defineProperty(u,\"className\",nn))}n.$$typeof=z,tn&&tn(n)};var en=e.__r;e.__r=function(n){en&&en(n),X=n.__c};var rn={ReactCurrentDispatcher:{current:{readContext:function(n){return X.__n[n.__c].props.value}}}},un=\"17.0.2\";function on(n){return t.bind(null,n)}function ln(n){return!!n&&n.$$typeof===z}function cn(n){return ln(n)?f.apply(null,arguments):n}function fn(n){return!!n.__k&&(o(null,n),!0)}function an(n){return n&&(n.base||1===n.nodeType&&n)||null}var sn=function(n,t){return n(t)},hn=function(n,t){return n(t)},vn=u;function dn(n){n()}function pn(n){return n}function mn(){return[!1,dn]}var yn=d;function _n(n,t){var e=t(),r=a({h:{__:e,v:t}}),u=r[0].h,o=r[1];return d(function(){u.__=e,u.v=t,E(u.__,t())||o({h:u})},[n,e,t]),v(function(){return E(u.__,u.v())||o({h:u}),n(function(){E(u.__,u.v())||o({h:u})})},[n]),e}var bn={useState:a,useId:s,useReducer:h,useEffect:v,useLayoutEffect:d,useInsertionEffect:yn,useTransition:mn,useDeferredValue:pn,useSyncExternalStore:_n,startTransition:dn,useRef:p,useImperativeHandle:m,useMemo:y,useCallback:_,useContext:b,useDebugValue:S,version:\"17.0.2\",Children:O,render:Y,hydrate:q,unmountComponentAtNode:fn,createPortal:j,createElement:t,createContext:l,createFactory:on,cloneElement:cn,createRef:c,Fragment:u,isValidElement:ln,findDOMNode:an,Component:n,PureComponent:w,memo:R,forwardRef:k,flushSync:hn,unstable_batchedUpdates:sn,StrictMode:vn,Suspense:D,SuspenseList:V,lazy:M,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:rn};export{O as Children,w as PureComponent,vn as StrictMode,D as Suspense,V as SuspenseList,rn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cn as cloneElement,on as createFactory,j as createPortal,bn as default,an as findDOMNode,hn as flushSync,k as forwardRef,q as hydrate,ln as isValidElement,M as lazy,R as memo,Y as render,dn as startTransition,fn as unmountComponentAtNode,sn as unstable_batchedUpdates,pn as useDeferredValue,yn as useInsertionEffect,_n as useSyncExternalStore,mn as useTransition,un as version};\n//# sourceMappingURL=compat.module.js.map\n","import * as preact from 'preact';\nimport { Component, createElement, isValidElement, Fragment } from 'preact';\nimport { createPortal } from 'preact/compat';\n\nconst styleTexts = [];\nconst styleEls = new Map();\nfunction injectStyles(styleText) {\n    styleTexts.push(styleText);\n    styleEls.forEach((styleEl) => {\n        appendStylesTo(styleEl, styleText);\n    });\n}\nfunction ensureElHasStyles(el) {\n    if (el.isConnected) {\n        registerStylesRoot(el.getRootNode());\n    }\n}\nfunction registerStylesRoot(rootNode) {\n    let styleEl = styleEls.get(rootNode);\n    if (!styleEl || !styleEl.isConnected) {\n        styleEl = rootNode.querySelector('style[data-fullcalendar]');\n        if (!styleEl) {\n            styleEl = document.createElement('style');\n            styleEl.setAttribute('data-fullcalendar', '');\n            const nonce = getNonceValue();\n            if (nonce) {\n                styleEl.nonce = nonce;\n            }\n            const parentEl = rootNode === document ? document.head : rootNode;\n            const insertBefore = rootNode === document\n                ? parentEl.querySelector('script,link[rel=stylesheet],link[as=style],style')\n                : parentEl.firstChild;\n            parentEl.insertBefore(styleEl, insertBefore);\n        }\n        styleEls.set(rootNode, styleEl);\n        hydrateStylesRoot(styleEl);\n    }\n}\nfunction hydrateStylesRoot(styleEl) {\n    for (const styleText of styleTexts) {\n        appendStylesTo(styleEl, styleText);\n    }\n}\nfunction appendStylesTo(styleEl, styleText) {\n    const { sheet } = styleEl;\n    const ruleCnt = sheet.cssRules.length;\n    styleText.split('}').forEach((styleStr, i) => {\n        styleStr = styleStr.trim();\n        if (styleStr) {\n            sheet.insertRule(styleStr + '}', ruleCnt + i);\n        }\n    });\n}\n// nonce\n// -------------------------------------------------------------------------------------------------\nlet queriedNonceValue;\nfunction getNonceValue() {\n    if (queriedNonceValue === undefined) {\n        queriedNonceValue = queryNonceValue();\n    }\n    return queriedNonceValue;\n}\n/*\nTODO: discourage meta tag and instead put nonce attribute on placeholder <style> tag\n*/\nfunction queryNonceValue() {\n    const metaWithNonce = document.querySelector('meta[name=\"csp-nonce\"]');\n    if (metaWithNonce && metaWithNonce.hasAttribute('content')) {\n        return metaWithNonce.getAttribute('content');\n    }\n    const elWithNonce = document.querySelector('script[nonce]');\n    if (elWithNonce) {\n        return elWithNonce.nonce || '';\n    }\n    return '';\n}\n// main\n// -------------------------------------------------------------------------------------------------\nif (typeof document !== 'undefined') {\n    registerStylesRoot(document);\n}\n\nvar css_248z = \":root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\\\e900\\\"}.fc-icon-chevron-right:before{content:\\\"\\\\e901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\\\e902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\\\e903\\\"}.fc-icon-minus-square:before{content:\\\"\\\\e904\\\"}.fc-icon-plus-square:before{content:\\\"\\\\e905\\\"}.fc-icon-x:before{content:\\\"\\\\e906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}\";\ninjectStyles(css_248z);\n\nclass DelayedRunner {\n    constructor(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    request(delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    }\n    pause(scope = '') {\n        let { pauseDepths } = this;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    }\n    resume(scope = '', force) {\n        let { pauseDepths } = this;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                let depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    }\n    isPaused() {\n        return Object.keys(this.pauseDepths).length;\n    }\n    tryDrain() {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    }\n    clear() {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    }\n    clearTimeout() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    }\n    drained() {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    }\n}\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    let method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    let containers = container instanceof HTMLElement ? [container] : container;\n    let allMatches = [];\n    for (let i = 0; i < containers.length; i += 1) {\n        let matches = containers[i].querySelectorAll(selector);\n        for (let j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    let parents = parent instanceof HTMLElement ? [parent] : parent;\n    let allMatches = [];\n    for (let i = 0; i < parents.length; i += 1) {\n        let childNodes = parents[i].children; // only ever elements\n        for (let j = 0; j < childNodes.length; j += 1) {\n            let childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nconst PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (let propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = `${val}px`;\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n// Unique ID for DOM attribute\nlet guid$1 = 0;\nfunction getUniqueDomId() {\n    guid$1 += 1;\n    return 'fc-dom-' + guid$1;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return (ev) => {\n        let matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    let attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return () => {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    let currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, (mouseOverEv, matchedChild) => {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            let realOnMouseLeave = (mouseLeaveEv) => {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nconst transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    let realCallback = (ev) => {\n        callback(ev);\n        transitionEventNames.forEach((eventName) => {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach((eventName) => {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n// ARIA workarounds\n// ----------------------------------------------------------------------------------------------------------------\nfunction createAriaClickAttrs(handler) {\n    return Object.assign({ onClick: handler }, createAriaKeyboardAttrs(handler));\n}\nfunction createAriaKeyboardAttrs(handler) {\n    return {\n        tabIndex: 0,\n        onKeyDown(ev) {\n            if (ev.key === 'Enter' || ev.key === ' ') {\n                handler(ev);\n                ev.preventDefault(); // if space, don't scroll down page\n            }\n        },\n    };\n}\n\nlet guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.style.userSelect = 'none';\n    el.style.webkitUserSelect = 'none';\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.style.userSelect = '';\n    el.style.webkitUserSelect = '';\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    let specs = [];\n    let tokens = [];\n    let i;\n    let token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    let i;\n    let cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    let s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\nfunction formatWithOrdinals(formatter, args, fallbackText) {\n    if (typeof formatter === 'function') {\n        return formatter(...args);\n    }\n    if (typeof formatter === 'string') { // non-blank string\n        return args.reduce((str, arg, index) => (str.replace('$' + index, arg || '')), formatter);\n    }\n    return fallbackText;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    let allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    let contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nconst INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nconst PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject({ [unit || 'milliseconds']: input });\n    }\n    return null;\n}\nfunction parseString(s) {\n    let m = PARSE_RE.exec(s);\n    if (m) {\n        let sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    let duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    let weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    let res = null;\n    for (let i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        let unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            let localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    let ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    let removeCnt = 0;\n    let i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    let len = a0.length;\n    let i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nconst DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    let a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    let a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    let a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    let m0day = startOfDay(m0);\n    let m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    let d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    let y = marker.getUTCFullYear();\n    let w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    let nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    let firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    let dayStart = startOfDay(marker);\n    let days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    let fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    let fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC(...a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime = false) {\n    let s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\nfunction formatIsoMonthStr(marker) {\n    return marker.toISOString().match(/^\\d{4}-\\d{2}/)[0];\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso = false) {\n    let sign = minutes < 0 ? '-' : '+';\n    let abs = Math.abs(minutes);\n    let hours = Math.floor(abs / 60);\n    let mins = Math.round(abs % 60);\n    if (doIso) {\n        return `${sign + padStart(hours, 2)}:${padStart(mins, 2)}`;\n    }\n    return `GMT${sign}${hours}${mins ? `:${padStart(mins, 2)}` : ''}`;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    let currentArgs;\n    let currentRes;\n    return function (...newArgs) {\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            let res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    let currentArg;\n    let currentRes;\n    return (newArg) => {\n        if (!currentArg) {\n            currentRes = workerFunc.call(this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            let res = workerFunc.call(this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    let currentArgSets = [];\n    let currentResults = [];\n    return (newArgSets) => {\n        let currentLen = currentArgSets.length;\n        let newLen = newArgSets.length;\n        let i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                let res = workerFunc.apply(this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(workerFunc, resEquality, teardownFunc) {\n    let currentArgHash = {};\n    let currentResHash = {};\n    return (newArgHash) => {\n        let newResHash = {};\n        for (let key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                let res = workerFunc.apply(this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nconst EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nconst STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nconst MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nconst COMMA_RE = /,/g; // we need re for globalness\nconst MULTI_SPACE_RE = /\\s+/g;\nconst LTR_RE = /\\u200e/g; // control character\nconst UTC_RE = /UTC|GMT/;\nclass NativeFormatter {\n    constructor(formatSettings) {\n        let standardDateProps = {};\n        let extendedSettings = {};\n        let severity = 0;\n        for (let name in formatSettings) {\n            if (name in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name] = formatSettings[name];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name], severity);\n            }\n            else {\n                standardDateProps[name] = formatSettings[name];\n                if (name in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    format(date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        let { standardDateProps, extendedSettings } = this;\n        let diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        let biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        let full0 = this.format(start, context);\n        let full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        let partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        let partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        let partial0 = partialFormattingFunc(start);\n        let partial1 = partialFormattingFunc(end);\n        let insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        let separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    }\n    getLargestUnit() {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    }\n}\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    let standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return (date) => (formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return (date) => (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.weekTextLong, context.locale, extendedSettings.week));\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = Object.assign({}, standardDateProps); // copy\n    extendedSettings = Object.assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    let normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    let zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        let zeroProps = Object.assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return (date) => {\n        let { marker } = date;\n        let format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        let s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, (m0, m1) => m1.toLocaleLowerCase());\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, (m0, m1) => `${m1.toLocaleLowerCase()}m`);\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, (m0) => m0.toLocaleLowerCase());\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    let replaced = false;\n    s = s.replace(UTC_RE, () => {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += ` ${tzoStr}`;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, weekTextLong, locale, display) {\n    let parts = [];\n    if (display === 'long') {\n        parts.push(weekTextLong);\n    }\n    else if (display === 'short' || display === 'narrow') {\n        parts.push(weekText);\n    }\n    if (display === 'long' || display === 'short') {\n        parts.push(' ');\n    }\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    let partialOptions = {};\n    for (let name in options) {\n        if (!(name in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name] <= biggestUnit) {\n            partialOptions[name] = options[name];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    let i0 = 0;\n    while (i0 < full0.length) {\n        let found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        let before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        let after0 = full0.substr(i0);\n        let i1 = 0;\n        while (i1 < full1.length) {\n            let found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            let before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            let after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    let a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    let startInfo = expandZonedMarker(start, context.calendarSystem);\n    let endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nclass CmdFormatter {\n    constructor(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    format(date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    }\n}\n\nclass FuncFormatter {\n    constructor(func) {\n        this.func = func;\n    }\n    format(date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    }\n}\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nconst BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    weekTextLong: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    moreLinkHint: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    eventInteractive: Boolean,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    viewHint: identity,\n    navLinkHint: identity,\n    closeHint: String,\n    timeHint: String,\n    eventHint: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n    monthStartFormat: createFormatter,\n    // for connectors\n    // (can't be part of plugin system b/c must be provided at runtime)\n    handleCustomRendering: identity,\n    customRenderingMetaMap: identity,\n    customRenderingReplaces: Boolean,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nconst BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n    monthStartFormat: { month: 'long', day: 'numeric' },\n};\n// calendar listeners\n// ------------------\nconst CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nconst CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    buttonHints: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nconst COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isMaybeObjectsEqual,\n    footerToolbar: isMaybeObjectsEqual,\n    buttonText: isMaybeObjectsEqual,\n    buttonHints: isMaybeObjectsEqual,\n    buttonIcons: isMaybeObjectsEqual,\n    dateIncrement: isMaybeObjectsEqual,\n    plugins: isMaybeArraysEqual,\n    events: isMaybeArraysEqual,\n    eventSources: isMaybeArraysEqual,\n    ['resources']: isMaybeArraysEqual,\n};\nfunction isMaybeObjectsEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\nfunction isMaybeArraysEqual(a, b) {\n    if (Array.isArray(a) && Array.isArray(b)) {\n        return isArraysEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nconst VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    let refined = {};\n    let extra = {};\n    for (let propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (let propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined, extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nconst { hasOwnProperty } = Object.prototype;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    let dest = {};\n    if (complexPropsMap) {\n        for (let name in complexPropsMap) {\n            if (complexPropsMap[name] === isMaybeObjectsEqual) { // implies that it's object-mergeable\n                let complexObjs = [];\n                // collect the trailing object values, stopping when a non-object is discovered\n                for (let i = propObjs.length - 1; i >= 0; i -= 1) {\n                    let val = propObjs[i][name];\n                    if (typeof val === 'object' && val) { // non-null object\n                        complexObjs.unshift(val);\n                    }\n                    else if (val !== undefined) {\n                        dest[name] = val; // if there were no objects, this value will be used\n                        break;\n                    }\n                }\n                // if the trailing values were objects, use the merged value\n                if (complexObjs.length) {\n                    dest[name] = mergeProps(complexObjs);\n                }\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (let i = propObjs.length - 1; i >= 0; i -= 1) {\n        let props = propObjs[i];\n        for (let name in props) {\n            if (!(name in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name] = props[name];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    let filtered = {};\n    for (let key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    let newHash = {};\n    for (let key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    let hash = {};\n    for (let item of a) {\n        hash[item] = true;\n    }\n    return hash;\n}\n// TODO: reassess browser support\n// https://caniuse.com/?search=object.values\nfunction hashValuesToArray(obj) {\n    let a = [];\n    for (let key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (let key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (let key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nconst HANDLER_RE = /^on[A-Z]/;\nfunction isNonHandlerPropsEqual(obj0, obj1) {\n    const keys = getUnequalProps(obj0, obj1);\n    for (let key of keys) {\n        if (!HANDLER_RE.test(key)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    let keys = [];\n    for (let key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (let key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs = {}) {\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (let key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (let key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex = 0, endIndex, step = 1) {\n    let res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (let i = startIndex; i < endIndex; i += step) {\n        let val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nlet calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nclass GregorianCalendarSystem {\n    getMarkerYear(d) {\n        return d.getUTCFullYear();\n    }\n    getMarkerMonth(d) {\n        return d.getUTCMonth();\n    }\n    getMarkerDay(d) {\n        return d.getUTCDate();\n    }\n    arrayToMarker(arr) {\n        return arrayToUtcDate(arr);\n    }\n    markerToArray(marker) {\n        return dateToUtcArray(marker);\n    }\n}\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nconst ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    let m = ISO_RE.exec(str);\n    if (m) {\n        let marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(`0.${m[12]}`) * 1000 : 0));\n        if (isValidDate(marker)) {\n            let timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nclass DateEnv {\n    constructor(settings) {\n        let timeZone = this.timeZone = settings.timeZone;\n        let isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.weekTextLong = (settings.weekTextLong != null ? settings.weekTextLong : settings.locale.options.weekTextLong) || this.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    createMarker(input) {\n        let meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    }\n    createNowMarker() {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    }\n    createMarkerMeta(input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        let marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker, isTimeUnspecified: false, forcedTzo: null };\n    }\n    parse(s) {\n        let parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        let { marker } = parts;\n        let forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo };\n    }\n    // Accessors\n    getYear(marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    }\n    getMonth(marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    }\n    getDay(marker) {\n        return this.calendarSystem.getMarkerDay(marker);\n    }\n    // Adding / Subtracting\n    add(marker, dur) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    subtract(marker, dur) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    addYears(marker, n) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    addMonths(marker, n) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    // Diffing Whole Units\n    diffWholeYears(m0, m1) {\n        let { calendarSystem } = this;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    }\n    diffWholeMonths(m0, m1) {\n        let { calendarSystem } = this;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    }\n    // Range / Duration\n    greatestWholeUnit(m0, m1) {\n        let n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    }\n    countDurationsBetween(m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        let diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    }\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    startOf(m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    }\n    startOfYear(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    }\n    startOfMonth(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    }\n    startOfWeek(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    }\n    // Week Number\n    computeWeekNumber(marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    }\n    // TODO: choke on timeZoneName: long\n    format(marker, formatter, dateOptions = {}) {\n        return formatter.format({\n            marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    }\n    formatRange(start, end, formatter, dateOptions = {}) {\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    }\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    formatIso(marker, extraOptions = {}) {\n        let timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    }\n    // TimeZone\n    timestampToMarker(ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    }\n    offsetForMarker(m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    }\n    // Conversion\n    toDate(m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    }\n}\n\nclass Theme {\n    constructor(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    setIconOverride(iconOverrideHash) {\n        let iconClassesCopy;\n        let buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = Object.assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    }\n    applyIconOverridePrefix(className) {\n        let prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    }\n    getClass(key) {\n        return this.classes[key] || '';\n    }\n    getIconClass(buttonName, isRtl) {\n        let className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return `${this.baseIconClass} ${className}`;\n        }\n        return '';\n    }\n    getCustomButtonIconClass(customButtonProps) {\n        let className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return `${this.baseIconClass} ${this.applyIconOverridePrefix(className)}`;\n            }\n        }\n        return '';\n    }\n}\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\n/*\nNOTE: this can be a public API, especially createElement for hooks.\nSee examples/typescript-scheduler/src/index.ts\n*/\nfunction flushSync(runBeforeFlush) {\n    runBeforeFlush();\n    let oldDebounceRendering = preact.options.debounceRendering; // orig\n    let callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nclass FakeComponent extends preact.Component {\n    render() { return preact.createElement('div', {}); }\n    componentDidMount() { this.setState({}); }\n}\n// TODO: use preact/compat instead?\nfunction createContext(defaultValue) {\n    let ContextType = preact.createContext(defaultValue);\n    let origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        let isNew = !this.getChildContext;\n        let children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            let subs = [];\n            this.shouldComponentUpdate = (_props) => {\n                if (this.props.value !== _props.value) {\n                    subs.forEach((c) => {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = (c) => {\n                subs.push(c);\n                let old = c.componentWillUnmount;\n                c.componentWillUnmount = () => {\n                    subs.splice(subs.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\n\nclass ScrollResponder {\n    constructor(execFunc, emitter, scrollTime, scrollTimeReset) {\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = (request) => {\n            this.queuedRequest = Object.assign({}, this.queuedRequest || {}, request);\n            this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    detach() {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    }\n    update(isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    }\n    fireInitialScroll() {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    }\n    drain() {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    }\n}\n\nconst ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv,\n        options: viewOptions,\n        pluginHooks,\n        emitter,\n        dispatch,\n        getCurrentData,\n        calendarApi,\n        viewSpec,\n        viewApi,\n        dateProfileGenerator,\n        theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler(handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler(handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder(execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent,\n        unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nclass PureComponent extends Component {\n    shouldComponentUpdate(nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    }\n    // HACK for freakin' React StrictMode\n    safeSetState(newState) {\n        if (!compareObjs(this.state, Object.assign(Object.assign({}, this.state), newState), this.stateEquality)) {\n            this.setState(newState);\n        }\n    }\n}\nPureComponent.addPropsEquality = addPropsEquality;\nPureComponent.addStateEquality = addStateEquality;\nPureComponent.contextType = ViewContextType;\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nclass BaseComponent extends PureComponent {\n}\nBaseComponent.contextType = ViewContextType;\nfunction addPropsEquality(propEquality) {\n    let hash = Object.create(this.prototype.propEquality);\n    Object.assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    let hash = Object.create(this.prototype.stateEquality);\n    Object.assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\nclass ContentInjector extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.id = guid();\n        this.queuedDomNodes = [];\n        this.currentDomNodes = [];\n        this.handleEl = (el) => {\n            const { options } = this.context;\n            const { generatorName } = this.props;\n            if (!options.customRenderingReplaces || !hasCustomRenderingHandler(generatorName, options)) {\n                this.updateElRef(el);\n            }\n        };\n        this.updateElRef = (el) => {\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n            }\n        };\n    }\n    render() {\n        const { props, context } = this;\n        const { options } = context;\n        const { customGenerator, defaultGenerator, renderProps } = props;\n        const attrs = buildElAttrs(props, [], this.handleEl);\n        let useDefault = false;\n        let innerContent;\n        let queuedDomNodes = [];\n        let currentGeneratorMeta;\n        if (customGenerator != null) {\n            const customGeneratorRes = typeof customGenerator === 'function' ?\n                customGenerator(renderProps, createElement) :\n                customGenerator;\n            if (customGeneratorRes === true) {\n                useDefault = true;\n            }\n            else {\n                const isObject = customGeneratorRes && typeof customGeneratorRes === 'object'; // non-null\n                if (isObject && ('html' in customGeneratorRes)) {\n                    attrs.dangerouslySetInnerHTML = { __html: customGeneratorRes.html };\n                }\n                else if (isObject && ('domNodes' in customGeneratorRes)) {\n                    queuedDomNodes = Array.prototype.slice.call(customGeneratorRes.domNodes);\n                }\n                else if (isObject\n                    ? isValidElement(customGeneratorRes) // vdom node\n                    : typeof customGeneratorRes !== 'function' // primitive value (like string or number)\n                ) {\n                    // use in vdom\n                    innerContent = customGeneratorRes;\n                }\n                else {\n                    // an exotic object for handleCustomRendering\n                    currentGeneratorMeta = customGeneratorRes;\n                }\n            }\n        }\n        else {\n            useDefault = !hasCustomRenderingHandler(props.generatorName, options);\n        }\n        if (useDefault && defaultGenerator) {\n            innerContent = defaultGenerator(renderProps);\n        }\n        this.queuedDomNodes = queuedDomNodes;\n        this.currentGeneratorMeta = currentGeneratorMeta;\n        return createElement(props.elTag, attrs, innerContent);\n    }\n    componentDidMount() {\n        this.applyQueueudDomNodes();\n        this.triggerCustomRendering(true);\n    }\n    componentDidUpdate() {\n        this.applyQueueudDomNodes();\n        this.triggerCustomRendering(true);\n    }\n    componentWillUnmount() {\n        this.triggerCustomRendering(false); // TODO: different API for removal?\n    }\n    triggerCustomRendering(isActive) {\n        var _a;\n        const { props, context } = this;\n        const { handleCustomRendering, customRenderingMetaMap } = context.options;\n        if (handleCustomRendering) {\n            const generatorMeta = (_a = this.currentGeneratorMeta) !== null && _a !== void 0 ? _a : customRenderingMetaMap === null || customRenderingMetaMap === void 0 ? void 0 : customRenderingMetaMap[props.generatorName];\n            if (generatorMeta) {\n                handleCustomRendering(Object.assign(Object.assign({ id: this.id, isActive, containerEl: this.base, reportNewContainerEl: this.updateElRef, // front-end framework tells us about new container els\n                    generatorMeta }, props), { elClasses: (props.elClasses || []).filter(isTruthy) }));\n            }\n        }\n    }\n    applyQueueudDomNodes() {\n        const { queuedDomNodes, currentDomNodes } = this;\n        const el = this.base;\n        if (!isArraysEqual(queuedDomNodes, currentDomNodes)) {\n            currentDomNodes.forEach(removeElement);\n            for (let newNode of queuedDomNodes) {\n                el.appendChild(newNode);\n            }\n            this.currentDomNodes = queuedDomNodes;\n        }\n    }\n}\nContentInjector.addPropsEquality({\n    elClasses: isArraysEqual,\n    elStyle: isPropsEqual,\n    elAttrs: isNonHandlerPropsEqual,\n    renderProps: isPropsEqual,\n});\n// Util\n/*\nDoes UI-framework provide custom way of rendering that does not use Preact VDOM\nAND does the calendar's options define custom rendering?\nAKA. Should we NOT render the default content?\n*/\nfunction hasCustomRenderingHandler(generatorName, options) {\n    var _a;\n    return Boolean(options.handleCustomRendering &&\n        generatorName &&\n        ((_a = options.customRenderingMetaMap) === null || _a === void 0 ? void 0 : _a[generatorName]));\n}\nfunction buildElAttrs(props, extraClassNames, elRef) {\n    const attrs = Object.assign(Object.assign({}, props.elAttrs), { ref: elRef });\n    if (props.elClasses || extraClassNames) {\n        attrs.className = (props.elClasses || [])\n            .concat(extraClassNames || [])\n            .concat(attrs.className || [])\n            .filter(Boolean)\n            .join(' ');\n    }\n    if (props.elStyle) {\n        attrs.style = props.elStyle;\n    }\n    return attrs;\n}\nfunction isTruthy(val) {\n    return Boolean(val);\n}\n\nconst RenderId = createContext(0);\n\nclass ContentContainer extends Component {\n    constructor() {\n        super(...arguments);\n        this.InnerContent = InnerContentInjector.bind(undefined, this);\n        this.handleEl = (el) => {\n            this.el = el;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n                if (el && this.didMountMisfire) {\n                    this.componentDidMount();\n                }\n            }\n        };\n    }\n    render() {\n        const { props } = this;\n        const generatedClassNames = generateClassNames(props.classNameGenerator, props.renderProps);\n        if (props.children) {\n            const elAttrs = buildElAttrs(props, generatedClassNames, this.handleEl);\n            const children = props.children(this.InnerContent, props.renderProps, elAttrs);\n            if (props.elTag) {\n                return createElement(props.elTag, elAttrs, children);\n            }\n            else {\n                return children;\n            }\n        }\n        else {\n            return createElement((ContentInjector), Object.assign(Object.assign({}, props), { elRef: this.handleEl, elTag: props.elTag || 'div', elClasses: (props.elClasses || []).concat(generatedClassNames), renderId: this.context }));\n        }\n    }\n    componentDidMount() {\n        var _a, _b;\n        if (this.el) {\n            (_b = (_a = this.props).didMount) === null || _b === void 0 ? void 0 : _b.call(_a, Object.assign(Object.assign({}, this.props.renderProps), { el: this.el }));\n        }\n        else {\n            this.didMountMisfire = true;\n        }\n    }\n    componentWillUnmount() {\n        var _a, _b;\n        (_b = (_a = this.props).willUnmount) === null || _b === void 0 ? void 0 : _b.call(_a, Object.assign(Object.assign({}, this.props.renderProps), { el: this.el }));\n    }\n}\nContentContainer.contextType = RenderId;\nfunction InnerContentInjector(containerComponent, props) {\n    const parentProps = containerComponent.props;\n    return createElement((ContentInjector), Object.assign({ renderProps: parentProps.renderProps, generatorName: parentProps.generatorName, customGenerator: parentProps.customGenerator, defaultGenerator: parentProps.defaultGenerator, renderId: containerComponent.context }, props));\n}\n// Utils\nfunction generateClassNames(classNameGenerator, renderProps) {\n    const classNames = typeof classNameGenerator === 'function' ?\n        classNameGenerator(renderProps) :\n        classNameGenerator || [];\n    return typeof classNames === 'string' ? [classNames] : classNames;\n}\n\nclass ViewContainer extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let renderProps = { view: context.viewApi };\n        return (createElement(ContentContainer, Object.assign({}, props, { elTag: props.elTag || 'div', elClasses: [\n                ...buildViewClassNames(props.viewSpec),\n                ...(props.elClasses || []),\n            ], renderProps: renderProps, classNameGenerator: options.viewClassNames, generatorName: undefined, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount }), () => props.children));\n    }\n}\nfunction buildViewClassNames(viewSpec) {\n    return [\n        `fc-${viewSpec.type}-view`,\n        'fc-view',\n    ];\n}\n\nfunction parseRange(input, dateEnv) {\n    let start = null;\n    let end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start, end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    let invertedRanges = [];\n    let { start } = constraintRange; // the end of the previous range. the start of the new range\n    let i;\n    let dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    let { start, end } = range0;\n    let newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start, end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    let dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    let start = startOfDay(timedRange.start);\n    let end = addDays(start, dayCnt);\n    return { start, end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold = createDuration(0)) {\n    let startDay = null;\n    let endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        let endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    let visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    let initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nclass DateProfileGenerator {\n    constructor(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    buildPrev(currentDateProfile, currentDate, forceToValid) {\n        let { dateEnv } = this.props;\n        let prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    }\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    buildNext(currentDateProfile, currentDate, forceToValid) {\n        let { dateEnv } = this.props;\n        let nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    }\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    build(currentDate, direction, forceToValid = true) {\n        let { props } = this;\n        let validRange;\n        let currentInfo;\n        let isRangeAllDay;\n        let renderRange;\n        let activeRange;\n        let isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        // HACK: constrain to render-range so `currentDate` is more useful to view rendering\n        if (!rangeContainsMarker(renderRange, currentDate)) {\n            currentDate = renderRange.start;\n        }\n        return {\n            currentDate,\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    }\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    buildValidRange() {\n        let input = this.props.validRangeInput;\n        let simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    }\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    buildCurrentRangeInfo(date, direction) {\n        let { props } = this;\n        let duration = null;\n        let unit = null;\n        let range = null;\n        let dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration, unit, range };\n    }\n    getFallbackDuration() {\n        return createDuration({ day: 1 });\n    }\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    adjustActiveRange(range) {\n        let { dateEnv, usesMinMaxTime, slotMinTime, slotMaxTime } = this.props;\n        let { start, end } = range;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start, end };\n    }\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    buildRangeFromDuration(date, direction, duration, unit) {\n        let { dateEnv, dateAlignment } = this.props;\n        let start;\n        let end;\n        let res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            let { dateIncrement } = this.props;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start, end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    }\n    // Builds the \"current\" range when a dayCount is specified.\n    buildRangeFromDayCount(date, direction, dayCount) {\n        let { dateEnv, dateAlignment } = this.props;\n        let runningCount = 0;\n        let start = date;\n        let end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start, end };\n    }\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    buildCustomVisibleRange(date) {\n        let { props } = this;\n        let input = props.visibleRangeInput;\n        let simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        let range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    }\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    }\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    buildDateIncrement(fallback) {\n        let { dateIncrement } = this.props;\n        let customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    }\n    refineRange(rangeInput) {\n        if (rangeInput) {\n            let range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    }\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    initHiddenDays() {\n        let hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        let isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        let dayCnt = 0;\n        let i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    }\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    trimHiddenDays(range) {\n        let { start, end } = range;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start, end };\n        }\n        return null;\n    }\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    isHiddenDay(day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    }\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    skipHiddenDays(date, inc = 1, isExclusive = false) {\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    }\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId,\n        range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (let i = 0; i < recurringTypes.length; i += 1) {\n        let parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            let { allDay } = refined;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    let { dateEnv, pluginHooks, options } = context;\n    let { defs, instances } = eventStore;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, (instance) => !defs[instance.defId].recurringDef);\n    for (let defId in defs) {\n        let def = defs[defId];\n        if (def.recurringDef) {\n            let { duration } = def.recurringDef;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            let starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (let start of starts) {\n                let instance = createEventInstance(defId, {\n                    start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs, instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    let typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    let markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nconst EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n    interactive: Boolean,\n};\nconst EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nconst EVENT_REFINERS = Object.assign(Object.assign(Object.assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners = buildEventRefiners(context), defIdMap, instanceIdMap) {\n    let { refined, extra } = refineEventDef(raw, context, refiners);\n    let defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    let recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context, defIdMap);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def, instance: null };\n    }\n    let singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context, defIdMap);\n        let instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        if (instanceIdMap && def.publicId && instanceIdMap[def.publicId]) {\n            instance.instanceId = instanceIdMap[def.publicId];\n        }\n        return { def, instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners = buildEventRefiners(context)) {\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context, defIdMap) {\n    let def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: ((defIdMap && refined.id) ? defIdMap[refined.id] : '') || guid(),\n        sourceId,\n        allDay,\n        hasEnd,\n        interactive: refined.interactive,\n        ui: createEventUi(refined, context),\n        extendedProps: Object.assign(Object.assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (let memberAdder of context.pluginHooks.eventDefMemberAdders) {\n        Object.assign(def, memberAdder(refined));\n    }\n    // help out EventImpl from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    let { allDay } = refined;\n    let startMeta;\n    let startMarker = null;\n    let hasEnd = false;\n    let endMeta;\n    let endMarker = null;\n    let startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay,\n        hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    let res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange, defIdMap, instanceIdMap) {\n    let eventStore = createEmptyEventStore();\n    let eventRefiners = buildEventRefiners(context);\n    for (let rawEvent of rawEvents) {\n        let tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners, defIdMap, instanceIdMap);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore = createEmptyEventStore()) {\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    let instance = eventStore.instances[instanceId];\n    if (instance) {\n        let def = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        let newStore = filterEventStoreDefs(eventStore, (lookDef) => isEventDefsGrouped(def, lookDef));\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def.defId] = def;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: Object.assign(Object.assign({}, store0.defs), store1.defs),\n        instances: Object.assign(Object.assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    let defs = filterHash(eventStore.defs, filterFunc);\n    let instances = filterHash(eventStore.instances, (instance) => (defs[instance.defId] // still exists?\n    ));\n    return { defs, instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    let { defs, instances } = master;\n    let filteredDefs = {};\n    let filteredInstances = {};\n    for (let defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (let instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nconst EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nconst EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    let constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nconst EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners = buildEventSourceRefiners(context)) {\n    let rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        let { refined, extra } = refineProps(rawObj, refiners);\n        let metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    for (let i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        let def = defs[i];\n        let meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'RESET_RAW_EVENTS':\n            return resetRawEvents(eventStore, eventSources[action.sourceId], action.rawEvents, dateProfile.activeRange, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, (eventDef) => (!eventDef.sourceId // only keep events with no source id\n            ));\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        let subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction resetRawEvents(existingEventStore, eventSource, rawEvents, activeRange, context) {\n    const { defIdMap, instanceIdMap } = buildPublicIdMaps(existingEventStore);\n    let newEventStore = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context, false, defIdMap, instanceIdMap);\n    return expandRecurring(newEventStore, activeRange, context);\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    let calEachTransform = context.options.eventDataTransform;\n    let sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    let refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (let rawEvent of rawEvents) {\n            let refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    let { defs } = eventStore;\n    let instances = mapHash(eventStore.instances, (instance) => {\n        let def = defs[instance.defId];\n        if (def.allDay) {\n            return instance; // isn't dependent on timezone\n        }\n        return Object.assign(Object.assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs, instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, (eventDef) => eventDef.sourceId !== sourceId);\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, (instance) => !removals[instance.instanceId]),\n    };\n}\nfunction buildPublicIdMaps(eventStore) {\n    const { defs, instances } = eventStore;\n    const defIdMap = {};\n    const instanceIdMap = {};\n    for (let defId in defs) {\n        const def = defs[defId];\n        const { publicId } = def;\n        if (publicId) {\n            defIdMap[publicId] = defId;\n        }\n    }\n    for (let instanceId in instances) {\n        const instance = instances[instanceId];\n        const def = defs[instance.defId];\n        const { publicId } = def;\n        if (publicId) {\n            instanceIdMap[publicId] = instanceId;\n        }\n    }\n    return { defIdMap, instanceIdMap };\n}\n\nclass Emitter {\n    constructor() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    setThisContext(thisContext) {\n        this.thisContext = thisContext;\n    }\n    setOptions(options) {\n        this.options = options;\n    }\n    on(type, handler) {\n        addToHash(this.handlers, type, handler);\n    }\n    off(type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    }\n    trigger(type, ...args) {\n        let attachedHandlers = this.handlers[type] || [];\n        let optionHandler = this.options && this.options[type];\n        let handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (let handler of handlers) {\n            handler.apply(this.thisContext, args);\n        }\n    }\n    hasHandlers(type) {\n        return Boolean((this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]));\n    }\n}\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter((func) => func !== handler);\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\nconst DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    let rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter((rawDef) => rawDef.daysOfWeek);\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map((rawDef) => (Object.assign(Object.assign({}, DEF_DEFAULTS), rawDef)));\n    return rawDefs;\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', Object.assign(Object.assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    let props = {};\n    for (let transform of context.pluginHooks.dateSpanTransforms) {\n        Object.assign(props, transform(dateSpan, context));\n    }\n    Object.assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    let { dateEnv, options } = context;\n    let end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    let eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    let dest = createEmptyEventStore();\n    for (let defId in eventStore.defs) {\n        let def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (let instanceId in eventStore.instances) {\n        let instance = eventStore.instances[instanceId];\n        let def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    let standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    let copy = Object.assign(Object.assign(Object.assign({}, eventDef), standardProps), { ui: Object.assign(Object.assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = Object.assign(Object.assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (let applier of context.pluginHooks.eventDefMutationAppliers) {\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    let { dateEnv } = context;\n    let forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    let clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    let copy = Object.assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\nclass EventSourceImpl {\n    constructor(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    remove() {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    }\n    refetch() {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    }\n    get id() {\n        return this.internalEventSource.publicId;\n    }\n    get url() {\n        return this.internalEventSource.meta.url;\n    }\n    get format() {\n        return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n    }\n}\n\nclass EventImpl {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    constructor(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    setProp(name, val) {\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { [name]: val },\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            let ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = { [name]: val };\n            }\n            this.mutate({\n                standardProps: { ui },\n            });\n        }\n        else {\n            console.warn(`Could not set prop '${name}'. Use setExtendedProp instead.`);\n        }\n    }\n    setExtendedProp(name, val) {\n        this.mutate({\n            extendedProps: { [name]: val },\n        });\n    }\n    setStart(startInput, options = {}) {\n        let { dateEnv } = this._context;\n        let start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            let instanceRange = this._instance.range;\n            let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta });\n            }\n        }\n    }\n    setEnd(endInput, options = {}) {\n        let { dateEnv } = this._context;\n        let end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                let endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    }\n    setDates(startInput, endInput, options = {}) {\n        let { dateEnv } = this._context;\n        let standardProps = { allDay: options.allDay };\n        let start = dateEnv.createMarker(startInput);\n        let end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            let instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                let endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps });\n                }\n                else {\n                    this.mutate({ startDelta, endDelta, standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps });\n            }\n        }\n    }\n    moveStart(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    }\n    moveEnd(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    }\n    moveDates(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    }\n    setAllDay(allDay, options = {}) {\n        let standardProps = { allDay };\n        let { maintainDuration } = options;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps });\n    }\n    formatRange(formatInput) {\n        let { dateEnv } = this._context;\n        let instance = this._instance;\n        let formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    }\n    mutate(mutation) {\n        let instance = this._instance;\n        if (instance) {\n            let def = this._def;\n            let context = this._context;\n            let { eventStore } = context.getCurrentData();\n            let relevantEvents = getRelevantEvents(eventStore, instance.instanceId);\n            let eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context);\n            let oldEvent = new EventImpl(context, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context.emitter.trigger('eventChange', {\n                oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context, instance),\n                revert() {\n                    context.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore, // the ORIGINAL store\n                    });\n                },\n            });\n        }\n    }\n    remove() {\n        let context = this._context;\n        let asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert() {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    }\n    get source() {\n        let { sourceId } = this._def;\n        if (sourceId) {\n            return new EventSourceImpl(this._context, this._context.getCurrentData().eventSources[sourceId]);\n        }\n        return null;\n    }\n    get start() {\n        return this._instance ?\n            this._context.dateEnv.toDate(this._instance.range.start) :\n            null;\n    }\n    get end() {\n        return (this._instance && this._def.hasEnd) ?\n            this._context.dateEnv.toDate(this._instance.range.end) :\n            null;\n    }\n    get startStr() {\n        let instance = this._instance;\n        if (instance) {\n            return this._context.dateEnv.formatIso(instance.range.start, {\n                omitTime: this._def.allDay,\n                forcedTzo: instance.forcedStartTzo,\n            });\n        }\n        return '';\n    }\n    get endStr() {\n        let instance = this._instance;\n        if (instance && this._def.hasEnd) {\n            return this._context.dateEnv.formatIso(instance.range.end, {\n                omitTime: this._def.allDay,\n                forcedTzo: instance.forcedEndTzo,\n            });\n        }\n        return '';\n    }\n    // computable props that all access the def\n    // TODO: find a TypeScript-compatible way to do this at scale\n    get id() { return this._def.publicId; }\n    get groupId() { return this._def.groupId; }\n    get allDay() { return this._def.allDay; }\n    get title() { return this._def.title; }\n    get url() { return this._def.url; }\n    get display() { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n    get startEditable() { return this._def.ui.startEditable; }\n    get durationEditable() { return this._def.ui.durationEditable; }\n    get constraint() { return this._def.ui.constraints[0] || null; }\n    get overlap() { return this._def.ui.overlap; }\n    get allow() { return this._def.ui.allows[0] || null; }\n    get backgroundColor() { return this._def.ui.backgroundColor; }\n    get borderColor() { return this._def.ui.borderColor; }\n    get textColor() { return this._def.ui.textColor; }\n    // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n    get classNames() { return this._def.ui.classNames; }\n    get extendedProps() { return this._def.extendedProps; }\n    toPlainObject(settings = {}) {\n        let def = this._def;\n        let { ui } = def;\n        let { startStr, endStr } = this;\n        let res = {\n            allDay: def.allDay,\n        };\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                Object.assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    }\n    toJSON() {\n        return this.toPlainObject();\n    }\n}\nfunction eventApiToStore(eventApi) {\n    let def = eventApi._def;\n    let instance = eventApi._instance;\n    return {\n        defs: { [def.defId]: def },\n        instances: instance\n            ? { [instance.instanceId]: instance }\n            : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    let { defs, instances } = eventStore;\n    let eventApis = [];\n    let excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (let id in instances) {\n        let instance = instances[id];\n        let def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventImpl(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    let inverseBgByGroupId = {};\n    let inverseBgByDefId = {};\n    let defByGroupId = {};\n    let bgRanges = [];\n    let fgRanges = [];\n    let eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (let defId in eventStore.defs) {\n        let def = eventStore.defs[defId];\n        let ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (let instanceId in eventStore.instances) {\n        let instance = eventStore.instances[instanceId];\n        let def = eventStore.defs[instance.defId];\n        let ui = eventUis[def.defId];\n        let origRange = instance.range;\n        let normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        let slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def,\n                    ui,\n                    instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (let groupId in inverseBgByGroupId) { // BY GROUP\n        let ranges = inverseBgByGroupId[groupId];\n        let invertedRanges = invertRanges(ranges, framingRange);\n        for (let invertedRange of invertedRanges) {\n            let def = defByGroupId[groupId];\n            let ui = eventUis[def.defId];\n            bgRanges.push({\n                def,\n                ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (let defId in inverseBgByDefId) {\n        let ranges = inverseBgByDefId[defId];\n        let invertedRanges = invertRanges(ranges, framingRange);\n        for (let invertedRange of invertedRanges) {\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, (eventDef) => compileEventUi(eventDef, eventUiBases));\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    let uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    let objs = segs.map(buildSegCompareObj);\n    objs.sort((obj0, obj1) => compareByFieldSpecs(obj0, obj1, eventOrderSpecs));\n    return objs.map((c) => c._seg);\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    let { eventRange } = seg;\n    let eventDef = eventRange.def;\n    let range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    let start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    let end = range.end ? range.end.valueOf() : 0; // \"\n    return Object.assign(Object.assign(Object.assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start,\n        end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    let { pluginHooks } = context;\n    let transformers = pluginHooks.isDraggableTransformers;\n    let { def, ui } = seg.eventRange;\n    let val = ui.startEditable;\n    for (let transformer of transformers) {\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    let { dateEnv, options } = context;\n    let { displayEventTime, displayEventEnd } = options;\n    let eventDef = seg.eventRange.def;\n    let eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    let wholeEventStart = eventInstance.range.start;\n    let wholeEventEnd = eventInstance.range.end;\n    let segStart = startOverride || seg.start || seg.eventRange.range.start;\n    let segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    let isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    let isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    let segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    let classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : `${eventRange.def.defId}:${eventRange.range.start.toISOString()}`;\n    // inverse-background events don't have specific instances. TODO: better solution\n}\nfunction getSegAnchorAttrs(seg, context) {\n    let { def, instance } = seg.eventRange;\n    let { url } = def;\n    if (url) {\n        return { href: url };\n    }\n    let { emitter, options } = context;\n    let { eventInteractive } = options;\n    if (eventInteractive == null) {\n        eventInteractive = def.interactive;\n        if (eventInteractive == null) {\n            eventInteractive = Boolean(emitter.hasHandlers('eventClick'));\n        }\n    }\n    // mock what happens in EventClicking\n    if (eventInteractive) {\n        // only attach keyboard-related handlers because click handler is already done in EventClicking\n        return createAriaKeyboardAttrs((ev) => {\n            emitter.trigger('eventClick', {\n                el: ev.target,\n                event: new EventImpl(context, def, instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        });\n    }\n    return {};\n}\n\nconst STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    let span = parseOpenDateSpan(raw, dateEnv);\n    let { range } = span;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    let { refined: standardProps, extra } = refineProps(raw, STANDARD_PROPS);\n    let startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    let endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    let { allDay } = standardProps;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return Object.assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (let propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (let propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return Object.assign(Object.assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return Object.assign(Object.assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    let res = refineEventDef({ editable: false }, context);\n    let def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\n/*\ngiven a function that resolves a result asynchronously.\nthe function can either call passed-in success and failure callbacks,\nor it can return a promise.\nif you need to pass additional params to func, bind them first.\n*/\nfunction unpromisify(func, normalizedSuccessCallback, normalizedFailureCallback) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    let isResolved = false;\n    let wrappedSuccess = function (res) {\n        if (!isResolved) {\n            isResolved = true;\n            normalizedSuccessCallback(res);\n        }\n    };\n    let wrappedFailure = function (error) {\n        if (!isResolved) {\n            isResolved = true;\n            normalizedFailureCallback(error);\n        }\n    };\n    let res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nclass JsonRequestError extends Error {\n    constructor(message, response) {\n        super(message);\n        this.response = response;\n    }\n}\nfunction requestJson(method, url, params) {\n    method = method.toUpperCase();\n    const fetchOptions = {\n        method,\n    };\n    if (method === 'GET') {\n        url += (url.indexOf('?') === -1 ? '?' : '&') +\n            new URLSearchParams(params);\n    }\n    else {\n        fetchOptions.body = new URLSearchParams(params);\n        fetchOptions.headers = {\n            'Content-Type': 'application/x-www-form-urlencoded',\n        };\n    }\n    return fetch(url, fetchOptions).then((fetchRes) => {\n        if (fetchRes.ok) {\n            return fetchRes.json().then((parsedResponse) => {\n                return [parsedResponse, fetchRes];\n            }, () => {\n                throw new JsonRequestError('Failure parsing JSON', fetchRes);\n            });\n        }\n        else {\n            throw new JsonRequestError('Request failed', fetchRes);\n        }\n    });\n}\n\nlet canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    let el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    let div = el.querySelector('div');\n    let possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nclass CalendarRoot extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            forPrint: false,\n        };\n        this.handleBeforePrint = () => {\n            this.setState({ forPrint: true });\n        };\n        this.handleAfterPrint = () => {\n            this.setState({ forPrint: false });\n        };\n    }\n    render() {\n        let { props } = this;\n        let { options } = props;\n        let { forPrint } = this.state;\n        let isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        let height = (!isHeightAuto && options.height != null) ? options.height : '';\n        let classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            `fc-direction-${options.direction}`,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    }\n    componentDidMount() {\n        let { emitter } = this.props;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    }\n    componentWillUnmount() {\n        let { emitter } = this.props;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    }\n}\n\nclass Interaction {\n    constructor(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    destroy() {\n    }\n}\nfunction parseInteractionSettings(component, input) {\n    return {\n        component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    return {\n        [settings.component.uid]: settings,\n    };\n}\n// global state\nconst interactionSettingsStore = {};\n\nclass CalendarImpl {\n    getCurrentData() {\n        return this.currentDataManager.getCurrentData();\n    }\n    dispatch(action) {\n        this.currentDataManager.dispatch(action);\n    }\n    get view() { return this.getCurrentData().viewApi; }\n    batchRendering(callback) {\n        callback();\n    }\n    updateSize() {\n        this.trigger('_resize', true);\n    }\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    setOption(name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    }\n    getOption(name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    }\n    getAvailableLocaleCodes() {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    }\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    on(handlerName, handler) {\n        let { currentDataManager } = this;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(`Unknown listener name '${handlerName}'`);\n        }\n    }\n    off(handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    }\n    // not meant for public use\n    trigger(handlerName, ...args) {\n        this.currentDataManager.emitter.trigger(handlerName, ...args);\n    }\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    changeView(viewType, dateOrRange) {\n        this.batchRendering(() => {\n            this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType,\n                    });\n                    this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    let { dateEnv } = this.getCurrentData();\n                    this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType,\n                });\n            }\n        });\n    }\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    zoomTo(dateMarker, viewType) {\n        let state = this.getCurrentData();\n        let spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker,\n            });\n        }\n    }\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    getUnitViewSpec(unit) {\n        let { viewSpecs, toolbarConfig } = this.getCurrentData();\n        let viewTypes = [].concat(toolbarConfig.header ? toolbarConfig.header.viewsWithButtons : [], toolbarConfig.footer ? toolbarConfig.footer.viewsWithButtons : []);\n        let i;\n        let spec;\n        for (let viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    }\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    prev() {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    }\n    next() {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    }\n    prevYear() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    }\n    nextYear() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    }\n    today() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    }\n    gotoDate(zonedDateInput) {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    }\n    incrementDate(deltaInput) {\n        let state = this.getCurrentData();\n        let delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    }\n    getDate() {\n        let state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    }\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    formatDate(d, formatter) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    }\n    // `settings` is for formatter AND isEndExclusive\n    formatRange(d0, d1, settings) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    }\n    formatIso(d, omitTime) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime });\n    }\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    select(dateOrObj, endDate) {\n        let selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        let state = this.getCurrentData();\n        let selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection });\n            triggerDateSelect(selection, null, state);\n        }\n    }\n    unselect(pev) {\n        let state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    }\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    addEvent(eventInput, sourceInput) {\n        if (eventInput instanceof EventImpl) {\n            let def = eventInput._def;\n            let instance = eventInput._instance;\n            let currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def, instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        let state = this.getCurrentData();\n        let eventSource;\n        if (sourceInput instanceof EventSourceImpl) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                [eventSource] = hashValuesToArray(state.eventSources);\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            let sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(`Could not find an event source with ID \"${sourceInput}\"`); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        let tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            let newEventApi = new EventImpl(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    }\n    triggerEventAdd(eventApi) {\n        let { emitter } = this.getCurrentData();\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: () => {\n                this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    }\n    // TODO: optimize\n    getEventById(id) {\n        let state = this.getCurrentData();\n        let { defs, instances } = state.eventStore;\n        id = String(id);\n        for (let defId in defs) {\n            let def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventImpl(state, def, null);\n                }\n                for (let instanceId in instances) {\n                    let instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventImpl(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    }\n    getEvents() {\n        let currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    }\n    removeAllEvents() {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    }\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    getEventSources() {\n        let state = this.getCurrentData();\n        let sourceHash = state.eventSources;\n        let sourceApis = [];\n        for (let internalId in sourceHash) {\n            sourceApis.push(new EventSourceImpl(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    }\n    getEventSourceById(id) {\n        let state = this.getCurrentData();\n        let sourceHash = state.eventSources;\n        id = String(id);\n        for (let sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceImpl(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    }\n    addEventSource(sourceInput) {\n        let state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceImpl) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        let eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceImpl(state, eventSource);\n        }\n        return null;\n    }\n    removeAllEventSources() {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    }\n    refetchEvents() {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    }\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    scrollToTime(timeInput) {\n        let time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time });\n        }\n    }\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    let res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nconst EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nclass Splitter {\n    constructor() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    splitProps(props) {\n        let keyInfos = this.getKeyInfo(props);\n        let defKeys = this.getKeysForEventDefs(props.eventStore);\n        let dateSelections = this.splitDateSelection(props.dateSelection);\n        let individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        let eventStores = this.splitEventStore(props.eventStore, defKeys);\n        let eventDrags = this.splitEventDrag(props.eventDrag);\n        let eventResizes = this.splitEventResize(props.eventResize);\n        let splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, (info, key) => this.eventUiBuilders[key] || memoize(buildEventUiForKey));\n        for (let key in keyInfos) {\n            let keyInfo = keyInfos[key];\n            let eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            let buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    }\n    _splitDateSpan(dateSpan) {\n        let dateSpans = {};\n        if (dateSpan) {\n            let keys = this.getKeysForDateSpan(dateSpan);\n            for (let key of keys) {\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    }\n    _getKeysForEventDefs(eventStore) {\n        return mapHash(eventStore.defs, (eventDef) => this.getKeysForEventDef(eventDef));\n    }\n    _splitEventStore(eventStore, defKeys) {\n        let { defs, instances } = eventStore;\n        let splitStores = {};\n        for (let defId in defs) {\n            for (let key of defKeys[defId]) {\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (let instanceId in instances) {\n            let instance = instances[instanceId];\n            for (let key of defKeys[instance.defId]) {\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    }\n    _splitIndividualUi(eventUiBases, defKeys) {\n        let splitHashes = {};\n        for (let defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (let key of defKeys[defId]) {\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    }\n    _splitInteraction(interaction) {\n        let splitStates = {};\n        if (interaction) {\n            let affectedStores = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            let mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            let mutatedStores = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            let populate = (key) => {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (let key in affectedStores) {\n                populate(key);\n            }\n            for (let key in mutatedStores) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    }\n}\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    let baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    let stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        Object.assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    let classNames = [\n        'fc-day',\n        `fc-day-${DAY_IDS[meta.dow]}`,\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    let classNames = [\n        'fc-slot',\n        `fc-slot-${DAY_IDS[meta.dow]}`,\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nconst DAY_FORMAT = createFormatter({ year: 'numeric', month: 'long', day: 'numeric' });\nconst WEEK_FORMAT = createFormatter({ week: 'long' });\nfunction buildNavLinkAttrs(context, dateMarker, viewType = 'day', isTabbable = true) {\n    const { dateEnv, options, calendarApi } = context;\n    let dateStr = dateEnv.format(dateMarker, viewType === 'week' ? WEEK_FORMAT : DAY_FORMAT);\n    if (options.navLinks) {\n        let zonedDate = dateEnv.toDate(dateMarker);\n        const handleInteraction = (ev) => {\n            let customAction = viewType === 'day' ? options.navLinkDayClick :\n                viewType === 'week' ? options.navLinkWeekClick : null;\n            if (typeof customAction === 'function') {\n                customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if (typeof customAction === 'string') {\n                    viewType = customAction;\n                }\n                calendarApi.zoomTo(dateMarker, viewType);\n            }\n        };\n        return Object.assign({ title: formatWithOrdinals(options.navLinkHint, [dateStr, zonedDate], dateStr), 'data-navlink': '' }, (isTabbable\n            ? createAriaClickAttrs(handleInteraction)\n            : { onClick: handleInteraction }));\n    }\n    return { 'aria-label': dateStr };\n}\n\nlet _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    let outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    let innerEl = outerEl.firstChild;\n    let res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nlet _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    let el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    let res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding = false) {\n    let computedStyle = window.getComputedStyle(el);\n    let borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    let borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    let borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    let borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    let badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    let scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    let scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    let res = {\n        borderLeft,\n        borderRight,\n        borderTop,\n        borderBottom,\n        scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding = false, doFromWindowViewport) {\n    let outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    let edges = computeEdges(el, goWithinPadding);\n    let res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    let rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    let clippingParents = getClippingParents(el);\n    let rect = el.getBoundingClientRect();\n    for (let clippingParent of clippingParents) {\n        let intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\n// does not return window\nfunction getClippingParents(el) {\n    let parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        let computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nclass PositionCache {\n    constructor(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        let originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    buildElHorizontals(originClientLeft) {\n        let lefts = [];\n        let rights = [];\n        for (let el of this.els) {\n            let rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    }\n    // Populates the top/bottom internal coordinate arrays\n    buildElVerticals(originClientTop) {\n        let tops = [];\n        let bottoms = [];\n        for (let el of this.els) {\n            let rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    }\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    leftToIndex(leftPosition) {\n        let { lefts, rights } = this;\n        let len = lefts.length;\n        let i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    }\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    topToIndex(topPosition) {\n        let { tops, bottoms } = this;\n        let len = tops.length;\n        let i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    }\n    // Gets the width of the element at the given index\n    getWidth(leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    }\n    // Gets the height of the element at the given index\n    getHeight(topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    }\n    similarTo(otherCache) {\n        return similarNumArrays(this.tops || [], otherCache.tops || []) &&\n            similarNumArrays(this.bottoms || [], otherCache.bottoms || []) &&\n            similarNumArrays(this.lefts || [], otherCache.lefts || []) &&\n            similarNumArrays(this.rights || [], otherCache.rights || []);\n    }\n}\nfunction similarNumArrays(a, b) {\n    const len = a.length;\n    if (len !== b.length) {\n        return false;\n    }\n    for (let i = 0; i < len; i++) {\n        if (Math.round(a[i]) !== Math.round(b[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nclass ScrollController {\n    getMaxScrollTop() {\n        return this.getScrollHeight() - this.getClientHeight();\n    }\n    getMaxScrollLeft() {\n        return this.getScrollWidth() - this.getClientWidth();\n    }\n    canScrollVertically() {\n        return this.getMaxScrollTop() > 0;\n    }\n    canScrollHorizontally() {\n        return this.getMaxScrollLeft() > 0;\n    }\n    canScrollUp() {\n        return this.getScrollTop() > 0;\n    }\n    canScrollDown() {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    }\n    canScrollLeft() {\n        return this.getScrollLeft() > 0;\n    }\n    canScrollRight() {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    }\n}\nclass ElementScrollController extends ScrollController {\n    constructor(el) {\n        super();\n        this.el = el;\n    }\n    getScrollTop() {\n        return this.el.scrollTop;\n    }\n    getScrollLeft() {\n        return this.el.scrollLeft;\n    }\n    setScrollTop(top) {\n        this.el.scrollTop = top;\n    }\n    setScrollLeft(left) {\n        this.el.scrollLeft = left;\n    }\n    getScrollWidth() {\n        return this.el.scrollWidth;\n    }\n    getScrollHeight() {\n        return this.el.scrollHeight;\n    }\n    getClientHeight() {\n        return this.el.clientHeight;\n    }\n    getClientWidth() {\n        return this.el.clientWidth;\n    }\n}\nclass WindowScrollController extends ScrollController {\n    getScrollTop() {\n        return window.pageYOffset;\n    }\n    getScrollLeft() {\n        return window.pageXOffset;\n    }\n    setScrollTop(n) {\n        window.scroll(window.pageXOffset, n);\n    }\n    setScrollLeft(n) {\n        window.scroll(n, window.pageYOffset);\n    }\n    getScrollWidth() {\n        return document.documentElement.scrollWidth;\n    }\n    getScrollHeight() {\n        return document.documentElement.scrollHeight;\n    }\n    getClientHeight() {\n        return document.documentElement.clientHeight;\n    }\n    getClientWidth() {\n        return document.documentElement.clientWidth;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nclass DateComponent extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.uid = guid();\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    prepareHits() {\n    }\n    queryHit(positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    }\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    isValidSegDownEl(el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    }\n    isValidDateDownEl(el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    }\n}\n\nclass NamedTimeZoneImpl {\n    constructor(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n}\n\nclass SegHierarchy {\n    constructor(getEntryThickness = (entry) => {\n        // should return an integer\n        return entry.thickness;\n    }) {\n        this.getEntryThickness = getEntryThickness;\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    addSegs(inputs) {\n        let hiddenEntries = [];\n        for (let input of inputs) {\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    }\n    insertEntry(entry, hiddenEntries) {\n        let insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    }\n    isInsertionValid(insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + this.getEntryThickness(entry) <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    }\n    // returns number of new entries inserted\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    }\n    splitEntry(entry, barrier, hiddenEntries) {\n        let partCnt = 0;\n        let splitHiddenEntries = [];\n        let entrySpan = entry.span;\n        let barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, splitHiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: intersectSpans(barrierSpan, entrySpan), // guaranteed to intersect\n            }, ...splitHiddenEntries);\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    }\n    insertEntryAt(entry, insertion) {\n        let { entriesByLevel, levelCoords } = this;\n        if (insertion.lateral === -1) {\n            // create a new level\n            insertAt(levelCoords, insertion.level, insertion.levelCoord);\n            insertAt(entriesByLevel, insertion.level, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    }\n    findInsertion(newEntry) {\n        let { levelCoords, entriesByLevel, strictOrder, stackCnts } = this;\n        let levelCnt = levelCoords.length;\n        let candidateCoord = 0;\n        let touchingLevel = -1;\n        let touchingLateral = -1;\n        let touchingEntry = null;\n        let stackCnt = 0;\n        for (let trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n            let trackingCoord = levelCoords[trackingLevel];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && trackingCoord >= candidateCoord + this.getEntryThickness(newEntry)) {\n                break;\n            }\n            let trackingEntries = entriesByLevel[trackingLevel];\n            let trackingEntry;\n            let searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n            let lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            while ( // loop through entries that horizontally intersect\n            (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                let trackingEntryBottom = trackingCoord + this.getEntryThickness(trackingEntry);\n                // intersects into the top of the candidate?\n                if (trackingEntryBottom > candidateCoord) {\n                    candidateCoord = trackingEntryBottom;\n                    touchingEntry = trackingEntry;\n                    touchingLevel = trackingLevel;\n                    touchingLateral = lateralIndex;\n                }\n                // butts up against top of candidate? (will happen if just intersected as well)\n                if (trackingEntryBottom === candidateCoord) {\n                    // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                    stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                }\n                lateralIndex += 1;\n            }\n        }\n        // the destination level will be after touchingEntry's level. find it\n        let destLevel = 0;\n        if (touchingEntry) {\n            destLevel = touchingLevel + 1;\n            while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                destLevel += 1;\n            }\n        }\n        // if adding to an existing level, find where to insert\n        let destLateral = -1;\n        if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n            destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n        }\n        return {\n            touchingLevel,\n            touchingLateral,\n            touchingEntry,\n            stackCnt,\n            levelCoord: candidateCoord,\n            level: destLevel,\n            lateral: destLateral,\n        };\n    }\n    // sorted by levelCoord (lowest to highest)\n    toRects() {\n        let { entriesByLevel, levelCoords } = this;\n        let levelCnt = entriesByLevel.length;\n        let rects = [];\n        for (let level = 0; level < levelCnt; level += 1) {\n            let entries = entriesByLevel[level];\n            let levelCoord = levelCoords[level];\n            for (let entry of entries) {\n                rects.push(Object.assign(Object.assign({}, entry), { thickness: this.getEntryThickness(entry), levelCoord }));\n            }\n        }\n        return rects;\n    }\n}\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    let merges = [];\n    for (let entry of entries) {\n        let filteredMerges = [];\n        let hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (let merge of merges) {\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    let start = Math.max(span0.start, span1.start);\n    let end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start, end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    let startIndex = 0;\n    let endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        let middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        let middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nclass ElementDragging {\n    constructor(el, selector) {\n        this.emitter = new Emitter();\n    }\n    destroy() {\n    }\n    setMirrorIsVisible(bool) {\n        // optional if subclass doesn't want to support a mirror\n    }\n    setMirrorNeedsRevert(bool) {\n        // optional if subclass doesn't want to support a mirror\n    }\n    setAutoScrollEnabled(bool) {\n        // optional\n    }\n}\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nconst config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nconst DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    let { refined, extra } = refineProps(raw, DRAG_META_REFINERS);\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nconst CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(renderProps) {\n    return renderProps.text;\n}\n\n// BAD name for this class now. used in the Header\nclass TableDateCell extends BaseComponent {\n    render() {\n        let { dateEnv, options, theme, viewApi } = this.context;\n        let { props } = this;\n        let { date, dateProfile } = props;\n        let dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        let classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        let text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        let navLinkAttrs = (!dayMeta.isDisabled && props.colCnt > 1)\n            ? buildNavLinkAttrs(this.context, date)\n            : {};\n        let renderProps = Object.assign(Object.assign(Object.assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraRenderProps), { text }), dayMeta);\n        return (createElement(ContentContainer, { elTag: \"th\", elClasses: classNames, elAttrs: Object.assign({ role: 'columnheader', colSpan: props.colSpan, 'data-date': !dayMeta.isDisabled ? formatDayString(date) : undefined }, props.extraDataAttrs), renderProps: renderProps, generatorName: \"dayHeaderContent\", customGenerator: options.dayHeaderContent, defaultGenerator: renderInner$1, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContainer) => (createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(InnerContainer, { elTag: \"a\", elAttrs: navLinkAttrs, elClasses: [\n                'fc-col-header-cell-cushion',\n                props.isSticky && 'fc-sticky',\n            ] }))))));\n    }\n}\n\nconst WEEKDAY_FORMAT = createFormatter({ weekday: 'long' });\nclass TableDowCell extends BaseComponent {\n    render() {\n        let { props } = this;\n        let { dateEnv, theme, viewApi, options } = this.context;\n        let date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        let dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        let text = dateEnv.format(date, props.dayHeaderFormat);\n        let renderProps = Object.assign(Object.assign(Object.assign(Object.assign({ // TODO: make this public?\n            date }, dateMeta), { view: viewApi }), props.extraRenderProps), { text });\n        return (createElement(ContentContainer, { elTag: \"th\", elClasses: [\n                CLASS_NAME,\n                ...getDayClassNames(dateMeta, theme),\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign({ role: 'columnheader', colSpan: props.colSpan }, props.extraDataAttrs), renderProps: renderProps, generatorName: \"dayHeaderContent\", customGenerator: options.dayHeaderContent, defaultGenerator: renderInner$1, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContent) => (createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n            createElement(InnerContent, { elTag: \"a\", elClasses: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky && 'fc-sticky',\n                ], elAttrs: {\n                    'aria-label': dateEnv.format(date, WEEKDAY_FORMAT),\n                } })))));\n    }\n}\n\nclass NowTimer extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        this.initialNowQueriedMs = new Date().valueOf();\n        this.state = this.computeTiming().currentState;\n    }\n    render() {\n        let { props, state } = this;\n        return props.children(state.nowDate, state.todayRange);\n    }\n    componentDidMount() {\n        this.setTimeout();\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    }\n    componentWillUnmount() {\n        this.clearTimeout();\n    }\n    computeTiming() {\n        let { props, context } = this;\n        let unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        let currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        let nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        let waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs,\n        };\n    }\n    setTimeout() {\n        let { nextState, waitMs } = this.computeTiming();\n        this.timeoutId = setTimeout(() => {\n            this.setState(nextState, () => {\n                this.setTimeout();\n            });\n        }, waitMs);\n    }\n    clearTimeout() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    }\n}\nNowTimer.contextType = ViewContextType;\nfunction buildDayRange(date) {\n    let start = startOfDay(date);\n    let end = addDays(start, 1);\n    return { start, end };\n}\n\nclass DayHeader extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n    }\n    render() {\n        let { context } = this;\n        let { dates, dateProfile, datesRepDistinctDays, renderIntro } = this.props;\n        let dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(\"tr\", { role: \"row\" },\n            renderIntro && renderIntro('day'),\n            dates.map((date) => (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))))))));\n    }\n}\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nclass DaySeriesModel {\n    constructor(range, dateProfileGenerator) {\n        let date = range.start;\n        let { end } = range;\n        let indices = [];\n        let dates = [];\n        let dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    sliceRange(range) {\n        let firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        let lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        let clippedFirstIndex = Math.max(0, firstIndex);\n        let clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    }\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    getDateDayIndex(date) {\n        let { indices } = this;\n        let dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    }\n}\n\nclass DayTableModel {\n    constructor(daySeries, breakOnWeeks) {\n        let { dates } = daySeries;\n        let daysPerRow;\n        let firstDay;\n        let rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    buildCells() {\n        let rows = [];\n        for (let row = 0; row < this.rowCnt; row += 1) {\n            let cells = [];\n            for (let col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    }\n    buildCell(row, col) {\n        let date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date,\n        };\n    }\n    buildHeaderDates() {\n        let dates = [];\n        for (let col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    }\n    sliceRange(range) {\n        let { colCnt } = this;\n        let seriesSeg = this.daySeries.sliceRange(range);\n        let segs = [];\n        if (seriesSeg) {\n            let { firstIndex, lastIndex } = seriesSeg;\n            let index = firstIndex;\n            while (index <= lastIndex) {\n                let row = Math.floor(index / colCnt);\n                let nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    }\n}\n\nclass Slicer {\n    constructor() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    sliceProps(props, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        let { eventUiBases } = props;\n        let eventSegs = this.sliceEventStore(props.eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs);\n        return {\n            dateSelectionSegs: this.sliceDateSelection(props.dateSelection, dateProfile, nextDayThreshold, eventUiBases, context, ...extraArgs),\n            businessHourSegs: this.sliceBusinessHours(props.businessHours, dateProfile, nextDayThreshold, context, ...extraArgs),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag(props.eventDrag, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),\n            eventResize: this.sliceEventResize(props.eventResize, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    }\n    sliceNowDate(// does not memoize\n    date, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        return this._sliceDateSpan({ range: { start: date, end: addMs(date, 1) }, allDay: false }, // add 1 ms, protect against null range\n        dateProfile, nextDayThreshold, {}, context, ...extraArgs);\n    }\n    _sliceBusinessHours(businessHours, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore(expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context), {}, dateProfile, nextDayThreshold, ...extraArgs).bg;\n    }\n    _sliceEventStore(eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {\n        if (eventStore) {\n            let rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    }\n    _sliceInteraction(interaction, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {\n        if (!interaction) {\n            return null;\n        }\n        let rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    }\n    _sliceDateSpan(dateSpan, dateProfile, nextDayThreshold, eventUiBases, context, ...extraArgs) {\n        if (!dateSpan) {\n            return [];\n        }\n        let activeRange = computeActiveRange(dateProfile, Boolean(nextDayThreshold));\n        let activeDateSpanRange = intersectRanges(dateSpan.range, activeRange);\n        if (activeDateSpanRange) {\n            dateSpan = Object.assign(Object.assign({}, dateSpan), { range: activeDateSpanRange });\n            let eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n            let segs = this.sliceRange(dateSpan.range, ...extraArgs);\n            for (let seg of segs) {\n                seg.eventRange = eventRange;\n            }\n            return segs;\n        }\n        return [];\n    }\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    sliceEventRanges(eventRanges, extraArgs) {\n        let segs = [];\n        for (let eventRange of eventRanges) {\n            segs.push(...this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    }\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    sliceEventRange(eventRange, extraArgs) {\n        let dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        let segs = this.sliceRange(dateRange, ...extraArgs);\n        for (let seg of segs) {\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    }\n}\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    let range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    let { instances } = interaction.mutatedEvents;\n    for (let instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    let calendarState = context.getCurrentData();\n    let props = Object.assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta = {}, filterConfig) {\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    let currentState = context.getCurrentData();\n    let interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    let subjectEventStore = interaction.mutatedEvents;\n    let subjectDefs = subjectEventStore.defs;\n    let subjectInstances = subjectEventStore.instances;\n    let subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    let otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    let otherDefs = otherEventStore.defs;\n    let otherInstances = otherEventStore.instances;\n    let otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (let subjectInstanceId in subjectInstances) {\n        let subjectInstance = subjectInstances[subjectInstanceId];\n        let subjectRange = subjectInstance.range;\n        let subjectConfig = subjectConfigs[subjectInstance.defId];\n        let subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        let { eventOverlap } = context.options;\n        let eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (let otherInstanceId in otherInstances) {\n            let otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                let otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventImpl(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventImpl(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        let calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (let subjectAllow of subjectConfig.allows) {\n            let subjectDateSpan = Object.assign(Object.assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            let origDef = calendarEventStore.defs[subjectDef.defId];\n            let origInstance = calendarEventStore.instances[subjectInstanceId];\n            let eventApi;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventImpl(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventImpl(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    let relevantEventStore = state.eventStore;\n    let relevantDefs = relevantEventStore.defs;\n    let relevantInstances = relevantEventStore.instances;\n    let selection = state.dateSelection;\n    let selectionRange = selection.range;\n    let { selectionConfig } = context.getCurrentData();\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    let { selectOverlap } = context.options;\n    let selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (let relevantInstanceId in relevantInstances) {\n        let relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventImpl(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (let selectionAllow of selectionConfig.allows) {\n        let fullDateSpan = Object.assign(Object.assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (let constraint of constraints) {\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, (eventDef) => eventDef.groupId === constraint));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    let { instances } = eventStore;\n    let ranges = [];\n    for (let instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (let outerRange of outerRanges) {\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nconst VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nclass Scroller extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n        };\n    }\n    render() {\n        let { props } = this;\n        let { liquid, liquidIsAbsolute } = props;\n        let isAbsolute = liquid && liquidIsAbsolute;\n        let className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    }\n    needsXScrolling() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        let { el } = this;\n        let realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        let { children } = el;\n        for (let i = 0; i < children.length; i += 1) {\n            let childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    }\n    needsYScrolling() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        let { el } = this;\n        let realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        let { children } = el;\n        for (let i = 0; i < children.length; i += 1) {\n            let childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getXScrollbarWidth() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    }\n    getYScrollbarWidth() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    }\n}\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nclass RefMap {\n    constructor(masterCallback) {\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = (val, key) => {\n            let { depths, currentMap } = this;\n            let removed = false;\n            let added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (this.masterCallback) {\n                if (removed) {\n                    this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    createRef(key) {\n        let refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = (val) => {\n                this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    }\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    collect(startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    }\n    getAll() {\n        return hashValuesToArray(this.currentMap);\n    }\n}\n\nfunction computeShrinkWidth(chunkEls) {\n    let shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    let largestWidth = 0;\n    for (let shrinkCell of shrinkCells) {\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg, isHeader) {\n    let { expandRows } = arg;\n    let content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            role: 'presentation',\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement(isHeader ? 'thead' : 'tbody', {\n            role: 'presentation',\n        }, typeof chunkConfig.rowContent === 'function'\n            ? chunkConfig.rowContent(arg)\n            : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    let colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (let colProps of cols) {\n        let span = colProps.span || 1;\n        for (let i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement('colgroup', {}, ...colNodes);\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (let col of cols) {\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    let classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    let classNames = [\n        'fc-scrollgrid-section',\n        `fc-scrollgrid-section-${sectionConfig.type}`,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    let { stickyHeaderDates } = options;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    let { stickyFooterScrollbar } = options;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nclass SimpleScrollGrid extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.processCols = memoize((a) => a, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        this.renderMicroColGroup = memoize(renderMicroColGroup);\n        this.scrollerRefs = new RefMap();\n        this.scrollerElRefs = new RefMap(this._handleScrollerEl.bind(this));\n        this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        this.handleSizing = () => {\n            this.safeSetState(Object.assign({ shrinkWidth: this.computeShrinkWidth() }, this.computeScrollerDims()));\n        };\n    }\n    render() {\n        let { props, state, context } = this;\n        let sectionConfigs = props.sections || [];\n        let cols = this.processCols(props.cols);\n        let microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        let classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        let configCnt = sectionConfigs.length;\n        let configI = 0;\n        let currentConfig;\n        let headSectionNodes = [];\n        let bodySectionNodes = [];\n        let footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode, false));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        let isBuggy = !getCanVGrowWithinCell();\n        const roleAttrs = { role: 'rowgroup' };\n        return createElement('table', {\n            role: 'grid',\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement('thead', roleAttrs, ...headSectionNodes), Boolean(!isBuggy && bodySectionNodes.length) && createElement('tbody', roleAttrs, ...bodySectionNodes), Boolean(!isBuggy && footSectionNodes.length) && createElement('tfoot', roleAttrs, ...footSectionNodes), isBuggy && createElement('tbody', roleAttrs, ...headSectionNodes, ...bodySectionNodes, ...footSectionNodes));\n    }\n    renderSection(sectionConfig, microColGroupNode, isHeader) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, role: \"presentation\", className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk, isHeader)));\n    }\n    renderChunkTd(sectionConfig, microColGroupNode, chunkConfig, isHeader) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        let { props } = this;\n        let { forceYScrollbars, scrollerClientWidths, scrollerClientHeights } = this.state;\n        let needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        let isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        let overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        let sectionKey = sectionConfig.key;\n        let content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: () => { },\n        }, isHeader);\n        return createElement(isHeader ? 'th' : 'td', {\n            ref: chunkConfig.elRef,\n            role: 'presentation',\n        }, createElement(\"div\", { className: `fc-scroller-harness${isLiquid ? ' fc-scroller-harness-liquid' : ''}` },\n            createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                : true }, content)));\n    }\n    _handleScrollerEl(scrollerEl, key) {\n        let section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    }\n    componentDidMount() {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    }\n    componentDidUpdate() {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleSizing);\n    }\n    computeShrinkWidth() {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    }\n    computeScrollerDims() {\n        let scrollbarWidth = getScrollbarWidths();\n        let { scrollerRefs, scrollerElRefs } = this;\n        let forceYScrollbars = false;\n        let scrollerClientWidths = {};\n        let scrollerClientHeights = {};\n        for (let sectionKey in scrollerRefs.currentMap) {\n            let scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (let section of this.props.sections) {\n            let sectionKey = section.key;\n            let scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                let harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars, scrollerClientWidths, scrollerClientHeights };\n    }\n}\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (let section of sections) {\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nclass EventContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.handleEl = (el) => {\n            this.el = el;\n            if (el) {\n                setElSeg(el, this.props.seg);\n            }\n        };\n    }\n    render() {\n        const { props, context } = this;\n        const { options } = context;\n        const { seg } = props;\n        const { eventRange } = seg;\n        const { ui } = eventRange;\n        const renderProps = {\n            event: new EventImpl(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        return (createElement(ContentContainer, Object.assign({}, props /* contains children */, { elRef: this.handleEl, elClasses: [\n                ...getEventClassNames(renderProps),\n                ...seg.eventRange.ui.classNames,\n                ...(props.elClasses || []),\n            ], renderProps: renderProps, generatorName: \"eventContent\", customGenerator: options.eventContent, defaultGenerator: props.defaultGenerator, classNameGenerator: options.eventClassNames, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount })));\n    }\n    componentDidUpdate(prevProps) {\n        if (this.el && this.props.seg !== prevProps.seg) {\n            setElSeg(this.el, this.props.seg);\n        }\n    }\n}\n\n// should not be a purecomponent\nclass StandardEvent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg } = props;\n        let { ui } = seg.eventRange;\n        let timeFormat = options.eventTimeFormat || props.defaultTimeFormat;\n        let timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventContainer, Object.assign({}, props /* includes elRef */, { elTag: \"a\", elStyle: {\n                borderColor: ui.borderColor,\n                backgroundColor: ui.backgroundColor,\n            }, elAttrs: getSegAnchorAttrs(seg, context), defaultGenerator: renderInnerContent$1, timeText: timeText }), (InnerContent, eventContentArg) => (createElement(Fragment, null,\n            createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-event-main'], elStyle: { color: eventContentArg.textColor } }),\n            Boolean(eventContentArg.isStartResizable) && (createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" })),\n            Boolean(eventContentArg.isEndResizable) && (createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))))));\n    }\n}\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\n\nconst NowIndicatorContainer = (props) => (createElement(ViewContextType.Consumer, null, (context) => {\n    let { options } = context;\n    let renderProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(ContentContainer, Object.assign({}, props /* includes children */, { elTag: props.elTag || 'div', renderProps: renderProps, generatorName: \"nowIndicatorContent\", customGenerator: options.nowIndicatorContent, classNameGenerator: options.nowIndicatorClassNames, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount })));\n}));\n\nconst DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nclass DayCellContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.refineRenderProps = memoizeObjArg(refineRenderProps);\n    }\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let renderProps = this.refineRenderProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            isMonthStart: props.isMonthStart || false,\n            showDayNumber: props.showDayNumber,\n            extraRenderProps: props.extraRenderProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n            monthStartFormat: options.monthStartFormat,\n        });\n        return (createElement(ContentContainer, Object.assign({}, props /* includes children */, { elClasses: [\n                ...getDayClassNames(renderProps, context.theme),\n                ...(props.elClasses || []),\n            ], elAttrs: Object.assign(Object.assign({}, props.elAttrs), (renderProps.isDisabled ? {} : { 'data-date': formatDayString(props.date) })), renderProps: renderProps, generatorName: \"dayCellContent\", customGenerator: options.dayCellContent, defaultGenerator: props.defaultGenerator, classNameGenerator: \n            // don't use custom classNames if disabled\n            renderProps.isDisabled ? undefined : options.dayCellClassNames, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount })));\n    }\n}\nfunction hasCustomDayCellContent(options) {\n    return Boolean(options.dayCellContent || hasCustomRenderingHandler('dayCellContent', options));\n}\nfunction refineRenderProps(raw) {\n    let { date, dateEnv, dateProfile, isMonthStart } = raw;\n    let dayMeta = getDateMeta(date, raw.todayRange, null, dateProfile);\n    let dayNumberText = raw.showDayNumber ? (dateEnv.format(date, isMonthStart ? raw.monthStartFormat : DAY_NUM_FORMAT)) : '';\n    return Object.assign(Object.assign(Object.assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { isMonthStart,\n        dayNumberText }), raw.extraRenderProps);\n}\n\nclass BgEvent extends BaseComponent {\n    render() {\n        let { props } = this;\n        let { seg } = props;\n        return (createElement(EventContainer, { elTag: \"div\", elClasses: ['fc-bg-event'], elStyle: { backgroundColor: seg.eventRange.ui.backgroundColor }, defaultGenerator: renderInnerContent, seg: seg, timeText: \"\", isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, disableDragging: true, disableResizing: true }));\n    }\n}\nfunction renderInnerContent(props) {\n    let { title } = props.event;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: `fc-${fillType}` }));\n}\n\nconst WeekNumberContainer = (props) => (createElement(ViewContextType.Consumer, null, (context) => {\n    let { dateEnv, options } = context;\n    let { date } = props;\n    let format = options.weekNumberFormat || props.defaultFormat;\n    let num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    let text = dateEnv.format(date, format);\n    let renderProps = { num, text, date };\n    return (createElement(ContentContainer // why isn't WeekNumberContentArg being auto-detected?\n    , Object.assign({}, props /* includes children */, { renderProps: renderProps, generatorName: \"weekNumberContent\", customGenerator: options.weekNumberContent, defaultGenerator: renderInner, classNameGenerator: options.weekNumberClassNames, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount })));\n}));\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nconst PADDING_FROM_VIEWPORT = 10;\nclass Popover extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            titleId: getUniqueDomId(),\n        };\n        this.handleRootEl = (el) => {\n            this.rootEl = el;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        this.handleDocumentMouseDown = (ev) => {\n            // only hide the popover if the click happened outside the popover\n            const target = getEventTargetViaRoot(ev);\n            if (!this.rootEl.contains(target)) {\n                this.handleCloseClick();\n            }\n        };\n        this.handleDocumentKeyDown = (ev) => {\n            if (ev.key === 'Escape') {\n                this.handleCloseClick();\n            }\n        };\n        this.handleCloseClick = () => {\n            let { onClose } = this.props;\n            if (onClose) {\n                onClose();\n            }\n        };\n    }\n    render() {\n        let { theme, options } = this.context;\n        let { props, state } = this;\n        let classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", Object.assign({}, props.extraAttrs, { id: props.id, className: classNames.join(' '), \"aria-labelledby\": state.titleId, ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\", id: state.titleId }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), title: options.closeHint, onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    }\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleDocumentMouseDown);\n        document.addEventListener('keydown', this.handleDocumentKeyDown);\n        this.updateSize();\n    }\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleDocumentMouseDown);\n        document.removeEventListener('keydown', this.handleDocumentKeyDown);\n    }\n    updateSize() {\n        let { isRtl } = this.context;\n        let { alignmentEl, alignGridTop } = this.props;\n        let { rootEl } = this;\n        let alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            let popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            let popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            let popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            let origin = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin.top,\n                left: popoverLeft - origin.left,\n            });\n        }\n    }\n}\n\nclass MorePopover extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.handleRootEl = (rootEl) => {\n            this.rootEl = rootEl;\n            if (rootEl) {\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n    }\n    render() {\n        let { options, dateEnv } = this.context;\n        let { props } = this;\n        let { startDate, todayRange, dateProfile } = props;\n        let title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellContainer, { elRef: this.handleRootEl, date: startDate, dateProfile: dateProfile, todayRange: todayRange }, (InnerContent, renderProps, elAttrs) => (createElement(Popover, { elRef: elAttrs.ref, id: props.id, title: title, extraClassNames: ['fc-more-popover'].concat(elAttrs.className || []), extraAttrs: elAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            hasCustomDayCellContent(options) && (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-more-popover-misc'] })),\n            props.children))));\n    }\n    queryHit(positionLeft, positionTop, elWidth, elHeight) {\n        let { rootEl, props } = this;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: Object.assign({ allDay: !props.forceTimed, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    }\n}\n\nclass MoreLinkContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            isPopoverOpen: false,\n            popoverId: getUniqueDomId(),\n        };\n        this.handleLinkEl = (linkEl) => {\n            this.linkEl = linkEl;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, linkEl);\n            }\n        };\n        this.handleClick = (ev) => {\n            let { props, context } = this;\n            let { moreLinkClick } = context.options;\n            let date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                let { def, instance, range } = seg.eventRange;\n                return {\n                    event: new EventImpl(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        this.handlePopoverClose = () => {\n            this.setState({ isPopoverOpen: false });\n        };\n    }\n    render() {\n        let { props, state } = this;\n        return (createElement(ViewContextType.Consumer, null, (context) => {\n            let { viewApi, options, calendarApi } = context;\n            let { moreLinkText } = options;\n            let { moreCnt } = props;\n            let range = computeRange(props);\n            let text = typeof moreLinkText === 'function' // TODO: eventually use formatWithOrdinals\n                ? moreLinkText.call(calendarApi, moreCnt)\n                : `+${moreCnt} ${moreLinkText}`;\n            let hint = formatWithOrdinals(options.moreLinkHint, [moreCnt], text);\n            let renderProps = {\n                num: moreCnt,\n                shortText: `+${moreCnt}`,\n                text,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(ContentContainer, { elTag: props.elTag || 'a', elRef: this.handleLinkEl, elClasses: [\n                        ...(props.elClasses || []),\n                        'fc-more-link',\n                    ], elStyle: props.elStyle, elAttrs: Object.assign(Object.assign(Object.assign({}, props.elAttrs), createAriaClickAttrs(this.handleClick)), { title: hint, 'aria-expanded': state.isPopoverOpen, 'aria-controls': state.isPopoverOpen ? state.popoverId : '' }), renderProps: renderProps, generatorName: \"moreLinkContent\", customGenerator: options.moreLinkContent, defaultGenerator: props.defaultGenerator || renderMoreLinkInner, classNameGenerator: options.moreLinkClassNames, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, props.children)),\n                state.isPopoverOpen && (createElement(MorePopover, { id: state.popoverId, startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: this.parentEl, alignmentEl: props.alignmentElRef ?\n                        props.alignmentElRef.current :\n                        this.linkEl, alignGridTop: props.alignGridTop, forceTimed: props.forceTimed, onClose: this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    }\n    componentDidMount() {\n        this.updateParentEl();\n    }\n    componentDidUpdate() {\n        this.updateParentEl();\n    }\n    updateParentEl() {\n        if (this.linkEl) {\n            this.parentEl = elementClosest(this.linkEl, '.fc-view-harness');\n        }\n    }\n}\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    let { hiddenSegs } = props;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\nclass Store {\n    constructor() {\n        this.handlers = [];\n    }\n    set(value) {\n        this.currentValue = value;\n        for (let handler of this.handlers) {\n            handler(value);\n        }\n    }\n    subscribe(handler) {\n        this.handlers.push(handler);\n        if (this.currentValue !== undefined) {\n            handler(this.currentValue);\n        }\n    }\n}\n\n/*\nSubscribers will get a LIST of CustomRenderings\n*/\nclass CustomRenderingStore extends Store {\n    constructor() {\n        super(...arguments);\n        this.map = new Map();\n    }\n    // for consistent order\n    handle(customRendering) {\n        const { map } = this;\n        let updated = false;\n        if (customRendering.isActive) {\n            map.set(customRendering.id, customRendering);\n            updated = true;\n        }\n        else if (map.has(customRendering.id)) {\n            map.delete(customRendering.id);\n            updated = true;\n        }\n        if (updated) {\n            this.set(map);\n        }\n    }\n}\n\nexport { elementClosest as $, memoizeObjArg as A, BaseComponent as B, ContentContainer as C, DelayedRunner as D, isPropsEqual as E, Emitter as F, getInitialDate as G, rangeContainsMarker as H, createEmptyEventStore as I, reduceCurrentDate as J, reduceEventStore as K, rezoneEventStoreDates as L, mergeRawOptions as M, BASE_OPTION_REFINERS as N, CALENDAR_LISTENER_REFINERS as O, CALENDAR_OPTION_REFINERS as P, COMPLEX_OPTION_COMPARATORS as Q, VIEW_OPTION_REFINERS as R, DateEnv as S, Theme as T, DateProfileGenerator as U, ViewContextType as V, createEventUi as W, parseBusinessHours as X, setRef as Y, Interaction as Z, getElSeg as _, mapHash as a, getSlotClassNames as a$, EventImpl as a0, listenBySelector as a1, listenToHoverBySelector as a2, PureComponent as a3, buildViewContext as a4, getUniqueDomId as a5, parseInteractionSettings as a6, interactionSettingsStore as a7, getNow as a8, CalendarImpl as a9, diffDates as aA, removeExact as aB, memoizeArraylike as aC, memoizeHashlike as aD, intersectRects as aE, pointInsideRect as aF, constrainPoint as aG, getRectCenter as aH, diffPoints as aI, translateRect as aJ, compareObjs as aK, collectFromHash as aL, findElements as aM, findDirectChildren as aN, removeElement as aO, applyStyle as aP, elementMatches as aQ, getEventTargetViaRoot as aR, parseClassNames as aS, getCanVGrowWithinCell as aT, mergeEventStores as aU, getRelevantEvents as aV, eventTupleToStore as aW, combineEventUis as aX, Splitter as aY, getDayClassNames as aZ, getDateMeta as a_, flushSync as aa, CalendarRoot as ab, RenderId as ac, ensureElHasStyles as ad, applyStyleProp as ae, sliceEventStore as af, JsonRequestError as ag, createContext as ah, refineProps as ai, createEventInstance as aj, parseEventDef as ak, refineEventDef as al, padStart as am, isInt as an, parseFieldSpecs as ao, compareByFieldSpecs as ap, flexibleCompare as aq, preventSelection as ar, allowSelection as as, preventContextMenu as at, allowContextMenu as au, compareNumbers as av, enableCursor as aw, disableCursor as ax, computeVisibleDayRange as ay, isMultiDayRange as az, buildViewClassNames as b, SimpleScrollGrid as b$, buildNavLinkAttrs as b0, preventDefault as b1, whenTransitionDone as b2, computeInnerRect as b3, computeEdges as b4, getClippingParents as b5, computeRect as b6, rangesEqual as b7, rangesIntersect as b8, rangeContainsRange as b9, SegHierarchy as bA, buildEntryKey as bB, getEntrySpanEnd as bC, binarySearch as bD, groupIntersectingEntries as bE, intersectSpans as bF, interactionSettingsToStore as bG, ElementDragging as bH, config as bI, parseDragMeta as bJ, DayHeader as bK, computeFallbackHeaderFormat as bL, TableDateCell as bM, TableDowCell as bN, DaySeriesModel as bO, hasBgRendering as bP, buildSegTimeText as bQ, sortEventSegs as bR, getSegMeta as bS, buildEventRangeKey as bT, getSegAnchorAttrs as bU, DayTableModel as bV, Slicer as bW, applyMutationToEventStore as bX, isPropsValid as bY, isInteractionValid as bZ, isDateSelectionValid as b_, PositionCache as ba, ScrollController as bb, ElementScrollController as bc, WindowScrollController as bd, DateComponent as be, isDateSpansEqual as bf, addMs as bg, addWeeks as bh, diffWeeks as bi, diffWholeWeeks as bj, diffDayAndTime as bk, diffDays as bl, isValidDate as bm, asCleanDays as bn, multiplyDuration as bo, addDurations as bp, asRoughMinutes as bq, asRoughSeconds as br, asRoughMs as bs, wholeDivideDurations as bt, formatIsoTimeString as bu, formatDayString as bv, buildIsoString as bw, formatIsoMonthStr as bx, NamedTimeZoneImpl as by, parse as bz, greatestDurationDenominator as c, hasShrinkWidth as c0, renderMicroColGroup as c1, getScrollGridClassNames as c2, getSectionClassNames as c3, getSectionHasLiquidHeight as c4, getAllowYScrolling as c5, renderChunkContent as c6, computeShrinkWidth as c7, sanitizeShrinkWidth as c8, isColPropsEqual as c9, renderScrollShim as ca, getStickyFooterScrollbar as cb, getStickyHeaderDates as cc, Scroller as cd, getScrollbarWidths as ce, RefMap as cf, getIsRtlScrollbarOnLeft as cg, NowTimer as ch, ScrollResponder as ci, StandardEvent as cj, NowIndicatorContainer as ck, DayCellContainer as cl, hasCustomDayCellContent as cm, EventContainer as cn, renderFill as co, BgEvent as cp, WeekNumberContainer as cq, MoreLinkContainer as cr, computeEarliestSegStart as cs, ViewContainer as ct, triggerDateSelect as cu, getDefaultEventEnd as cv, injectStyles as cw, buildElAttrs as cx, CustomRenderingStore as cy, createDuration as d, BASE_OPTION_DEFAULTS as e, arrayToHash as f, guid as g, filterHash as h, isArraysEqual as i, buildEventSourceRefiners as j, formatWithOrdinals as k, buildRangeApiWithTimeZone as l, mergeProps as m, identity as n, intersectRanges as o, parseEventSource as p, startOfDay as q, requestJson as r, subtractDurations as s, addDays as t, unpromisify as u, hashValuesToArray as v, buildEventApis as w, createFormatter as x, diffWholeDays as y, memoize as z };\n","import { m as mergeProps, g as guid, i as isArraysEqual, T as Theme, a as mapHash, B as BaseComponent, V as ViewContextType, C as ContentContainer, b as buildViewClassNames, c as greatestDurationDenominator, d as createDuration, e as BASE_OPTION_DEFAULTS, f as arrayToHash, h as filterHash, j as buildEventSourceRefiners, p as parseEventSource, k as formatWithOrdinals, u as unpromisify, l as buildRangeApiWithTimeZone, n as identity, r as requestJson, s as subtractDurations, o as intersectRanges, q as startOfDay, t as addDays, v as hashValuesToArray, w as buildEventApis, D as DelayedRunner, x as createFormatter, y as diffWholeDays, z as memoize, A as memoizeObjArg, E as isPropsEqual, F as Emitter, G as getInitialDate, H as rangeContainsMarker, I as createEmptyEventStore, J as reduceCurrentDate, K as reduceEventStore, L as rezoneEventStoreDates, M as mergeRawOptions, N as BASE_OPTION_REFINERS, O as CALENDAR_LISTENER_REFINERS, P as CALENDAR_OPTION_REFINERS, Q as COMPLEX_OPTION_COMPARATORS, R as VIEW_OPTION_REFINERS, S as DateEnv, U as DateProfileGenerator, W as createEventUi, X as parseBusinessHours, Y as setRef, Z as Interaction, _ as getElSeg, $ as elementClosest, a0 as EventImpl, a1 as listenBySelector, a2 as listenToHoverBySelector, a3 as PureComponent, a4 as buildViewContext, a5 as getUniqueDomId, a6 as parseInteractionSettings, a7 as interactionSettingsStore, a8 as getNow, a9 as CalendarImpl, aa as flushSync, ab as CalendarRoot, ac as RenderId, ad as ensureElHasStyles, ae as applyStyleProp, af as sliceEventStore } from './internal-common.js';\nexport { ag as JsonRequestError } from './internal-common.js';\nimport { createElement, createRef, Fragment, render } from 'preact';\nimport 'preact/compat';\n\nconst globalLocales = [];\n\nconst MINIMAL_RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    weekTextLong: 'Week',\n    closeHint: 'Close',\n    timeHint: 'Time',\n    eventHint: 'Event',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nconst RAW_EN_LOCALE = Object.assign(Object.assign({}, MINIMAL_RAW_EN_LOCALE), { \n    // Includes things we don't want other locales to inherit,\n    // things that derive from other translatable strings.\n    buttonHints: {\n        prev: 'Previous $0',\n        next: 'Next $0',\n        today(buttonText, unit) {\n            return (unit === 'day')\n                ? 'Today'\n                : `This ${buttonText}`;\n        },\n    }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint(eventCnt) {\n        return `Show ${eventCnt} more event${eventCnt === 1 ? '' : 's'}`;\n    } });\nfunction organizeRawLocales(explicitRawLocales) {\n    let defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    let allRawLocales = globalLocales.concat(explicitRawLocales);\n    let rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (let rawLocale of allRawLocales) {\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    let codes = [].concat(codeArg || []); // will convert to array\n    let raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (let i = 0; i < codes.length; i += 1) {\n        let parts = codes[i].toLocaleLowerCase().split('-');\n        for (let j = parts.length; j > 0; j -= 1) {\n            let simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    let merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    let { week } = merged;\n    delete merged.week;\n    return {\n        codeArg,\n        codes,\n        week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        name: input.name,\n        premiumReleaseDate: input.premiumReleaseDate ? new Date(input.premiumReleaseDate) : undefined,\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    let currentPluginIds = {};\n    let hooks = {\n        premiumReleaseDate: undefined,\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (let def of defs) {\n            const pluginName = def.name;\n            const currentId = currentPluginIds[pluginName];\n            if (currentId === undefined) {\n                currentPluginIds[pluginName] = def.id;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n            else if (currentId !== def.id) {\n                // different ID than the one already added\n                console.warn(`Duplicate plugin '${pluginName}'`);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    let currentOverrideDefs = [];\n    let currentGlobalDefs = [];\n    let currentHooks;\n    return (overrideDefs, globalDefs) => {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        premiumReleaseDate: compareOptionalDates(hooks0.premiumReleaseDate, hooks1.premiumReleaseDate),\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: Object.assign(Object.assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: Object.assign(Object.assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: Object.assign(Object.assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: Object.assign(Object.assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: Object.assign(Object.assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        listenerRefiners: Object.assign(Object.assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: Object.assign(Object.assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: Object.assign(Object.assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\nfunction compareOptionalDates(date0, date1) {\n    if (date0 === undefined) {\n        return date1;\n    }\n    if (date1 === undefined) {\n        return date0;\n    }\n    return new Date(Math.max(date0.valueOf(), date1.valueOf()));\n}\n\nclass StandardTheme extends Theme {\n}\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    let hash = {};\n    let viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    let viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    let defaultConfig = defaultConfigs[viewType];\n    let overrideConfig = overrideConfigs[viewType];\n    let queryProp = (name) => ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null));\n    let theComponent = queryProp('component');\n    let superType = queryProp('superType');\n    let superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: Object.assign(Object.assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: Object.assign(Object.assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    let rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    let { component } = rawOptions;\n    if (rawOptions.content) {\n        // TODO: remove content/classNames/didMount/etc from options?\n        component = createViewHookComponent(rawOptions);\n    }\n    else if (component && !(component.prototype instanceof BaseComponent)) {\n        // WHY?: people were using `component` property for `content`\n        // TODO: converge on one setting name\n        component = createViewHookComponent(Object.assign(Object.assign({}, rawOptions), { content: component }));\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions, // includes type and component too :(\n    };\n}\nfunction createViewHookComponent(options) {\n    return (viewProps) => (createElement(ViewContextType.Consumer, null, (context) => (createElement(ContentContainer, { elTag: \"div\", elClasses: buildViewClassNames(context.viewSpec), renderProps: Object.assign(Object.assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold }), generatorName: undefined, customGenerator: options.content, classNameGenerator: options.classNames, didMount: options.didMount, willUnmount: options.willUnmount }))));\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let defaultConfigs = parseViewConfigs(defaultInputs);\n    let overrideConfigs = parseViewConfigs(optionOverrides.views);\n    let viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, (viewDef) => buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults));\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    let duration = null;\n    let durationUnit = '';\n    let singleUnit = '';\n    let singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            let denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    let queryButtonText = (optionsSubset) => {\n        let buttonTextMap = optionsSubset.buttonText || {};\n        let buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    let queryButtonTitle = (optionsSubset) => {\n        let buttonHints = optionsSubset.buttonHints || {};\n        let buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n        if (buttonKey != null && buttonHints[buttonKey] != null) {\n            return buttonHints[buttonKey];\n        }\n        if (buttonHints[viewDef.type] != null) {\n            return buttonHints[viewDef.type];\n        }\n        if (buttonHints[singleUnit] != null) {\n            return buttonHints[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration,\n        durationUnit,\n        singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: Object.assign(Object.assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n        // not DRY\n        buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n            queryButtonTitle(optionOverrides) ||\n            viewDef.overrides.buttonHint,\n        buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n            viewDef.defaults.buttonHint ||\n            queryButtonTitle(BASE_OPTION_DEFAULTS),\n        // will eventually fall back to buttonText\n    };\n}\n// hack to get memoization working\nlet durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    let json = JSON.stringify(durationInput);\n    let res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    switch (action.type) {\n        case 'SET_OPTION':\n            return Object.assign(Object.assign({}, dynamicOptionOverrides), { [action.optionName]: action.rawOptionValue });\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    let dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (let sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    let hash = {};\n    for (let source of sources) {\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return Object.assign(Object.assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, (eventSource) => eventSource.sourceId !== sourceId);\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, (eventSource) => isSourceDirty(eventSource, fetchRange, context)), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    let nextSources = {};\n    for (let sourceId in prevSources) {\n        let source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    let { options, calendarApi } = context;\n    let sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    let fetchId = guid();\n    sourceDef.fetch({\n        eventSource,\n        range: fetchRange,\n        isRefetch,\n        context,\n    }, (res) => {\n        let { rawEvents } = res;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            rawEvents,\n        });\n    }, (error) => {\n        let errorHandled = false;\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n            errorHandled = true;\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n            errorHandled = true;\n        }\n        if (!errorHandled) {\n            console.warn(error.message, error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            error,\n        });\n    });\n    return Object.assign(Object.assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    let eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return Object.assign(Object.assign({}, sourceHash), { [sourceId]: Object.assign(Object.assign({}, eventSource), { isFetching: false, fetchRange }) });\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, (eventSource) => doesSourceNeedRange(eventSource, context));\n}\nfunction parseInitialSources(rawOptions, context) {\n    let refiners = buildEventSourceRefiners(context);\n    let rawSources = [].concat(rawOptions.eventSources || []);\n    let sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (let rawSource of rawSources) {\n        let source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    let newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    let newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    let footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    return { header, footer };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let sectionWidgets = {};\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    for (let sectionName in sectionStrHash) {\n        let sectionStr = sectionStrHash[sectionName];\n        let sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n        sectionWidgets[sectionName] = sectionRes.widgets;\n        viewsWithButtons.push(...sectionRes.viewsWithButtons);\n        hasTitle = hasTitle || sectionRes.hasTitle;\n    }\n    return { sectionWidgets, viewsWithButtons, hasTitle };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\ncalendarOptionOverrides, // overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n    let isRtl = calendarOptions.direction === 'rtl';\n    let calendarCustomButtons = calendarOptions.customButtons || {};\n    let calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    let calendarButtonText = calendarOptions.buttonText || {};\n    let calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n    let calendarButtonHints = calendarOptions.buttonHints || {};\n    let sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    let widgets = sectionSubstrs.map((buttonGroupStr) => (buttonGroupStr.split(',').map((buttonName) => {\n        if (buttonName === 'title') {\n            hasTitle = true;\n            return { buttonName };\n        }\n        let customButtonProps;\n        let viewSpec;\n        let buttonClick;\n        let buttonIcon; // only one of these will be set\n        let buttonText; // \"\n        let buttonHint;\n        // ^ for the title=\"\" attribute, for accessibility\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = (ev) => {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n            buttonHint = customButtonProps.hint || customButtonProps.text;\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = () => {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n            let textFallback = viewSpec.buttonTextOverride ||\n                viewSpec.buttonTextDefault;\n            buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                viewSpec.buttonTitleDefault ||\n                calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n            textFallback);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = () => {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n            if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                let prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                    calendarButtonHints[prevOrNext], [\n                    calendarButtonText.year || 'year',\n                    'year',\n                ], calendarButtonText[buttonName]);\n            }\n            else {\n                buttonHint = (navUnit) => formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                    calendarButtonHints[buttonName], [\n                    calendarButtonText[navUnit] || navUnit,\n                    navUnit,\n                ], calendarButtonText[buttonName]);\n            }\n        }\n        return { buttonName, buttonClick, buttonIcon, buttonText, buttonHint };\n    })));\n    return { widgets, viewsWithButtons, hasTitle };\n}\n\n// always represents the current view. otherwise, it'd need to change value every time date changes\nclass ViewImpl {\n    constructor(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    get calendar() {\n        return this.getCurrentData().calendarApi;\n    }\n    get title() {\n        return this.getCurrentData().viewTitle;\n    }\n    get activeStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n    }\n    get activeEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n    }\n    get currentStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n    }\n    get currentEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n    }\n    getOption(name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    }\n}\n\nlet eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta(refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback) {\n        successCallback({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nconst arrayEventSourcePlugin = createPlugin({\n    name: 'array-event-source',\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nlet eventSourceDef$1 = {\n    parseMeta(refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { dateEnv } = arg.context;\n        const func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), (rawEvents) => successCallback({ rawEvents }), errorCallback);\n    },\n};\nconst funcEventSourcePlugin = createPlugin({\n    name: 'func-event-source',\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nconst JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nlet eventSourceDef = {\n    parseMeta(refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { meta } = arg.eventSource;\n        const requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams).then(([rawEvents, response]) => {\n            successCallback({ rawEvents, response });\n        }, errorCallback);\n    },\n};\nconst jsonFeedEventSourcePlugin = createPlugin({\n    name: 'json-event-source',\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    let { dateEnv, options } = context;\n    let startParam;\n    let endParam;\n    let timeZoneParam;\n    let customRequestParams;\n    let params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    Object.assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nconst SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nlet recurring = {\n    parse(refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            let recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            let duration;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand(typeData, framingRange, dateEnv) {\n        let clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nconst simpleRecurringEventsPlugin = createPlugin({\n    name: 'simple-recurring-event',\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    let dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    let dayMarker = startOfDay(framingRange.start);\n    let endMarker = framingRange.end;\n    let instanceStarts = [];\n    while (dayMarker < endMarker) {\n        let instanceStart;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nconst changeHandlerPlugin = createPlugin({\n    name: 'change-handler',\n    optionChangeHandlers: {\n        events(events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    let unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    if (unfoundSources.length === 1 &&\n        inputs.length === 1 &&\n        Array.isArray(unfoundSources[0]._raw) &&\n        Array.isArray(inputs[0])) {\n        context.dispatch({\n            type: 'RESET_RAW_EVENTS',\n            sourceId: unfoundSources[0].sourceId,\n            rawEvents: inputs[0],\n        });\n        return;\n    }\n    let newInputs = [];\n    for (let input of inputs) {\n        let inputFound = false;\n        for (let i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (let unfoundSource of unfoundSources) {\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (let newInput of newInputs) {\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', Object.assign(Object.assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    let { emitter } = context;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nconst globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        name: 'misc',\n        isLoadingFuncs: [\n            (state) => computeEventSourcesLoading(state.eventSources),\n        ],\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\n\nclass TaskRunner {\n    constructor(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    request(task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    }\n    pause(scope) {\n        this.delayedRunner.pause(scope);\n    }\n    resume(scope, force) {\n        this.delayedRunner.resume(scope, force);\n    }\n    drain() {\n        let { queue } = this;\n        while (queue.length) {\n            let completedTasks = [];\n            let task;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    }\n    runTask(task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    }\n    drained(completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    }\n}\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    let range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    let { currentRangeUnit } = dateProfile;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    let days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nclass CalendarDataManager {\n    constructor(props) {\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv$1);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.optionsForRefining = [];\n        this.optionsForHandling = [];\n        this.getCurrentData = () => this.data;\n        this.dispatch = (action) => {\n            this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        let dynamicOptionOverrides = {};\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        let currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        let dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (let callback of optionsData.pluginHooks.contextInit) {\n            callback(calendarContext);\n        }\n        // NOT DRY\n        let eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        let initialState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), initialState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    resetOptions(optionOverrides, changedOptionNames) {\n        let { props } = this;\n        if (changedOptionNames === undefined) {\n            props.optionOverrides = optionOverrides;\n        }\n        else {\n            props.optionOverrides = Object.assign(Object.assign({}, (props.optionOverrides || {})), optionOverrides);\n            this.optionsForRefining.push(...changedOptionNames);\n        }\n        if (changedOptionNames === undefined || changedOptionNames.length) {\n            this.actionRunner.request({\n                type: 'NOTHING',\n            });\n        }\n    }\n    _handleAction(action) {\n        let { props, state, emitter } = this;\n        let dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = reduceViewType(state.currentViewType, action);\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        let calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        let { currentDate, dateProfile } = state;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        let eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        let isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        let renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        let { eventUiSingleBase, selectionConfig } = this.buildViewUiProps(calendarContext); // will memoize obj\n        let eventUiBySource = this.buildEventUiBySource(eventSources);\n        let eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        let newState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            eventSources,\n            eventStore,\n            renderableEventStore,\n            selectionConfig,\n            eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), newState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        let wasLoading = computeIsLoading(state, calendarContext);\n        let isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    }\n    updateData() {\n        let { props, state } = this;\n        let oldData = this.data;\n        let optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        let currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        let data = this.data = Object.assign(Object.assign(Object.assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        let changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        let oldCalendarOptions = oldData && oldData.calendarOptions;\n        let newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n                state.renderableEventStore = data.renderableEventStore = rezoneEventStoreDates(data.renderableEventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (let optionName in changeHandlers) {\n                if (this.optionsForHandling.indexOf(optionName) !== -1 ||\n                    oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        this.optionsForHandling = [];\n        if (props.onData) {\n            props.onData(data);\n        }\n    }\n    computeOptionsData(optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        if (!this.optionsForRefining.length &&\n            optionOverrides === this.stableOptionOverrides &&\n            dynamicOptionOverrides === this.stableDynamicOptionOverrides) {\n            return this.stableCalendarOptionsData;\n        }\n        let { refinedOptions, pluginHooks, localeDefaults, availableLocaleData, extra, } = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        let viewSpecs = this.buildViewSpecs(pluginHooks.views, this.stableOptionOverrides, this.stableDynamicOptionOverrides, localeDefaults);\n        let theme = this.buildTheme(refinedOptions, pluginHooks);\n        let toolbarConfig = this.parseToolbars(refinedOptions, this.stableOptionOverrides, theme, viewSpecs, calendarApi);\n        return this.stableCalendarOptionsData = {\n            calendarOptions: refinedOptions,\n            pluginHooks,\n            dateEnv,\n            viewSpecs,\n            theme,\n            toolbarConfig,\n            localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    }\n    // always called from behind a memoizer\n    processRawCalendarOptions(optionOverrides, dynamicOptionOverrides) {\n        let { locales, locale } = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let availableLocaleData = this.organizeRawLocales(locales);\n        let availableRawLocales = availableLocaleData.map;\n        let localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        let pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        let refiners = this.currentCalendarOptionsRefiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let extra = {};\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refined = {};\n        let currentRaw = this.currentCalendarOptionsInput;\n        let currentRefined = this.currentCalendarOptionsRefined;\n        let anyChanges = false;\n        for (let optionName in raw) {\n            if (this.optionsForRefining.indexOf(optionName) === -1 && (raw[optionName] === currentRaw[optionName] || (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                (optionName in currentRaw) &&\n                COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName])))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else if (refiners[optionName]) {\n                refined[optionName] = refiners[optionName](raw[optionName]);\n                anyChanges = true;\n            }\n            else {\n                extra[optionName] = currentRaw[optionName];\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n            this.stableOptionOverrides = optionOverrides;\n            this.stableDynamicOptionOverrides = dynamicOptionOverrides;\n        }\n        this.optionsForHandling.push(...this.optionsForRefining);\n        this.optionsForRefining = [];\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks,\n            availableLocaleData,\n            localeDefaults,\n            extra,\n        };\n    }\n    _computeCurrentViewData(viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        let viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(`viewType \"${viewType}\" is not available. Please make sure you've loaded all neccessary plugins`);\n        }\n        let { refinedOptions, extra } = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        let viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec, options: refinedOptions, dateProfileGenerator, viewApi };\n    }\n    processRawViewOptions(viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let refined = {};\n        let currentRaw = this.currentViewOptionsInput;\n        let currentRefined = this.currentViewOptionsRefined;\n        let anyChanges = false;\n        let extra = {};\n        for (let optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName] ||\n                (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                    COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], currentRaw[optionName]))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], this.currentCalendarOptionsInput[optionName]))) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra,\n        };\n    }\n}\nfunction buildDateEnv$1(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    let locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale,\n        weekNumberCalculation,\n        firstDay,\n        weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    let ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    let DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewImpl(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, (eventSource) => eventSource.ui);\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    let eventUiBases = { '': eventUiSingleBase };\n    for (let defId in eventDefs) {\n        let def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    let { options } = calendarContext;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (let isLoadingFunc of context.pluginHooks.isLoadingFuncs) {\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (let optionName in options) {\n        console.warn(`Unknown option '${optionName}'` +\n            (viewName ? ` for view '${viewName}'` : ''));\n    }\n}\n\nclass ToolbarSection extends BaseComponent {\n    render() {\n        let children = this.props.widgetGroups.map((widgetGroup) => this.renderWidgetGroup(widgetGroup));\n        return createElement('div', { className: 'fc-toolbar-chunk' }, ...children);\n    }\n    renderWidgetGroup(widgetGroup) {\n        let { props } = this;\n        let { theme } = this.context;\n        let children = [];\n        let isOnlyButtons = true;\n        for (let widget of widgetGroup) {\n            let { buttonName, buttonClick, buttonText, buttonIcon, buttonHint } = widget;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n            }\n            else {\n                let isPressed = buttonName === props.activeButton;\n                let isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                let buttonClasses = [`fc-${buttonName}-button`, theme.getClass('button')];\n                if (isPressed) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon, role: \"img\" }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            let groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement('div', { className: groupClassName }, ...children);\n        }\n        return children[0];\n    }\n}\n\nclass Toolbar extends BaseComponent {\n    render() {\n        let { model, extraClassName } = this.props;\n        let forceLtr = false;\n        let startContent;\n        let endContent;\n        let sectionWidgets = model.sectionWidgets;\n        let centerContent = sectionWidgets.center;\n        if (sectionWidgets.left) {\n            forceLtr = true;\n            startContent = sectionWidgets.left;\n        }\n        else {\n            startContent = sectionWidgets.start;\n        }\n        if (sectionWidgets.right) {\n            forceLtr = true;\n            endContent = sectionWidgets.right;\n        }\n        else {\n            endContent = sectionWidgets.end;\n        }\n        let classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    }\n    renderSection(key, widgetGroups) {\n        let { props } = this;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n    }\n}\n\nclass ViewHarness extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            availableWidth: null,\n        };\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n            this.updateAvailableWidth();\n        };\n        this.handleResize = () => {\n            this.updateAvailableWidth();\n        };\n    }\n    render() {\n        let { props, state } = this;\n        let { aspectRatio } = props;\n        let classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        let height = '';\n        let paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = `${(1 / aspectRatio) * 100}%`;\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height, paddingBottom } }, props.children));\n    }\n    componentDidMount() {\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    updateAvailableWidth() {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    }\n}\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nclass EventClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handleSegClick = (ev, segEl) => {\n            let { component } = this;\n            let { context } = component;\n            let seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                let hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                let url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventImpl(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        this.handleSegClick);\n    }\n}\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nclass EventHovering extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        this.handleEventElRemove = (el) => {\n            if (el === this.currentSegEl) {\n                this.handleSegLeave(null, this.currentSegEl);\n            }\n        };\n        this.handleSegEnter = (ev, segEl) => {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                this.currentSegEl = segEl;\n                this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        this.handleSegLeave = (ev, segEl) => {\n            if (this.currentSegEl) {\n                this.currentSegEl = null;\n                this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        this.handleSegEnter, this.handleSegLeave);\n    }\n    destroy() {\n        this.removeHoverListeners();\n    }\n    triggerEvent(publicEvName, ev, segEl) {\n        let { component } = this;\n        let { context } = component;\n        let seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventImpl(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    }\n}\n\nclass CalendarContent extends PureComponent {\n    constructor() {\n        super(...arguments);\n        this.buildViewContext = memoize(buildViewContext);\n        this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        this.buildToolbarProps = memoize(buildToolbarProps);\n        this.headerRef = createRef();\n        this.footerRef = createRef();\n        this.interactionsStore = {};\n        // eslint-disable-next-line\n        this.state = {\n            viewLabelId: getUniqueDomId(),\n        };\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        this.registerInteractiveComponent = (component, settingsInput) => {\n            let settings = parseInteractionSettings(component, settingsInput);\n            let DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            let interactionClasses = DEFAULT_INTERACTIONS.concat(this.props.pluginHooks.componentInteractions);\n            let interactions = interactionClasses.map((TheInteractionClass) => new TheInteractionClass(settings));\n            this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        this.unregisterInteractiveComponent = (component) => {\n            let listeners = this.interactionsStore[component.uid];\n            if (listeners) {\n                for (let listener of listeners) {\n                    listener.destroy();\n                }\n                delete this.interactionsStore[component.uid];\n            }\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        this.resizeRunner = new DelayedRunner(() => {\n            this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            this.props.emitter.trigger('windowResize', { view: this.props.viewApi });\n        });\n        this.handleWindowResize = (ev) => {\n            let { options } = this.props;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    render() {\n        let { props } = this;\n        let { toolbarConfig, options } = props;\n        let toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        let viewVGrow = false;\n        let viewHeight = '';\n        let viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        let viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        let viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n            ? this.state.viewLabelId\n            : '';\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.header && (createElement(Toolbar, Object.assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n            createElement(ViewHarness, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footer && (createElement(Toolbar, Object.assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n    }\n    componentDidMount() {\n        let { props } = this;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map((CalendarInteractionClass) => new CalendarInteractionClass(props));\n        window.addEventListener('resize', this.handleWindowResize);\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        let { props } = this;\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    }\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (let interaction of this.calendarInteractions) {\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    }\n    buildAppendContent() {\n        let { props } = this;\n        let children = props.pluginHooks.viewContainerAppends.map((buildAppendContent) => buildAppendContent(props));\n        return createElement(Fragment, {}, ...children);\n    }\n    renderView(props) {\n        let { pluginHooks } = props;\n        let { viewSpec } = props;\n        let viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        let transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (let transformer of transformers) {\n            Object.assign(viewProps, transformer.transform(viewProps, props));\n        }\n        let ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, Object.assign({}, viewProps)));\n    }\n}\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    let todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    let prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    let nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title,\n        activeButton: viewSpec.type,\n        navUnit: viewSpec.singleUnit,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map((TheClass) => new TheClass());\n}\n\nclass Calendar extends CalendarImpl {\n    constructor(el, optionOverrides = {}) {\n        super();\n        this.isRendering = false;\n        this.isRendered = false;\n        this.currentClassNames = [];\n        this.customContentRenderId = 0;\n        this.handleAction = (action) => {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    this.renderRunner.tryDrain();\n            }\n        };\n        this.handleData = (data) => {\n            this.currentData = data;\n            this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        this.handleRenderRequest = () => {\n            if (this.isRendering) {\n                this.isRendered = true;\n                let { currentData } = this;\n                flushSync(() => {\n                    render(createElement(CalendarRoot, { options: currentData.calendarOptions, theme: currentData.theme, emitter: currentData.emitter }, (classNames, height, isHeightAuto, forPrint) => {\n                        this.setClassNames(classNames);\n                        this.setHeight(height);\n                        return (createElement(RenderId.Provider, { value: this.customContentRenderId },\n                            createElement(CalendarContent, Object.assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData))));\n                    }), this.el);\n                });\n            }\n            else if (this.isRendered) {\n                this.isRendered = false;\n                render(null, this.el);\n                this.setClassNames([]);\n                this.setHeight('');\n            }\n        };\n        ensureElHasStyles(el);\n        this.el = el;\n        this.renderRunner = new DelayedRunner(this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides,\n            calendarApi: this,\n            onAction: this.handleAction,\n            onData: this.handleData,\n        });\n    }\n    render() {\n        let wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    }\n    destroy() {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    }\n    updateSize() {\n        flushSync(() => {\n            super.updateSize();\n        });\n    }\n    batchRendering(func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    }\n    pauseRendering() {\n        this.renderRunner.pause('pauseRendering');\n    }\n    resumeRendering() {\n        this.renderRunner.resume('pauseRendering', true);\n    }\n    resetOptions(optionOverrides, changedOptionNames) {\n        this.currentDataManager.resetOptions(optionOverrides, changedOptionNames);\n    }\n    setClassNames(classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            let { classList } = this.el;\n            for (let className of this.currentClassNames) {\n                classList.remove(className);\n            }\n            for (let className of classNames) {\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    }\n    setHeight(height) {\n        applyStyleProp(this.el, 'height', height);\n    }\n}\n\nfunction formatDate(dateInput, options = {}) {\n    let dateEnv = buildDateEnv(options);\n    let formatter = createFormatter(options);\n    let dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    let dateEnv = buildDateEnv(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    let formatter = createFormatter(options);\n    let startMeta = dateEnv.createMarkerMeta(startInput);\n    let endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv(settings) {\n    let locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(Object.assign(Object.assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale }));\n}\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nconst version = '6.1.10';\n\nexport { Calendar, createPlugin, formatDate, formatRange, globalLocales, globalPlugins, sliceEvents, version };\n","export const OPTION_IS_COMPLEX = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n//# sourceMappingURL=options.js.map","import { defineComponent, h, Fragment, Teleport } from 'vue';\nimport { Calendar } from '@fullcalendar/core';\nimport { CustomRenderingStore } from '@fullcalendar/core/internal';\nimport { OPTION_IS_COMPLEX } from './options.js';\nconst FullCalendar = defineComponent({\n    props: {\n        options: Object\n    },\n    data() {\n        return {\n            renderId: 0,\n            customRenderingMap: new Map()\n        };\n    },\n    methods: {\n        getApi() {\n            return getSecret(this).calendar;\n        },\n        buildOptions(suppliedOptions) {\n            return {\n                ...suppliedOptions,\n                customRenderingMetaMap: kebabToCamelKeys(this.$slots),\n                handleCustomRendering: getSecret(this).handleCustomRendering,\n            };\n        },\n    },\n    render() {\n        const customRenderingNodes = [];\n        for (const customRendering of this.customRenderingMap.values()) {\n            customRenderingNodes.push(h(CustomRenderingComponent, {\n                key: customRendering.id,\n                customRendering,\n            }));\n        }\n        return h('div', {\n            // when renderId is changed, Vue will trigger a real-DOM async rerender, calling beforeUpdate/updated\n            attrs: { 'data-fc-render-id': this.renderId }\n        }, h(Fragment, customRenderingNodes)); // for containing CustomRendering keys\n    },\n    mounted() {\n        const customRenderingStore = new CustomRenderingStore();\n        getSecret(this).handleCustomRendering = customRenderingStore.handle.bind(customRenderingStore);\n        const calendarOptions = this.buildOptions(this.options);\n        const calendar = new Calendar(this.$el, calendarOptions);\n        getSecret(this).calendar = calendar;\n        calendar.render();\n        customRenderingStore.subscribe((customRenderingMap) => {\n            this.customRenderingMap = customRenderingMap; // likely same reference, so won't rerender\n            this.renderId++; // force rerender\n            getSecret(this).needCustomRenderingResize = true;\n        });\n    },\n    beforeUpdate() {\n        this.getApi().resumeRendering(); // the watcher handlers paused it\n    },\n    updated() {\n        if (getSecret(this).needCustomRenderingResize) {\n            getSecret(this).needCustomRenderingResize = false;\n            this.getApi().updateSize();\n        }\n    },\n    beforeUnmount() {\n        this.getApi().destroy();\n    },\n    watch: buildWatchers()\n});\nexport default FullCalendar;\n// Custom Rendering\n// -------------------------------------------------------------------------------------------------\nconst CustomRenderingComponent = defineComponent({\n    props: {\n        customRendering: Object\n    },\n    render() {\n        const customRendering = this.customRendering;\n        const innerContent = typeof customRendering.generatorMeta === 'function' ?\n            customRendering.generatorMeta(customRendering.renderProps) : // vue-normalized slot function\n            customRendering.generatorMeta; // probably a vue JSX node returned from content-inject func\n        return h(Teleport, { to: customRendering.containerEl }, innerContent);\n    }\n});\n// storing internal state:\n// https://github.com/vuejs/vue/issues/1988#issuecomment-163013818\nfunction getSecret(inst) {\n    return inst;\n}\nfunction buildWatchers() {\n    let watchers = {\n        // watches changes of ALL options and their nested objects,\n        // but this is only a means to be notified of top-level non-complex options changes.\n        options: {\n            deep: true,\n            handler(options) {\n                let calendar = this.getApi();\n                calendar.pauseRendering();\n                let calendarOptions = this.buildOptions(options);\n                calendar.resetOptions(calendarOptions);\n                this.renderId++; // will queue a rerender\n            }\n        }\n    };\n    for (let complexOptionName in OPTION_IS_COMPLEX) {\n        // handlers called when nested objects change\n        watchers[`options.${complexOptionName}`] = {\n            deep: true,\n            handler(val) {\n                // unfortunately the handler is called with undefined if new props were set, but the complex one wasn't ever set\n                if (val !== undefined) {\n                    let calendar = this.getApi();\n                    calendar.pauseRendering();\n                    calendar.resetOptions({\n                        [complexOptionName]: val\n                    }, [complexOptionName]);\n                    this.renderId++; // will queue a rerender\n                }\n            }\n        };\n    }\n    return watchers;\n}\n// General Utils\n// -------------------------------------------------------------------------------------------------\nfunction kebabToCamelKeys(map) {\n    const newMap = {};\n    for (const key in map) {\n        newMap[kebabToCamel(key)] = map[key];\n    }\n    return newMap;\n}\nfunction kebabToCamel(s) {\n    return s\n        .split('-')\n        .map((word, index) => index ? capitalize(word) : word)\n        .join('');\n}\nfunction capitalize(s) {\n    return s.charAt(0).toUpperCase() + s.slice(1);\n}\n//# sourceMappingURL=FullCalendar.js.map","import FullCalendarComponent from './FullCalendar.js';\nexport default FullCalendarComponent;\n//# sourceMappingURL=index.js.map","import { DateComponent, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, createFormatter, BaseComponent, StandardEvent, buildSegTimeText, EventContainer, getSegAnchorAttrs, memoize, MoreLinkContainer, getSegMeta, getUniqueDomId, setRef, DayCellContainer, WeekNumberContainer, buildNavLinkAttrs, hasCustomDayCellContent, addMs, intersectRanges, addDays, SegHierarchy, buildEntryKey, intersectSpans, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, formatIsoMonthStr, formatDayString, Slicer, DayHeader, DaySeriesModel, DayTableModel, DateProfileGenerator, addWeeks, diffWeeks, injectStyles } from '@fullcalendar/core/internal.js';\nimport { createRef, createElement, Fragment } from '@fullcalendar/core/preact.js';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nclass TableView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.headerElRef = createRef();\n    }\n    renderSimpleLayout(headerRowContent, bodyContent) {\n        let { props, context } = this;\n        let sections = [];\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections })));\n    }\n    renderHScrollLayout(headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        let { props, context } = this;\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        let sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, forPrint: props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections })));\n    }\n}\n\nfunction splitSegsByRow(segs, rowCnt) {\n    let byRow = [];\n    for (let i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (let seg of segs) {\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    let byCol = [];\n    for (let i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (let seg of segs) {\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    let byRow = [];\n    if (!ui) {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (let seg of ui.segs) {\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nconst DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    let { display } = seg.eventRange.ui;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nclass TableBlockEvent extends BaseComponent {\n    render() {\n        let { props } = this;\n        return (createElement(StandardEvent, Object.assign({}, props, { elClasses: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    }\n}\n\nclass TableListItemEvent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg } = props;\n        let timeFormat = options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        let timeText = buildSegTimeText(seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventContainer, Object.assign({}, props, { elTag: \"a\", elClasses: ['fc-daygrid-event', 'fc-daygrid-dot-event'], elAttrs: getSegAnchorAttrs(props.seg, context), defaultGenerator: renderInnerContent, timeText: timeText, isResizing: false, isDateSelecting: false })));\n    }\n}\nfunction renderInnerContent(renderProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: renderProps.borderColor || renderProps.backgroundColor } }),\n        renderProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, renderProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, renderProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\n\nclass TableCellMoreLink extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.compileSegs = memoize(compileSegs);\n    }\n    render() {\n        let { props } = this;\n        let { allSegs, invisibleSegs } = this.compileSegs(props.singlePlacements);\n        return (createElement(MoreLinkContainer, { elClasses: ['fc-daygrid-more-link'], dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: () => {\n                let isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map((seg) => {\n                    let instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }));\n    }\n}\nfunction compileSegs(singlePlacements) {\n    let allSegs = [];\n    let invisibleSegs = [];\n    for (let placement of singlePlacements) {\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs, invisibleSegs };\n}\n\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nclass TableCell extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.state = {\n            dayNumberId: getUniqueDomId(),\n        };\n        this.handleRootEl = (el) => {\n            setRef(this.rootElRef, el);\n            setRef(this.props.elRef, el);\n        };\n    }\n    render() {\n        let { context, props, state, rootElRef } = this;\n        let { options, dateEnv } = context;\n        let { date, dateProfile } = props;\n        // TODO: memoize this?\n        const isMonthStart = props.showDayNumber &&\n            shouldDisplayMonthStart(date, dateProfile.currentRange, dateEnv);\n        return (createElement(DayCellContainer, { elTag: \"td\", elRef: this.handleRootEl, elClasses: [\n                'fc-daygrid-day',\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign(Object.assign(Object.assign({}, props.extraDataAttrs), (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})), { role: 'gridcell' }), defaultGenerator: renderTopInner, date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, isMonthStart: isMonthStart, extraRenderProps: props.extraRenderProps }, (InnerContent, renderProps) => (createElement(\"div\", { ref: props.innerElRef, className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", style: { minHeight: props.minHeight } },\n            props.showWeekNumber && (createElement(WeekNumberContainer, { elTag: \"a\", elClasses: ['fc-daygrid-week-number'], elAttrs: buildNavLinkAttrs(context, date, 'week'), date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT })),\n            !renderProps.isDisabled &&\n                (props.showDayNumber || hasCustomDayCellContent(options) || props.forceDayTop) ? (createElement(\"div\", { className: \"fc-daygrid-day-top\" },\n                createElement(InnerContent, { elTag: \"a\", elClasses: [\n                        'fc-daygrid-day-number',\n                        isMonthStart && 'fc-daygrid-month-start',\n                    ], elAttrs: Object.assign(Object.assign({}, buildNavLinkAttrs(context, date)), { id: state.dayNumberId }) }))) : props.showDayNumber ? (\n            // for creating correct amount of space (see issue #7162)\n            createElement(\"div\", { className: \"fc-daygrid-day-top\", style: { visibility: 'hidden' } },\n                createElement(\"a\", { className: \"fc-daygrid-day-number\" }, \"\\u00A0\"))) : undefined,\n            createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                props.fgContent,\n                createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                    createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n            createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))));\n    }\n}\nfunction renderTopInner(props) {\n    return props.dayNumberText || createElement(Fragment, null, \"\\u00A0\");\n}\nfunction shouldDisplayMonthStart(date, currentRange, dateEnv) {\n    const { start: currentStart, end: currentEnd } = currentRange;\n    const currentEndIncl = addMs(currentEnd, -1);\n    const currentFirstYear = dateEnv.getYear(currentStart);\n    const currentFirstMonth = dateEnv.getMonth(currentStart);\n    const currentLastYear = dateEnv.getYear(currentEndIncl);\n    const currentLastMonth = dateEnv.getMonth(currentEndIncl);\n    // spans more than one month?\n    return !(currentFirstYear === currentLastYear && currentFirstMonth === currentLastMonth) &&\n        Boolean(\n        // first date in current view?\n        date.valueOf() === currentStart.valueOf() ||\n            // a month-start that's within the current range?\n            (dateEnv.getDay(date) === 1 && date.valueOf() < currentEnd.valueOf()));\n}\n\nfunction generateSegKey(seg) {\n    return seg.eventRange.instance.instanceId + ':' + seg.firstCol;\n}\nfunction generateSegUid(seg) {\n    return generateSegKey(seg) + ':' + seg.lastCol;\n}\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, segHeights, maxContentHeight, cells) {\n    let hierarchy = new DayGridSegHierarchy((segEntry) => {\n        // TODO: more DRY with generateSegUid\n        let segUid = segs[segEntry.index].eventRange.instance.instanceId +\n            ':' + segEntry.span.start +\n            ':' + (segEntry.span.end - 1);\n        return segHeights[segUid];\n    });\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    let segInputs = [];\n    let unknownHeightSegs = [];\n    for (let i = 0; i < segs.length; i += 1) {\n        let seg = segs[i];\n        let segUid = generateSegUid(seg);\n        let eventHeight = segHeights[segUid];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    let hiddenEntries = hierarchy.addSegs(segInputs);\n    let segRects = hierarchy.toRects();\n    let { singleColPlacements, multiColPlacements, leftoverMargins } = placeRects(segRects, segs, cells);\n    let moreCnts = [];\n    let moreMarginTops = [];\n    // add segs with unknown heights\n    for (let seg of unknownHeightSegs) {\n        multiColPlacements[seg.firstCol].push({\n            seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (let col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (let hiddenEntry of hiddenEntries) {\n        let seg = segs[hiddenEntry.index];\n        let hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (let col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    let rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    let singleColPlacements = [];\n    let multiColPlacements = [];\n    let leftoverMargins = [];\n    for (let col = 0; col < cells.length; col += 1) {\n        let rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        let singlePlacements = [];\n        let currentHeight = 0;\n        let currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        let multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            let isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            let isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements, multiColPlacements, leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    let rectsByEachCol = [];\n    for (let col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (let rect of rects) {\n        for (let col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    let eventRange = seg.eventRange;\n    let origRange = eventRange.range;\n    let slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return Object.assign(Object.assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: Object.assign(Object.assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nclass DayGridSegHierarchy extends SegHierarchy {\n    constructor() {\n        super(...arguments);\n        // config\n        this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        this.forceHidden = {};\n    }\n    addSegs(segInputs) {\n        const hiddenSegs = super.addSegs(segInputs);\n        const { entriesByLevel } = this;\n        const excludeHidden = (entry) => !this.forceHidden[buildEntryKey(entry)];\n        // remove the forced-hidden segs\n        for (let level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    }\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\n        const { entriesByLevel, forceHidden } = this;\n        const { touchingEntry, touchingLevel, touchingLateral } = insertion;\n        if (this.hiddenConsumes && touchingEntry) {\n            const touchingEntryId = buildEntryKey(touchingEntry);\n            // if not already hidden\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    const placeholderEntry = Object.assign(Object.assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    const placeholderEntryId = buildEntryKey(placeholderEntry);\n                    forceHidden[placeholderEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\n                    this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        return super.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    }\n}\n\nclass TableRow extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.cellElRefs = new RefMap(); // the <td>\n        this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        this.rootElRef = createRef();\n        this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            segHeights: {},\n        };\n        this.handleResize = (isForced) => {\n            if (isForced) {\n                this.updateSizing(true); // isExternal=true\n            }\n        };\n    }\n    render() {\n        let { props, state, context } = this;\n        let { options } = context;\n        let colCnt = props.cells.length;\n        let businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        let bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        let highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        let mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        let { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops } = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.segHeights, state.maxContentHeight, props.cells);\n        let isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map((cell, col) => {\n                let normalFgNodes = this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                let mirrorFgNodes = this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), innerElRef: this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))), minHeight: props.cellMinHeight }));\n            })));\n    }\n    componentDidMount() {\n        this.updateSizing(true);\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentDidUpdate(prevProps, prevState) {\n        let currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    getHighlightSegs() {\n        let { props } = this;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    }\n    getMirrorSegs() {\n        let { props } = this;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    }\n    renderFgSegs(col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        let { context } = this;\n        let { eventSelection } = this.props;\n        let { framePositions } = this.state;\n        let defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        let isMirror = isDragging || isResizing || isDateSelecting;\n        let nodes = [];\n        if (framePositions) {\n            for (let placement of segPlacements) {\n                let { seg } = placement;\n                let { instanceId } = seg.eventRange.instance;\n                let isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                let isAbsolute = placement.isAbsolute;\n                let left = '';\n                let right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: generateSegKey(seg), ref: isMirror ? null : this.segHarnessRefs.createRef(generateSegUid(seg)), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left,\n                        right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    }\n    renderFillSegs(segs, fillType) {\n        let { isRtl } = this.context;\n        let { todayRange } = this.props;\n        let { framePositions } = this.state;\n        let nodes = [];\n        if (framePositions) {\n            for (let seg of segs) {\n                let leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement(Fragment, {}, ...nodes);\n    }\n    updateSizing(isExternalSizingChange) {\n        let { props, state, frameElRefs } = this;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                let frameEls = props.cells.map((cell) => frameElRefs.currentMap[cell.key]);\n                if (frameEls.length) {\n                    let originEl = this.rootElRef.current;\n                    let newPositionCache = new PositionCache(originEl, frameEls, true, // isHorizontal\n                    false);\n                    if (!state.framePositions || !state.framePositions.similarTo(newPositionCache)) {\n                        this.setState({\n                            framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                            false),\n                        });\n                    }\n                }\n            }\n            const oldSegHeights = this.state.segHeights;\n            const newSegHeights = this.querySegHeights();\n            const limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.safeSetState({\n                // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n                // Essentially, once you compute an element's height, never null-out.\n                // TODO: always display all events, as visibility:hidden?\n                segHeights: Object.assign(Object.assign({}, oldSegHeights), newSegHeights),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    }\n    querySegHeights() {\n        let segElMap = this.segHarnessRefs.currentMap;\n        let segHeights = {};\n        // get the max height amongst instance segs\n        for (let segUid in segElMap) {\n            let height = Math.round(segElMap[segUid].getBoundingClientRect().height);\n            segHeights[segUid] = Math.max(segHeights[segUid] || 0, height);\n        }\n        return segHeights;\n    }\n    computeMaxContentHeight() {\n        let firstKey = this.props.cells[0].key;\n        let cellEl = this.cellElRefs.currentMap[firstKey];\n        let fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    }\n    getCellEls() {\n        let elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map((cell) => elMap[cell.key]);\n    }\n}\nTableRow.addStateEquality({\n    segHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    let topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map((seg) => ({\n        seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }));\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    let topsByInstanceId = {};\n    for (let placements of colPlacements) {\n        for (let placement of placements) {\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nclass TableRows extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        this.splitBgEventSegs = memoize(splitSegsByRow);\n        this.splitFgEventSegs = memoize(splitSegsByRow);\n        this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        this.splitEventDrag = memoize(splitInteractionByRow);\n        this.splitEventResize = memoize(splitInteractionByRow);\n        this.rowRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        let rowCnt = props.cells.length;\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        let eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        // for DayGrid view with many rows, force a min-height on cells so doesn't appear squished\n        // choose 7 because a month view will have max 6 rows\n        let cellMinHeight = (rowCnt >= 7 && props.clientWidth) ?\n            props.clientWidth / context.options.aspectRatio / 6 :\n            null;\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(Fragment, null, props.cells.map((cells, row) => (createElement(TableRow, { ref: this.rowRefs.createRef(row), key: cells.length\n                ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                : row // in case there are no cells (like when resource view is loading)\n            , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: props.dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, cellMinHeight: cellMinHeight, forPrint: props.forPrint })))))));\n    }\n    componentDidMount() {\n        this.registerInteractiveComponent();\n    }\n    componentDidUpdate() {\n        // for if started with zero cells\n        this.registerInteractiveComponent();\n    }\n    registerInteractiveComponent() {\n        if (!this.rootEl) {\n            // HACK: need a daygrid wrapper parent to do positioning\n            // NOTE: a daygrid resource view w/o resources can have zero cells\n            const firstCellEl = this.rowRefs.currentMap[0].getCellEls()[0];\n            const rootEl = firstCellEl ? firstCellEl.closest('.fc-daygrid-body') : null;\n            if (rootEl) {\n                this.rootEl = rootEl;\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                    isHitComboAllowed: this.props.isHitComboAllowed,\n                });\n            }\n        }\n    }\n    componentWillUnmount() {\n        if (this.rootEl) {\n            this.context.unregisterInteractiveComponent(this);\n            this.rootEl = null;\n        }\n    }\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    prepareHits() {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map((rowObj) => rowObj.getCellEls()[0]), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    }\n    queryHit(positionLeft, positionTop) {\n        let { colPositions, rowPositions } = this;\n        let col = colPositions.leftToIndex(positionLeft);\n        let row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            let cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: Object.assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    }\n    getCellEl(row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    }\n    getCellRange(row, col) {\n        let start = this.props.cells[row][col].date;\n        let end = addDays(start, 1);\n        return { start, end };\n    }\n}\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nclass Table extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.elRef = createRef();\n        this.needsScrollReset = false;\n    }\n    render() {\n        let { props } = this;\n        let { dayMaxEventRows, dayMaxEvents, expandRows } = props;\n        let limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        let classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { ref: this.elRef, className: classNames.join(' '), style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\n                    width: props.clientWidth,\n                    minWidth: props.tableMinWidth,\n                    height: expandRows ? props.clientHeight : '',\n                } },\n                props.colGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(TableRows, { dateProfile: props.dateProfile, cells: props.cells, renderRowIntro: props.renderRowIntro, showWeekNumbers: props.showWeekNumbers, clientWidth: props.clientWidth, clientHeight: props.clientHeight, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, forPrint: props.forPrint, isHitComboAllowed: props.isHitComboAllowed })))));\n    }\n    componentDidMount() {\n        this.requestScrollReset();\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.dateProfile !== this.props.dateProfile) {\n            this.requestScrollReset();\n        }\n        else {\n            this.flushScrollReset();\n        }\n    }\n    requestScrollReset() {\n        this.needsScrollReset = true;\n        this.flushScrollReset();\n    }\n    flushScrollReset() {\n        if (this.needsScrollReset &&\n            this.props.clientWidth // sizes computed?\n        ) {\n            const subjectEl = getScrollSubjectEl(this.elRef.current, this.props.dateProfile);\n            if (subjectEl) {\n                const originEl = subjectEl.closest('.fc-daygrid-body');\n                const scrollEl = originEl.closest('.fc-scroller');\n                const scrollTop = subjectEl.getBoundingClientRect().top -\n                    originEl.getBoundingClientRect().top;\n                scrollEl.scrollTop = scrollTop ? (scrollTop + 1) : 0; // overcome border\n            }\n            this.needsScrollReset = false;\n        }\n    }\n}\nfunction getScrollSubjectEl(containerEl, dateProfile) {\n    let el;\n    if (dateProfile.currentRangeUnit.match(/year|month/)) {\n        el = containerEl.querySelector(`[data-date=\"${formatIsoMonthStr(dateProfile.currentDate)}-01\"]`);\n        // even if view is month-based, first-of-month might be hidden...\n    }\n    if (!el) {\n        el = containerEl.querySelector(`[data-date=\"${formatDayString(dateProfile.currentDate)}\"]`);\n        // could still be hidden if an interior-view hidden day\n    }\n    return el;\n}\n\nclass DayTableSlicer extends Slicer {\n    constructor() {\n        super(...arguments);\n        this.forceDayIfListItem = true;\n    }\n    sliceRange(dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    }\n}\n\nclass DayTable extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.slicer = new DayTableSlicer();\n        this.tableRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        return (createElement(Table, Object.assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    }\n}\n\nclass DayTableView extends TableView {\n    constructor() {\n        super(...arguments);\n        this.buildDayTableModel = memoize(buildDayTableModel);\n        this.headerRef = createRef();\n        this.tableRef = createRef();\n        // can't override any lifecycle methods from parent\n    }\n    render() {\n        let { options, dateProfileGenerator } = this.context;\n        let { props } = this;\n        let dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        let bodyContent = (contentArg) => (createElement(DayTable, { ref: this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }));\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    }\n}\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nclass TableDateProfileGenerator extends DateProfileGenerator {\n    // Computes the date range that will be rendered\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n        let renderRange = super.buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay);\n        let { props } = this;\n        return buildDayTableRenderRange({\n            currentRange: renderRange,\n            snapToWeek: /^(year|month)$/.test(currentRangeUnit),\n            fixedWeekCount: props.fixedWeekCount,\n            dateEnv: props.dateEnv,\n        });\n    }\n}\nfunction buildDayTableRenderRange(props) {\n    let { dateEnv, currentRange } = props;\n    let { start, end } = currentRange;\n    let endOfWeek;\n    // year and month views should be aligned with weeks. this is already done for week\n    if (props.snapToWeek) {\n        start = dateEnv.startOfWeek(start);\n        // make end-of-week if not already\n        endOfWeek = dateEnv.startOfWeek(end);\n        if (endOfWeek.valueOf() !== end.valueOf()) {\n            end = addWeeks(endOfWeek, 1);\n        }\n    }\n    // ensure 6 weeks\n    if (props.fixedWeekCount) {\n        // TODO: instead of these date-math gymnastics (for multimonth view),\n        // compute dateprofiles of all months, then use start of first and end of last.\n        let lastMonthRenderStart = dateEnv.startOfWeek(dateEnv.startOfMonth(addDays(currentRange.end, -1)));\n        let rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n        diffWeeks(lastMonthRenderStart, end));\n        end = addWeeks(end, 6 - rowCnt);\n    }\n    return { start, end };\n}\n\nvar css_248z = \":root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}\";\ninjectStyles(css_248z);\n\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableDateProfileGenerator, TableRows, TableView, buildDayTableModel, buildDayTableRenderRange };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { DayGridView as DayTableView, TableDateProfileGenerator } from './internal.js';\nimport '@fullcalendar/core/internal.js';\nimport '@fullcalendar/core/preact.js';\n\nvar index = createPlugin({\n    name: '@fullcalendar/daygrid',\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            fixedWeekCount: true,\n        },\n        dayGridYear: {\n            type: 'dayGrid',\n            duration: { years: 1 },\n        },\n    },\n});\n\nexport { index as default };\n","import { render } from \"./CalendarModel.vue?vue&type=template&id=16a747a3\"\nimport script from \"./CalendarModel.vue?vue&type=script&lang=js\"\nexport * from \"./CalendarModel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./HomeView.vue?vue&type=template&id=65e25ad5\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createVNode","_component_Infor","_component_Bar","_component_Case","_hoisted_1","_hoisted_2","_hoisted_3","_component_Q1","_hoisted_4","_hoisted_5","_component_Line","_hoisted_6","_hoisted_7","_hoisted_8","_component_Calendar","_hoisted_9","_createElementBlock","_Fragment","_renderList","$data","inforList","item","index","_normalizeClass","bg","_toDisplayString","name","icon","$toCurrency","num","description","content","data","__exports__","_createBlock","id","options","chartOptions","chartData","round","v","lim","l","h","Math","max","min","p2b","n2b","b2n","n2p","map$1","A","B","C","D","E","F","a","b","c","d","e","f","hex","h1","h2","eq","isShort","r","g","hexParse","str","ret","len","length","alpha","hexString","undefined","HUE_RE","hsl2rgbn","s","n","k","hsv2rgbn","hwb2rgbn","w","rgb","i","hueValue","rgb2hsl","range","calln","Array","isArray","map","hsl2rgb","hwb2rgb","hsv2rgb","hue","hueParse","m","exec","p1","p2","rotate","deg","hslString","x","Z","Y","X","W","V","U","T","S","R","Q","P","O","N","M","L","K","G","H","I","J","names$1","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","unpack","unpacked","keys","Object","tkeys","j","ok","nk","replace","parseInt","names","nameParse","transparent","toLowerCase","RGB_RE","rgbParse","rgbString","to","pow","from","interpolate","rgb1","rgb2","t","modHSL","ratio","tmp","clone","proto","assign","fromObject","input","functionParse","charAt","Color","constructor","type","this","_rgb","_valid","valid","obj","mix","color","weight","c1","c2","w2","p","w1","clearer","greyscale","val","opaquer","negate","lighten","darken","saturate","desaturate","noop","uid","isNullOrUndef","value","prototype","toString","call","slice","isObject","isNumberFinite","Number","isFinite","finiteOrDefault","defaultValue","valueOrDefault","toDimension","dimension","endsWith","parseFloat","callback","fn","args","thisArg","apply","each","loopable","reverse","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","source","target","create","klen","isValidKey","key","indexOf","_merger","tval","sval","merge","sources","merger","current","mergeIf","_mergerIf","hasOwnProperty","keyResolvers","o","y","_splitKey","parts","split","part","push","_getKeyResolver","resolveObjectKey","resolver","_capitalize","toUpperCase","defined","isFunction","setsEqual","size","has","_isClickEvent","PI","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","almostEquals","epsilon","abs","niceNum","roundedRange","niceRange","floor","fraction","niceFraction","_factorize","result","sqrt","sort","pop","isNumber","isNaN","almostWhole","rounded","_setMinAndMaxByKey","array","property","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","start","end","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_int16Range","_isBetween","_lookup","table","cmp","mid","hi","lo","_lookupByKey","last","ti","_rlookupByKey","_filterBetween","values","arrayEvents","listenArrayEvents","listener","_chartjs","listeners","defineProperty","configurable","enumerable","forEach","method","base","res","object","unlistenArrayEvents","stub","splice","_arrayUnique","items","set","Set","requestAnimFrame","window","requestAnimationFrame","throttled","argsToUse","ticking","debounce","delay","timeout","clearTimeout","setTimeout","_toLeftRightCenter","align","_alignStartEnd","_textX","left","right","rtl","check","_getStartAndCountOfVisiblePoints","meta","points","animationsDisabled","pointCount","count","_sorted","iScale","_parsed","axis","minDefined","maxDefined","getUserBounds","getPixelForValue","_scaleRangesChanged","xScale","yScale","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","atEdge","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","isPatternOrGradient","getHoverColor","numbers","colors","applyAnimationsDefaults","defaults","duration","easing","loop","describe","_fallback","_indexable","_scriptable","properties","active","animation","resize","show","animations","visible","hide","applyLayoutsDefaults","autoPadding","padding","top","bottom","intlCache","Map","getNumberFormat","locale","cacheKey","JSON","stringify","formatter","get","Intl","NumberFormat","formatNumber","format","formatters","numeric","tickValue","ticks","chart","notation","delta","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","remain","significand","includes","Ticks","applyScaleDefaults","display","offset","beginAtZero","bounds","clip","grace","grid","lineWidth","drawOnChartArea","drawTicks","tickLength","tickWidth","_ctx","tickColor","border","dash","dashOffset","width","title","text","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","route","startsWith","overrides","descriptors","getScope$1","node","root","scope","Defaults","_descriptors","_appliers","backgroundColor","borderColor","datasets","devicePixelRatio","context","platform","getDevicePixelRatio","elements","events","font","family","style","lineHeight","hover","hoverBackgroundColor","ctx","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","includeInvisible","maintainAspectRatio","onHover","onClick","parsing","plugins","responsive","scale","scales","showLine","drawActiveElementsOnTop","override","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","writable","local","appliers","toFontString","_measureText","gc","longest","string","textWidth","measureText","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","save","resetTransform","clearRect","height","restore","drawPoint","drawPointLegend","xOffset","yOffset","cornerRadius","xOffsetW","yOffsetW","pointStyle","rotation","radius","rad","translate","drawImage","beginPath","ellipse","arc","closePath","moveTo","lineTo","SQRT1_2","rect","fill","borderWidth","stroke","_isPointInArea","point","area","margin","clipArea","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","setRenderOpts","opts","translation","fillStyle","textAlign","textBaseline","decorateText","line","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","strokeStyle","decorationWidth","drawBackdrop","oldColor","fillRect","renderText","lines","strokeWidth","strokeColor","backdrop","strokeText","maxWidth","fillText","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","FONT_STYLE","toLineHeight","matches","match","numberOrZero","_readValueToProps","props","objProps","read","prop","toTRBL","toTRBLCorners","toPadding","toFont","fallback","console","warn","resolve","inputs","info","cacheable","_addGrace","minmax","change","keepZero","add","createContext","parentContext","_createResolver","scopes","prefixes","rootScopes","getTarget","finalRootScopes","_resolve","cache","Symbol","toStringTag","_cacheable","_scopes","_rootScopes","_getTarget","Proxy","deleteProperty","_keys","_cached","_resolveWithPrefixes","getOwnPropertyDescriptor","Reflect","getPrototypeOf","getKeysFromAllScopes","ownKeys","storage","_storage","_attachContext","proxy","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","receiver","_resolveWithContext","allKeys","scriptable","indexable","_allKeys","isScriptable","isIndexable","readKey","prefix","needsSubResolver","_resolveScriptable","_resolveArray","getValue","Error","join","delete","createSubResolver","arr","filter","resolveFallback","getScope","parent","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","EPSILON","getPoint","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","next","d01","d12","s01","s12","fa","fb","monotoneAdjust","deltaK","mK","pointsLen","alphaK","betaK","tauK","squaredMagnitude","pointCurrent","pointAfter","monotoneCompute","valueAxis","pointBefore","iPixel","vPixel","splineCurveMonotone","slopeDelta","capControlPoint","pt","capBezierPoints","inArea","inAreaPrev","inAreaNext","_updateBezierControlPoints","controlPoints","spanGaps","cubicInterpolationMode","prev","tension","_isDomSupported","document","_getParentNode","domNode","parentNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","element","ownerDocument","defaultView","getStyle","el","getPropertyValue","positions","getPositionedStyle","styles","suffix","pos","useOffsetPos","shadowRoot","getCanvasPosition","touches","offsetX","offsetY","box","getBoundingClientRect","clientX","clientY","getRelativePosition","event","borderBox","boxSizing","paddings","borders","getContainerSize","maxHeight","container","containerStyle","containerBorder","containerPadding","clientWidth","clientHeight","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","containerSize","maintainHeight","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","addEventListener","removeEventListener","readUsedSize","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","getRightToLeftAdapter","rectX","setWidth","xPlus","leftForLtr","itemWidth","getLeftToRightAdapter","_itemWidth","getRtlAdapter","overrideTextDirection","direction","original","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalize","normalizeSegment","getSegment","segment","startBound","endBound","_boundSegment","prevValue","inside","subStart","startIsBefore","endIsBefore","shouldStart","shouldStop","_boundSegments","segments","sub","findStartAndEnd","solidSegments","cur","stop","_computeSegments","segmentOptions","_loop","splitByStyles","completeLoop","_fullLoop","doSplitByStyles","chartContext","_chart","baseStyle","readStyle","_datasetIndex","prevStyle","addStyle","st","dir","p0","p0DataIndex","p1DataIndex","styleChanged","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","replacer","Animator","_request","_charts","_running","_lastDate","_notify","anims","date","callbacks","numSteps","initial","currentStep","_refresh","_update","Date","now","remaining","running","draw","_active","_total","tick","_getAnims","charts","complete","progress","listen","cb","reduce","acc","_duration","cancel","remove","animator","interpolators","boolean","factor","c0","number","Animation","cfg","currentValue","_fn","_easing","_start","_target","_prop","_from","_to","_promises","update","elapsed","wait","promises","Promise","rej","resolved","Animations","config","_properties","configure","animationOptions","animatedProps","getOwnPropertyNames","option","_animateOptions","newOptions","resolveTargetOptions","_createAnimations","$shared","awaitAll","$animations","then","anim","all","scaleClip","allowedOverflow","defaultClip","toClip","disabled","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","stack","dsIndex","singleMode","otherValue","convertObjectDataToArray","adata","isStacked","stacked","getStackKey","indexScale","valueScale","NEGATIVE_INFINITY","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","controller","parsed","_cachedMeta","_stacks","iAxis","vAxis","itemStacks","_top","_bottom","visualValues","_visualValues","getFirstScaleId","shift","createDatasetContext","dataset","createDataContext","dataIndex","raw","clearStacks","isDirectUpdateMode","cloneIfNotShared","cached","shared","createStack","canStack","hidden","_stacked","DatasetController","static","_cachedDataOpts","getMeta","_type","_parsing","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","supportsDecimation","$context","_syncList","datasetElementType","dataElementType","initialize","linkScales","addElements","isPluginEnabled","updateIndex","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","getScaleForId","rScale","getDatasetMeta","scaleID","_getOtherScale","reset","_destroy","_dataCheck","isExtensible","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","parse","sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","labels","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","NaN","getMinMax","otherScale","otherMin","otherMax","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","label","getLabelForValue","_clip","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","_resolveElementOptions","elementType","sharing","datasetElementScopeKeys","resolveNamedOptions","freeze","_resolveAnimations","transition","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","_getSharedOptions","firstOpts","previouslySharedOptions","updateSharedOptions","updateElement","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_sync","_dataChanges","_onDataPush","arguments","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","getAllScaleValues","_cache","$bar","visibleMetas","concat","computeMinSampleSize","curr","_length","updateMinAndPrev","getPixelForTick","computeFitCategoryTraits","ruler","stackCount","thickness","barThickness","categoryPercentage","barPercentage","chunk","pixels","computeFlexCategoryTraits","percent","parseFloatBar","entry","startValue","endValue","barStart","barEnd","_custom","parseValue","parseArrayOrPrimitive","isFloatBar","custom","barSign","actualBase","isHorizontal","borderProps","horizontal","setBorderSkipped","edge","borderSkipped","enableBorderRadius","parseEdge","swap","startEnd","orig","v2","setInflateAmount","inflateAmount","BarController","grouped","_index_","_value_","iAxisKey","vAxisKey","super","bars","getBasePixel","_getRuler","vpixels","head","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","_getStacks","skipNull","_getStackCount","_getStackIndex","_startPixel","_endPixel","baseValue","minBarLength","floating","getDataVisibility","startPixel","getPixelForDecimal","endPixel","getValueForPixel","halfGrid","getLineWidthForValue","maxBarThickness","Infinity","stackIndex","rects","LineController","_dataset","_decimated","animated","maxGapLength","directUpdate","pointsCount","prevParsed","nullData","lastPoint","updateControlPoints","DateAdapterBase","members","init","formats","diff","startOf","endOf","adapters","_date","binarySearch","metaset","lookupMethod","_reversePixels","getRange","evaluateInteractionItems","position","handler","getSortedVisibleDatasetMetas","getDistanceMetricForAxis","useX","useY","deltaX","deltaY","getIntersectItems","useFinalPosition","isPointInArea","evaluationFunc","inRange","getNearestRadialItems","startAngle","endAngle","getProps","getNearestCartesianItems","distanceMetric","minDistance","getCenterPoint","pointInArea","getNearestItems","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","wrapBoxes","boxes","layoutBoxes","stackWeight","buildStacks","layouts","wrap","placed","setLayoutDims","params","vBoxMaxWidth","hBoxMaxHeight","layout","fullSize","availableWidth","availableHeight","buildLayoutBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","handleMaxPadding","updatePos","getMargins","marginForPositions","fitBoxes","refitBoxes","refit","setBoxDims","placeBoxes","userPadding","addBox","_layers","z","removeBox","layoutItem","minPadding","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","total","BasePlatform","acquireContext","releaseContext","isAttached","updateConfig","BasicPlatform","EXPANDO_KEY","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","initCanvas","renderHeight","getAttribute","renderWidth","displayWidth","displayHeight","eventListenerOptions","addListener","removeListener","fromNativeEvent","native","nodeListContains","nodeList","contains","createAttachObserver","observer","MutationObserver","entries","trigger","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","listenDevicePixelRatioChanges","unlistenDevicePixelRatioChanges","createResizeObserver","ResizeObserver","contentRect","releaseObserver","disconnect","createProxyAndListen","DomPlatform","removeAttribute","setAttribute","proxies","$proxies","handlers","attach","detach","isConnected","_detectPlatform","OffscreenCanvas","Element","tooltipPosition","hasValue","final","tickOpts","determinedMaxTicks","determineMaxTicks","ticksLimit","maxTicksLimit","majorIndices","enabled","getMajorIndices","numMajorIndices","first","newTicks","skipMajors","spacing","calculateSpacing","avgMajorSpacing","_tickSize","maxScale","maxChart","_maxLength","evenMajorSpacing","getEvenSpacing","factors","ceil","majorStart","majorEnd","reverseAlign","offsetFromEdge","getTicksLimit","ticksLength","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","garbageCollect","caches","gcLen","getTickMarkLength","getTitleHeight","createScaleContext","createTickContext","titleAlign","titleArgs","titleX","titleY","positionAxisID","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","suggestedMin","suggestedMax","metas","getTicks","xLabels","yLabels","getLabelItems","_computeLabelItems","beforeUpdate","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","afterAutoSkip","beforeFit","fit","afterFit","afterUpdate","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","minSize","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","_computeLabelSizes","widths","heights","jlen","tickFont","fontString","nestedLabel","widestLabelSize","highestLabelSize","_resolveTickFontOptions","valueAt","idx","decimal","getDecimalForPixel","getBaseValue","optionTicks","rot","_computeGridLineItems","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","limit","step","optsAtIndex","optsAtIndexBorder","lineColor","tickBorderDash","tickBorderDashOffset","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","tickTextAlign","labelPadding","_computeLabelArea","drawBackground","findIndex","drawGrid","drawLine","setLineDash","lineDashOffset","drawBorder","lastLineWidth","drawLabels","renderTextOptions","drawTitle","tz","gz","bz","axisID","_maxDigits","fontSize","TypedRegistry","isForType","isPrototypeOf","register","parentScope","isIChartComponent","registerDefaults","unregister","itemDefaults","defaultRoutes","routeDefaults","routes","propertyParts","sourceName","sourceScope","Registry","controllers","_typedRegistries","_each","addControllers","addPlugins","addScales","getController","_get","getElement","getPlugin","getScale","removeControllers","removeElements","removePlugins","removeScales","typedRegistry","arg","reg","_getRegistryForType","_exec","itemReg","registry","component","camelMethod","PluginService","_init","notify","hook","_createDescriptors","descriptor","plugin","cancelable","invalidate","_oldCache","_notifyStateChanges","allPlugins","createDescriptors","previousDescriptors","some","localIds","getOpts","pluginOpts","pluginScopeKeys","getIndexAxis","datasetDefaults","datasetOptions","getAxisFromDefaultScaleID","getDefaultScaleIDFromAxis","idMatchesAxis","axisFromPosition","determineAxis","scaleOptions","getAxisFromDataset","retrieveAxisFromDatasets","boundDs","mergeScaleConfig","chartDefaults","configScales","chartIndexAxis","scaleConf","error","defaultId","defaultScaleOptions","defaultID","initOptions","initData","initConfig","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","_config","_scopeCache","_resolverCache","clearCache","clear","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","needContext","subResolver","resolverCache","hasFunction","version","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","getCanvas","getElementById","instances","getChart","moveNumericKeys","intKey","determineLastEvent","lastEvent","inChartArea","isClick","getSizeForArea","field","getDatasetArea","Chart","invalidatePlugins","userConfig","initialCanvas","existingChart","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","resizeDelay","_initialize","bindEvents","_resizeBeforeDraw","_resize","newSize","newRatio","onResize","render","ensureScalesHaveIDs","scalesOptions","axisOptions","buildOrUpdateScales","scaleOpts","updated","isRadial","dposition","dtype","scaleType","scaleClass","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","isDatasetVisible","ControllerClass","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_minPadding","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","existingEvents","newEvents","unbindEvents","changes","_getUniformDataChanges","datasetCount","makeSet","changeSet","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","useClip","getElementsAtEventForMode","getVisibleDatasetCount","setDatasetVisibility","toggleDataVisibility","_updateVisibility","_stop","destroy","toBase64Image","toDataURL","bindUserEvents","bindResponsiveEvents","_add","_remove","detached","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","pluginId","replay","hoverOptions","deactivated","activated","eventFilter","_handleEvent","_getActiveElements","setStyle","lineCap","lineJoin","getLineMethod","stepped","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","fastPathSegment","prevX","minY","maxY","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","useFastPath","_getInterpolationMethod","strokePathWithCache","path","_path","Path2D","strokePathDirect","segmentMethod","usePath2D","LineElement","_points","_segments","_pointsUpdated","_interpolate","interpolated","inRange$1","hitRadius","PointElement","hoverBorderWidth","hoverRadius","mouseX","mouseY","inXRange","inYRange","getBarBounds","bar","half","skipOrLimit","parseBorderWidth","maxW","maxH","parseBorderRadius","borderRadius","maxR","enableBorder","boundingRects","outer","inner","skipX","skipY","skipBoth","hasRadius","addNormalRectPath","inflateRect","amount","refRect","BarElement","addRectPath","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","pointStyleWidth","itemHeight","itemsEqual","Legend","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","generateLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","row","legendItem","_itemHeight","heightLimit","totalWidth","currentColWidth","currentColHeight","col","calculateItemSize","adjustHitBoxes","rtlHelper","hitbox","_draw","defaultColor","halfFontSize","cursor","drawLegendBox","lineDash","drawOptions","SQRT2","centerX","centerY","yBoxTop","xBoxLeft","textDirection","fontColor","realX","fontLineHeight","calculateLegendItemHeight","titleFont","titlePadding","topPaddingPlusHalfFontSize","_getLegendItemAt","hitBox","lh","handleEvent","isListened","hoveredItem","sameItem","onLeave","calculateItemWidth","calculateItemHeight","legendItemText","plugin_legend","_element","_args","legend","afterEvent","ci","useBorderRadius","Title","_padding","textSize","_drawArgs","fontOpts","createTitle","titleBlock","plugin_title","WeakMap","positioners","average","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","String","createTooltipItem","formattedValue","getTooltipSize","tooltip","body","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","bodyLineHeight","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineYAlign","doesNotFitWithAlign","xAlign","caret","caretSize","caretPadding","determineXAlign","yAlign","chartWidth","determineAlignment","alignX","alignY","paddingAndSize","getBackgroundPoint","alignment","getAlignedX","getBeforeAfterBodyLines","createTooltipContext","tooltipItems","overrideCallbacks","defaultCallbacks","beforeTitle","labelCount","afterTitle","beforeLabel","tooltipItem","labelColor","labelTextColor","bodyColor","labelPointStyle","afterLabel","beforeFooter","afterFooter","invokeCallbackWithFallback","Tooltip","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","getTitle","getBeforeBody","getBody","bodyItems","scoped","getAfterBody","getFooter","_createItems","itemSort","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","_willRender","hasTooltipContent","globalAlpha","positionChanged","_positionChanged","_ignoreReplayEvents","plugin_tooltip","afterInit","afterDraw","addIfString","addedLabels","unshift","findOrAddLabel","lastIndexOf","_getLabelForValue","CategoryScale","_startValue","_valueRange","_addedLabels","added","generateTicks$1","generationOptions","dataRange","MIN_SPACING","precision","maxTicks","maxDigits","includeBounds","unit","maxSpaces","rmin","rmax","countDefined","minSpacing","niceMin","niceMax","numSpaces","decimalPlaces","relativeLabelSize","LinearScaleBase","_endValue","handleTickRangeOptions","setMin","setMax","minSign","maxSign","getTickLimit","stepSize","computeTickLimit","numericGeneratorOptions","LinearScale","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","adapter","_adapter","parser","isoWeekday","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","interval","MAX_SAFE_INTEGER","determineUnitForFormatting","determineMajorUnit","addTick","time","timestamps","timestamp","setMajorTicks","majorUnit","ticksFromTimestamps","TimeScale","displayFormats","_unit","_majorUnit","_offsets","_normalized","normalized","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_getLabelCapacity","initOffsets","offsetAfterAutoskip","getDecimalForValue","weekday","hasWeekday","getDataTimestamps","tooltipFormat","datetime","fmt","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","CommonProps","required","default","datasetIdKey","updateMode","Props","compatProps","internals","attrs","toRawIfProxy","cloneProxy","src","setOptions","nextOptions","setLabels","currentData","nextLabels","setDatasets","nextDatasets","addedDatasets","nextDataset","currentDataset","find","cloneData","nextData","setup","param","expose","canvasRef","chartRef","renderChart","clonedData","proxiedData","destroyChart","param1","nextOptionsProxy","nextDataProxy","prevOptionsProxy","prevDataProxy","shouldUpdate","prevOptions","prevLabels","prevDatasets","deep","ref","createTypedChart","registerables","reforwardRef","Bar","Line","ChartJS","components","_component_FullCalendar","calendarOptions","u","removeChild","children","defaultProps","__k","__","__b","__e","__d","__c","__h","__v","vnode","_","test","cssText","$","__r","debounceRendering","__P","__n","ownerSVGElement","nextSibling","q","appendChild","insertBefore","contextType","__E","state","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","diffed","localName","nodeType","createTextNode","createElementNS","createElement","is","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","checked","unmount","componentWillUnmount","firstChild","Consumer","Provider","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","bind","__H","__N","__V","cancelAnimationFrame","isPureReactComponent","__f","for","__u","__a","__R","__O","revealOrder","containerInfo","isReactComponent","cancelBubble","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","nn","tn","multiple","selected","className","$$typeof","en","styleTexts","styleEls","injectStyles","styleText","styleEl","appendStylesTo","ensureElHasStyles","registerStylesRoot","getRootNode","rootNode","querySelector","nonce","getNonceValue","parentEl","hydrateStylesRoot","sheet","ruleCnt","cssRules","styleStr","trim","insertRule","queriedNonceValue","queryNonceValue","metaWithNonce","hasAttribute","elWithNonce","css_248z","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","request","isPaused","tryDrain","pause","resume","force","depth","drained","removeElement","elementClosest","selector","closest","documentElement","elementMatches","parentElement","matchesSelector","msMatchesSelector","findElements","containers","HTMLElement","allMatches","querySelectorAll","PIXEL_PROP_RE","applyStyle","propName","applyStyleProp","getEventTargetViaRoot","ev","_a","_b","composedPath","guid$1","getUniqueDomId","buildDelegationHandler","matchedChild","listenBySelector","eventType","attachedHandler","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave","mouseLeaveEv","createAriaClickAttrs","createAriaKeyboardAttrs","tabIndex","onKeyDown","preventDefault","guidNumber","guid","parseFieldSpecs","token","specs","tokens","substring","func","compareByFieldSpecs","obj0","obj1","fieldSpecs","compareByFieldSpec","fieldSpec","flexibleCompare","localeCompare","padStart","substr","formatWithOrdinals","fallbackText","isInt","computeSmallestCellWidth","cellEl","allWidthEl","contentWidthEl","PARSE_RE","createDuration","parseString","parseObject","years","months","days","milliseconds","hours","minutes","seconds","ms","weeks","specifiedWeeks","durationsEqual","d0","d1","subtractDurations","asRoughYears","dur","asRoughDays","asRoughMonths","asRoughMs","greatestDurationDenominator","isArraysEqual","equalityFunc","DAY_IDS","addWeeks","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","valueOf","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","diffWholeWeeks","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","weekOfGivenYear","nextW","firstWeekStart","firstWeekOffset","dayStart","fwd","fwdlw","getUTCDay","dateToLocalArray","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","getUTCMilliseconds","UTC","isValidDate","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","formatTimeZoneOffset","formatDayString","formatIsoMonthStr","doIso","mins","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","memoizeObjArg","currentArg","newArg","isPropsEqual","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","weekTextLong","buildNativeFormattingFunc","sanitizeSettings","timeZone","zeroFormat","normalFormat","DateTimeFormat","codes","zeroProps","postProcess","injectTzoStr","toLocaleLowerCase","tzoStr","replaced","simpleNumberFormat","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","defaultAllDayEventDuration","defaultTimedEventDuration","nextDayThreshold","scrollTime","scrollTimeReset","Boolean","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","headerToolbar","footerToolbar","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","weekends","weekNumberCalculation","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","initialDate","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","defaultAllDay","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","moreLinkHint","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","fixedWeekCount","validRange","visibleRange","titleFormat","eventInteractive","noEventsText","viewHint","navLinkHint","closeHint","timeHint","eventHint","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","monthStartFormat","handleCustomRendering","customRenderingMetaMap","customRenderingReplaces","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","buttonHints","views","initialEvents","eventSources","COMPLEX_OPTION_COMPARATORS","isMaybeObjectsEqual","isMaybeArraysEqual","VIEW_OPTION_REFINERS","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","didMount","willUnmount","mergeRawOptions","optionSets","mergeProps","refineProps","refiners","refined","extra","propObjs","complexPropsMap","dest","complexObjs","filterHash","hash","filtered","mapHash","newHash","arrayToHash","hashValuesToArray","HANDLER_RE","isNonHandlerPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","ISO_RE","isTimeUnspecified","settings","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","createMarker","createMarkerMeta","createNowMarker","timestampToMarker","forcedTzo","getYear","getDay","subtract","addYears","addMonths","diffWholeYears","diffWholeMonths","greatestWholeUnit","countDurationsBetween","startOfYear","startOfMonth","startOfWeek","toDate","dateOptions","offsetForMarker","isEndExclusive","forcedStartTzo","forcedEndTzo","formatIso","extraOptions","omitTimeZoneOffset","omitTime","timestampToArray","getTimezoneOffset","offsetForArray","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","iconOverridePrefix","getClass","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","flushSync","runBeforeFlush","oldDebounceRendering","callbackQ","execCallbackSync","FakeComponent","ContextType","origProvider","isNew","subs","_props","old","ScrollResponder","execFunc","emitter","handleScrollRequest","queuedRequest","drain","on","fireInitialScroll","off","isDatesNew","ViewContextType","buildViewContext","viewSpec","viewApi","viewOptions","dateProfileGenerator","dateEnv","theme","pluginHooks","dispatch","getCurrentData","calendarApi","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","nextProps","nextState","debug","log","propEquality","stateEquality","safeSetState","newState","addPropsEquality","addStateEquality","BaseComponent","setRef","ContentInjector","queuedDomNodes","currentDomNodes","handleEl","generatorName","hasCustomRenderingHandler","updateElRef","elRef","customGenerator","defaultGenerator","renderProps","buildElAttrs","innerContent","currentGeneratorMeta","useDefault","customGeneratorRes","html","domNodes","elTag","applyQueueudDomNodes","triggerCustomRendering","isActive","generatorMeta","containerEl","reportNewContainerEl","elClasses","isTruthy","newNode","extraClassNames","elAttrs","elStyle","RenderId","ContentContainer","InnerContent","InnerContentInjector","didMountMisfire","generatedClassNames","generateClassNames","classNameGenerator","renderId","containerComponent","parentProps","ViewContainer","view","buildViewClassNames","parseRange","invertRanges","ranges","constraintRange","dateRange","invertedRanges","compareRanges","range0","range1","intersectRanges","newRange","rangesIntersect","rangeContainsMarker","constrainMarkerToRange","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","diffDates","date0","date1","largeUnit","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","DateProfileGenerator","nowDate","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","build","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","activeRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","currentRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","durationUnit","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","computeRes","isHiddenDay","skipHiddenDays","runningCount","visibleRangeInput","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","createEventInstance","defId","instanceId","parseRecurring","recurringTypes","allDay","allDayGuess","typeData","typeId","expandRecurring","eventStore","framingRange","defs","instance","recurringDef","def","starts","expandRecurringRanges","eventDef","typeDef","markers","expand","EVENT_NON_DATE_REFINERS","groupId","url","interactive","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","parseEvent","eventSource","allowOpenRange","buildEventRefiners","defIdMap","instanceIdMap","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","sourceId","singleRes","parseSingle","hasEnd","publicId","EVENT_UI_REFINERS","eventRefiners","ui","createEventUi","memberAdder","eventDefMemberAdders","startMeta","endMeta","startMarker","endMarker","startInput","parseEvents","rawEvents","createEmptyEventStore","rawEvent","tuple","eventTupleToStore","getRelevantEvents","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","startEditable","durationEditable","constraint","overlap","allow","EMPTY_EVENT_UI","constraints","allows","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","buildEventSourceRefiners","rawObj","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceEventStore","dateProfile","receiveRawEvents","fetchId","resetRawEvents","addEvent","excludeEventsBySourceId","subset","transformRawEvents","existingEventStore","buildPublicIdMaps","newEventStore","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","Emitter","thisContext","setThisContext","addToHash","removeFromHash","attachedHandlers","optionHandler","hasHandlers","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","rawDef","triggerDateSelect","selection","pev","buildDateSpanApiWithContext","jsEvent","origEvent","triggerDateUnselect","dateSpan","transform","dateSpanTransforms","buildDateSpanApi","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","compileEventUis","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","standardProps","startDelta","endDelta","copy","applier","eventDefMutationAppliers","eventInstance","forceAllDay","clearEnd","datesDelta","EventSourceImpl","internalEventSource","refetch","sourceIds","isRefetch","EventImpl","_def","_instance","setProp","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","deltaInput","moveEnd","moveDates","setAllDay","formatInput","relevantEvents","oldEvent","relatedEvents","buildEventApis","revert","asStore","eventApiToStore","startStr","endStr","toPlainObject","collapseColor","collapseExtendedProps","toJSON","eventApi","excludeInstance","eventApis","excludeInstanceId","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRange","fg","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","getSegAnchorAttrs","href","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","buildRangeApi","buildRangeApiWithTimeZone","fabricateEventRange","unpromisify","normalizedSuccessCallback","normalizedFailureCallback","isResolved","wrappedSuccess","wrappedFailure","JsonRequestError","message","response","requestJson","fetchOptions","URLSearchParams","headers","fetch","fetchRes","json","parsedResponse","canVGrowWithinCell","getCanVGrowWithinCell","computeCanVGrowWithinCell","div","possible","offsetHeight","CalendarRoot","forPrint","handleBeforePrint","handleAfterPrint","isHeightAuto","isHitComboAllowed","parseInteractionSettings","useEventCenter","interactionSettingsStore","CalendarImpl","currentDataManager","batchRendering","updateSize","setOption","optionName","rawOptionValue","getOption","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","handlerName","currentCalendarOptionsRefiners","changeView","viewType","dateOrRange","zoomTo","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","header","viewsWithButtons","singleUnit","prevYear","nextYear","today","gotoDate","zonedDateInput","incrementDate","formatDate","dateOrObj","endDate","selectionInput","dateSelection","eventInput","sourceInput","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","getEventById","getEvents","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","removeAllEventSources","refetchEvents","scrollToTime","timeInput","intersectRects","rect1","rect2","getDateMeta","isDisabled","isOther","getDayClassNames","DAY_FORMAT","WEEK_FORMAT","buildNavLinkAttrs","isTabbable","dateStr","zonedDate","handleInteraction","customAction","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","overflow","computeScrollbarWidthsForEl","offsetWidth","computeClippedClientRect","clippingParents","getClippingParents","clippingParent","intersection","parents","computedStyle","overflowY","overflowX","PositionCache","originEl","els","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","similarTo","otherCache","similarNumArrays","DateComponent","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","eventDrag","eventResize","isValidDateDownEl","SegHierarchy","getEntryThickness","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","hiddenEntries","insertEntry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","stackCnt","touchingEntry","splitEntry","barrier","partCnt","splitHiddenEntries","entrySpan","barrierSpan","intersectSpans","lateral","insertAt","level","buildEntryKey","newEntry","levelCnt","candidateCoord","touchingLevel","touchingLateral","trackingLevel","trackingCoord","trackingEntry","trackingEntries","searchRes","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","toRects","span0","span1","searchVal","getItemVal","middleIndex","middleVal","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","navLinkAttrs","colCnt","extraRenderProps","role","colSpan","extraDataAttrs","InnerContainer","isSticky","WEEKDAY_FORMAT","TableDowCell","dateMeta","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","prevProps","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","sliceEventStore","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","eventSelection","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","mutatedEvents","affectedInstances","affectedEvents","isEvent","activeDateSpanRange","eventRanges","sliceEventRange","isComponentAllDay","VISIBLE_HIDDEN_RE","Scroller","liquid","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","marginBottom","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","createRef","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","isHeader","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","colProps","sanitizeShrinkWidth","hasShrinkWidth","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","currentConfig","configCnt","configI","headSectionNodes","bodySectionNodes","footSectionNodes","renderSection","isBuggy","roleAttrs","outerContent","renderChunkTd","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","EventContainer","timeText","disableDragging","disableResizing","isDateSelecting","StandardEvent","defaultTimeFormat","renderInnerContent$1","eventContentArg","innerProps","DAY_NUM_FORMAT","DayCellContainer","refineRenderProps","isMonthStart","showDayNumber","hasCustomDayCellContent","dayNumberText","BgEvent","renderInnerContent","renderFill","fillType","WeekNumberContainer","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","titleId","handleRootEl","rootEl","handleDocumentMouseDown","handleCloseClick","handleDocumentKeyDown","onClose","extraAttrs","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin","offsetParent","MorePopover","startDate","forceTimed","extraDateSpan","dayEl","layer","MoreLinkContainer","isPopoverOpen","popoverId","handleLinkEl","linkEl","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","hint","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","Store","subscribe","CustomRenderingStore","handle","customRendering","globalLocales","MINIMAL_RAW_EN_LOCALE","code","list","RAW_EN_LOCALE","eventCnt","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","rawLocale","buildLocale","inputSingular","available","queryLocale","parseLocale","codeArg","queryRawLocale","simpleId","merged","createPlugin","premiumReleaseDate","deps","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","currentPluginIds","hooks","addDefs","pluginName","currentId","combineHooks","buildBuildPluginHooks","currentHooks","currentOverrideDefs","currentGlobalDefs","overrideDefs","hooks0","hooks1","compareOptionalDates","StandardTheme","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","rawOptions","parseViewConfigs","parseViewConfig","createViewHookComponent","viewProps","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","buttonTitleOverride","buttonHint","buttonTitleDefault","tableCellShaded","buttonGroup","button","buttonActive","close","durationInputMap","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","errorHandled","rawSources","rawSource","ignoreRange","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionWidgets","hasTitle","sectionName","sectionStr","sectionRes","parseSection","widgets","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","click","textFallback","prevOrNext","navUnit","ViewImpl","calendar","viewTitle","activeStart","activeEnd","currentStart","currentEnd","eventSourceDef$2","successCallback","arrayEventSourcePlugin","eventSourceDef$1","errorCallback","funcEventSourcePlugin","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputFound","unfoundSource","newInput","handleDateProfile","handleEventStore","globalPlugins","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildDateEnv$1","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","optionsForRefining","optionsForHandling","optionsData","computeOptionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","selectionConfig","contextAndState","reducer","computeIsLoading","resetOptions","changedOptionNames","isEventsLoading","eventUiSingleBase","eventUiBySource","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","stableOptionOverrides","stableDynamicOptionOverrides","stableCalendarOptionsData","refinedOptions","availableLocaleData","processRawCalendarOptions","warnUnknownOptions","currentRaw","currentRefined","anyChanges","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widget","isPressed","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","buttonClasses","groupClassName","Toolbar","startContent","endContent","model","extraClassName","forceLtr","centerContent","ViewHarness","updateAvailableWidth","handleResize","labeledById","EventClicking","handleSegClick","segEl","hasUrlContainer","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","headerRef","footerRef","interactionsStore","viewLabelId","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","resizeRunner","viewAspectRatio","toolbarProps","viewVGrow","viewContext","renderView","buildAppendContent","CalendarInteractionClass","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","Calendar","isRendering","isRendered","currentClassNames","customContentRenderId","handleAction","renderRunner","handleData","handleRenderRequest","setClassNames","setHeight","wasRendering","pauseRendering","resumeRendering","classList","OPTION_IS_COMPLEX","resources","FullCalendar","customRenderingMap","methods","getApi","getSecret","buildOptions","suppliedOptions","kebabToCamelKeys","$slots","customRenderingNodes","CustomRenderingComponent","mounted","customRenderingStore","$el","needCustomRenderingResize","beforeUnmount","watch","buildWatchers","inst","watchers","complexOptionName","newMap","kebabToCamel","word","capitalize","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableBlockEvent","TableListItemEvent","TableCellMoreLink","compileSegs","invisibleSegs","singlePlacements","isForcedInvisible","visibility","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","TableCell","rootElRef","dayNumberId","shouldDisplayMonthStart","renderTopInner","innerElRef","minHeight","showWeekNumber","forceDayTop","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","currentEndIncl","currentFirstYear","currentFirstMonth","currentLastYear","currentLastMonth","generateSegKey","generateSegUid","computeFgSegPlacement","segHeights","maxContentHeight","hierarchy","DayGridSegHierarchy","segEntry","segUid","hiddenConsumes","segInputs","unknownHeightSegs","eventHeight","segRects","singleColPlacements","multiColPlacements","leftoverMargins","placeRects","moreCnts","moreMarginTops","absoluteTop","resliceSeg","hiddenEntry","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","currentHeight","currentMarginTop","multiPlacements","isFirstCol","spanStart","spanEnd","forceHidden","excludeHidden","touchingEntryId","placeholderEntry","placeholderEntryId","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","isForced","updateSizing","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","cellMinHeight","prevState","currentProps","segPlacements","nodes","leftRightCss","isExternalSizingChange","frameEls","newPositionCache","oldSegHeights","newSegHeights","querySegHeights","limitByContentHeight","computeMaxContentHeight","segElMap","firstKey","fcContainerEl","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","placements","TableRows","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","splitEventDrag","splitEventResize","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","renderRowIntro","isSegAllDay","firstCellEl","rowPositions","rowObj","colPositions","getCellRange","getCellEl","Table","needsScrollReset","limitViaBalanced","colGroupNode","requestScrollReset","flushScrollReset","subjectEl","getScrollSubjectEl","scrollEl","scrollTop","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","headerAlignElRef","DayTableView","buildDayTableModel","headerContent","contentArg","TableDateProfileGenerator","buildDayTableRenderRange","snapToWeek","endOfWeek","lastMonthRenderStart","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","dayGridYear","dayGridPlugin","Infor","Case","Q1"],"sourceRoot":""}